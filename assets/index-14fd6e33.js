function _mergeNamespaces(a,o){for(var s=0;s<o.length;s++){const $=o[s];if(typeof $!="string"&&!Array.isArray($)){for(const j in $)if(j!=="default"&&!(j in a)){const _e=Object.getOwnPropertyDescriptor($,j);_e&&Object.defineProperty(a,j,_e.get?_e:{enumerable:!0,get:()=>$[j]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))$(j);new MutationObserver(j=>{for(const _e of j)if(_e.type==="childList")for(const et of _e.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&$(et)}).observe(document,{childList:!0,subtree:!0});function s(j){const _e={};return j.integrity&&(_e.integrity=j.integrity),j.referrerPolicy&&(_e.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?_e.credentials="include":j.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function $(j){if(j.ep)return;j.ep=!0;const _e=s(j);fetch(j.href,_e)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var o=a.default;if(typeof o=="function"){var s=function $(){if(this instanceof $){var j=[null];j.push.apply(j,arguments);var _e=Function.bind.apply(o,j);return new _e}return o.apply(this,arguments)};s.prototype=o.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function($){var j=Object.getOwnPropertyDescriptor(a,$);Object.defineProperty(s,$,j.get?j:{enumerable:!0,get:function(){return a[$]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(a){return a===null||typeof a!="object"?null:(a=z$2&&a[z$2]||a["@@iterator"],typeof a=="function"?a:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(a,o,s){this.props=a,this.context=o,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(a,o){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,o,"setState")};E$1.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(a,o,s){this.props=a,this.context=o,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(a,o,s){var $,j={},_e=null,et=null;if(o!=null)for($ in o.ref!==void 0&&(et=o.ref),o.key!==void 0&&(_e=""+o.key),o)J.call(o,$)&&!L$1.hasOwnProperty($)&&(j[$]=o[$]);var tt=arguments.length-2;if(tt===1)j.children=s;else if(1<tt){for(var rt=Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt+2];j.children=rt}if(a&&a.defaultProps)for($ in tt=a.defaultProps,tt)j[$]===void 0&&(j[$]=tt[$]);return{$$typeof:l$4,type:a,key:_e,ref:et,props:j,_owner:K$1.current}}function N$1(a,o){return{$$typeof:l$4,type:a.type,key:o,ref:a.ref,props:a.props,_owner:a._owner}}function O$1(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$4}function escape(a){var o={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(s){return o[s]})}var P$1=/\/+/g;function Q$1(a,o){return typeof a=="object"&&a!==null&&a.key!=null?escape(""+a.key):o.toString(36)}function R$2(a,o,s,$,j){var _e=typeof a;(_e==="undefined"||_e==="boolean")&&(a=null);var et=!1;if(a===null)et=!0;else switch(_e){case"string":case"number":et=!0;break;case"object":switch(a.$$typeof){case l$4:case n$5:et=!0}}if(et)return et=a,j=j(et),a=$===""?"."+Q$1(et,0):$,I$1(j)?(s="",a!=null&&(s=a.replace(P$1,"$&/")+"/"),R$2(j,o,s,"",function(nt){return nt})):j!=null&&(O$1(j)&&(j=N$1(j,s+(!j.key||et&&et.key===j.key?"":(""+j.key).replace(P$1,"$&/")+"/")+a)),o.push(j)),1;if(et=0,$=$===""?".":$+":",I$1(a))for(var tt=0;tt<a.length;tt++){_e=a[tt];var rt=$+Q$1(_e,tt);et+=R$2(_e,o,s,rt,j)}else if(rt=A$2(a),typeof rt=="function")for(a=rt.call(a),tt=0;!(_e=a.next()).done;)_e=_e.value,rt=$+Q$1(_e,tt++),et+=R$2(_e,o,s,rt,j);else if(_e==="object")throw o=String(a),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return et}function S$1(a,o,s){if(a==null)return a;var $=[],j=0;return R$2(a,$,"","",function(_e){return o.call(s,_e,j++)}),$}function T$1(a){if(a._status===-1){var o=a._result;o=o(),o.then(function(s){(a._status===0||a._status===-1)&&(a._status=1,a._result=s)},function(s){(a._status===0||a._status===-1)&&(a._status=2,a._result=s)}),a._status===-1&&(a._status=0,a._result=o)}if(a._status===1)return a._result.default;throw a._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(a,o,s){S$1(a,function(){o.apply(this,arguments)},s)},count:function(a){var o=0;return S$1(a,function(){o++}),o},toArray:function(a){return S$1(a,function(o){return o})||[]},only:function(a){if(!O$1(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$1;react_production_min.Fragment=p$6;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(a,o,s){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var $=C$1({},a.props),j=a.key,_e=a.ref,et=a._owner;if(o!=null){if(o.ref!==void 0&&(_e=o.ref,et=K$1.current),o.key!==void 0&&(j=""+o.key),a.type&&a.type.defaultProps)var tt=a.type.defaultProps;for(rt in o)J.call(o,rt)&&!L$1.hasOwnProperty(rt)&&($[rt]=o[rt]===void 0&&tt!==void 0?tt[rt]:o[rt])}var rt=arguments.length-2;if(rt===1)$.children=s;else if(1<rt){tt=Array(rt);for(var nt=0;nt<rt;nt++)tt[nt]=arguments[nt+2];$.children=tt}return{$$typeof:l$4,type:a.type,key:j,ref:_e,props:$,_owner:et}};react_production_min.createContext=function(a){return a={$$typeof:u$3,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t$4,_context:a},a.Consumer=a};react_production_min.createElement=M$1;react_production_min.createFactory=function(a){var o=M$1.bind(null,a);return o.type=a,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$4,render:a}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(a){return{$$typeof:y$1,_payload:{_status:-1,_result:a},_init:T$1}};react_production_min.memo=function(a,o){return{$$typeof:x$1,type:a,compare:o===void 0?null:o}};react_production_min.startTransition=function(a){var o=V$1.transition;V$1.transition={};try{a()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(a,o){return U$1.current.useCallback(a,o)};react_production_min.useContext=function(a){return U$1.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$1.current.useDeferredValue(a)};react_production_min.useEffect=function(a,o){return U$1.current.useEffect(a,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(a,o,s){return U$1.current.useImperativeHandle(a,o,s)};react_production_min.useInsertionEffect=function(a,o){return U$1.current.useInsertionEffect(a,o)};react_production_min.useLayoutEffect=function(a,o){return U$1.current.useLayoutEffect(a,o)};react_production_min.useMemo=function(a,o){return U$1.current.useMemo(a,o)};react_production_min.useReducer=function(a,o,s){return U$1.current.useReducer(a,o,s)};react_production_min.useRef=function(a){return U$1.current.useRef(a)};react_production_min.useState=function(a){return U$1.current.useState(a)};react_production_min.useSyncExternalStore=function(a,o,s){return U$1.current.useSyncExternalStore(a,o,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$3=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$4=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$4(a,o,s){var $,j={},_e=null,et=null;s!==void 0&&(_e=""+s),o.key!==void 0&&(_e=""+o.key),o.ref!==void 0&&(et=o.ref);for($ in o)m$4.call(o,$)&&!p$5.hasOwnProperty($)&&(j[$]=o[$]);if(a&&a.defaultProps)for($ in o=a.defaultProps,o)j[$]===void 0&&(j[$]=o[$]);return{$$typeof:k$3,type:a,key:_e,ref:et,props:j,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function o(Ot,zt){var jt=Ot.length;Ot.push(zt);e:for(;0<jt;){var Gt=jt-1>>>1,Yt=Ot[Gt];if(0<j(Yt,zt))Ot[Gt]=zt,Ot[jt]=Yt,jt=Gt;else break e}}function s(Ot){return Ot.length===0?null:Ot[0]}function $(Ot){if(Ot.length===0)return null;var zt=Ot[0],jt=Ot.pop();if(jt!==zt){Ot[0]=jt;e:for(var Gt=0,Yt=Ot.length,nr=Yt>>>1;Gt<nr;){var ar=2*(Gt+1)-1,ur=Ot[ar],At=ar+1,xt=Ot[At];if(0>j(ur,jt))At<Yt&&0>j(xt,ur)?(Ot[Gt]=xt,Ot[At]=jt,Gt=At):(Ot[Gt]=ur,Ot[ar]=jt,Gt=ar);else if(At<Yt&&0>j(xt,jt))Ot[Gt]=xt,Ot[At]=jt,Gt=At;else break e}}return zt}function j(Ot,zt){var jt=Ot.sortIndex-zt.sortIndex;return jt!==0?jt:Ot.id-zt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;a.unstable_now=function(){return _e.now()}}else{var et=Date,tt=et.now();a.unstable_now=function(){return et.now()-tt}}var rt=[],nt=[],it=1,ot=null,at=3,ut=!1,ht=!1,pt=!1,Ct=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt(Ot){for(var zt=s(nt);zt!==null;){if(zt.callback===null)$(nt);else if(zt.startTime<=Ot)$(nt),zt.sortIndex=zt.expirationTime,o(rt,zt);else break;zt=s(nt)}}function St(Ot){if(pt=!1,gt(Ot),!ht)if(s(rt)!==null)ht=!0,er(It);else{var zt=s(nt);zt!==null&&rr(St,zt.startTime-Ot)}}function It(Ot,zt){ht=!1,pt&&(pt=!1,lt(yt),yt=-1),ut=!0;var jt=at;try{for(gt(zt),ot=s(rt);ot!==null&&(!(ot.expirationTime>zt)||Ot&&!Dt());){var Gt=ot.callback;if(typeof Gt=="function"){ot.callback=null,at=ot.priorityLevel;var Yt=Gt(ot.expirationTime<=zt);zt=a.unstable_now(),typeof Yt=="function"?ot.callback=Yt:ot===s(rt)&&$(rt),gt(zt)}else $(rt);ot=s(rt)}if(ot!==null)var nr=!0;else{var ar=s(nt);ar!==null&&rr(St,ar.startTime-zt),nr=!1}return nr}finally{ot=null,at=jt,ut=!1}}var vt=!1,dt=null,yt=-1,Rt=5,Pt=-1;function Dt(){return!(a.unstable_now()-Pt<Rt)}function Ft(){if(dt!==null){var Ot=a.unstable_now();Pt=Ot;var zt=!0;try{zt=dt(!0,Ot)}finally{zt?Kt():(vt=!1,dt=null)}}else vt=!1}var Kt;if(typeof ft=="function")Kt=function(){ft(Ft)};else if(typeof MessageChannel<"u"){var qt=new MessageChannel,Zt=qt.port2;qt.port1.onmessage=Ft,Kt=function(){Zt.postMessage(null)}}else Kt=function(){Ct(Ft,0)};function er(Ot){dt=Ot,vt||(vt=!0,Kt())}function rr(Ot,zt){yt=Ct(function(){Ot(a.unstable_now())},zt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Ot){Ot.callback=null},a.unstable_continueExecution=function(){ht||ut||(ht=!0,er(It))},a.unstable_forceFrameRate=function(Ot){0>Ot||125<Ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rt=0<Ot?Math.floor(1e3/Ot):5},a.unstable_getCurrentPriorityLevel=function(){return at},a.unstable_getFirstCallbackNode=function(){return s(rt)},a.unstable_next=function(Ot){switch(at){case 1:case 2:case 3:var zt=3;break;default:zt=at}var jt=at;at=zt;try{return Ot()}finally{at=jt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Ot,zt){switch(Ot){case 1:case 2:case 3:case 4:case 5:break;default:Ot=3}var jt=at;at=Ot;try{return zt()}finally{at=jt}},a.unstable_scheduleCallback=function(Ot,zt,jt){var Gt=a.unstable_now();switch(typeof jt=="object"&&jt!==null?(jt=jt.delay,jt=typeof jt=="number"&&0<jt?Gt+jt:Gt):jt=Gt,Ot){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=jt+Yt,Ot={id:it++,callback:zt,priorityLevel:Ot,startTime:jt,expirationTime:Yt,sortIndex:-1},jt>Gt?(Ot.sortIndex=jt,o(nt,Ot),s(rt)===null&&Ot===s(nt)&&(pt?(lt(yt),yt=-1):pt=!0,rr(St,jt-Gt))):(Ot.sortIndex=Yt,o(rt,Ot),ht||ut||(ht=!0,er(It))),Ot},a.unstable_shouldYield=Dt,a.unstable_wrapCallback=function(Ot){var zt=at;return function(){var jt=at;at=zt;try{return Ot.apply(this,arguments)}finally{at=jt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,o){ha(a,o),ha(a+"Capture",o)}function ha(a,o){for(ea[a]=o,a=0;a<o.length;a++)da.add(o[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,o,s,$){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return $?!1:s!==null?!s.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,o,s,$){if(o===null||typeof o>"u"||pa(a,o,s,$))return!0;if($)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$3(a,o,s,$,j,_e,et){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=$,this.attributeNamespace=j,this.mustUseProperty=s,this.propertyName=a,this.type=o,this.sanitizeURL=_e,this.removeEmptyString=et}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z$1[a]=new v$3(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];z$1[o]=new v$3(o,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z$1[a]=new v$3(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z$1[a]=new v$3(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z$1[a]=new v$3(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z$1[a]=new v$3(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z$1[a]=new v$3(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z$1[a]=new v$3(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z$1[a]=new v$3(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(ra,sa);z$1[o]=new v$3(o,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(ra,sa);z$1[o]=new v$3(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(ra,sa);z$1[o]=new v$3(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z$1[a]=new v$3(a,1,!1,a.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z$1[a]=new v$3(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,o,s,$){var j=z$1.hasOwnProperty(o)?z$1[o]:null;(j!==null?j.type!==0:$||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,s,j,$)&&(s=null),$||j===null?oa(o)&&(s===null?a.removeAttribute(o):a.setAttribute(o,""+s)):j.mustUseProperty?a[j.propertyName]=s===null?j.type===3?!1:"":s:(o=j.attributeName,$=j.attributeNamespace,s===null?a.removeAttribute(o):(j=j.type,s=j===3||j===4&&s===!0?"":""+s,$?a.setAttributeNS($,o,s):a.setAttribute(o,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A$1=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+a}var Na=!1;function Oa(a,o){if(!a||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(nt){var $=nt}Reflect.construct(a,[],o)}else{try{o.call()}catch(nt){$=nt}a.call(o.prototype)}else{try{throw Error()}catch(nt){$=nt}a()}}catch(nt){if(nt&&$&&typeof nt.stack=="string"){for(var j=nt.stack.split(`
`),_e=$.stack.split(`
`),et=j.length-1,tt=_e.length-1;1<=et&&0<=tt&&j[et]!==_e[tt];)tt--;for(;1<=et&&0<=tt;et--,tt--)if(j[et]!==_e[tt]){if(et!==1||tt!==1)do if(et--,tt--,0>tt||j[et]!==_e[tt]){var rt=`
`+j[et].replace(" at new "," at ");return a.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",a.displayName)),rt}while(1<=et&&0<=tt);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return o=a.displayName||null,o!==null?o:Qa(a.type)||"Memo";case Ha:o=a._payload,a=a._init;try{return Qa(a(o))}catch{}}return null}function Ra(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(a){var o=Ta(a)?"checked":"value",s=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),$=""+a[o];if(!a.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var j=s.get,_e=s.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return j.call(this)},set:function(et){$=""+et,_e.call(this,et)}}),Object.defineProperty(a,o,{enumerable:s.enumerable}),{getValue:function(){return $},setValue:function(et){$=""+et},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var s=o.getValue(),$="";return a&&($=Ta(a)?a.checked?"true":"false":a.value),a=$,a!==s?(o.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,o){var s=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??a._wrapperState.initialChecked})}function Za(a,o){var s=o.defaultValue==null?"":o.defaultValue,$=o.checked!=null?o.checked:o.defaultChecked;s=Sa(o.value!=null?o.value:s),a._wrapperState={initialChecked:$,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(a,o){o=o.checked,o!=null&&ta(a,"checked",o,!1)}function bb(a,o){ab(a,o);var s=Sa(o.value),$=o.type;if(s!=null)$==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+s):a.value!==""+s&&(a.value=""+s);else if($==="submit"||$==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?cb(a,o.type,s):o.hasOwnProperty("defaultValue")&&cb(a,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function db(a,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var $=o.type;if(!($!=="submit"&&$!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,s||o===a.value||(a.value=o),a.defaultValue=o}s=a.name,s!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,s!==""&&(a.name=s)}function cb(a,o,s){(o!=="number"||Xa(a.ownerDocument)!==a)&&(s==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+s&&(a.defaultValue=""+s))}var eb=Array.isArray;function fb(a,o,s,$){if(a=a.options,o){o={};for(var j=0;j<s.length;j++)o["$"+s[j]]=!0;for(s=0;s<a.length;s++)j=o.hasOwnProperty("$"+a[s].value),a[s].selected!==j&&(a[s].selected=j),j&&$&&(a[s].defaultSelected=!0)}else{for(s=""+Sa(s),o=null,j=0;j<a.length;j++){if(a[j].value===s){a[j].selected=!0,$&&(a[j].defaultSelected=!0);return}o!==null||a[j].disabled||(o=a[j])}o!==null&&(o.selected=!0)}}function gb(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(p$4(92));if(eb(s)){if(1<s.length)throw Error(p$4(93));s=s[0]}o=s}o==null&&(o=""),s=o}a._wrapperState={initialValue:Sa(s)}}function ib(a,o){var s=Sa(o.value),$=Sa(o.defaultValue);s!=null&&(s=""+s,s!==a.value&&(a.value=s),o.defaultValue==null&&a.defaultValue!==s&&(a.defaultValue=s)),$!=null&&(a.defaultValue=""+$)}function jb(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,$,j){MSApp.execUnsafeLocalFunction(function(){return a(o,s,$,j)})}:a}(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function ob(a,o){if(o){var s=a.firstChild;if(s&&s===a.lastChild&&s.nodeType===3){s.nodeValue=o;return}}a.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),pb[o]=pb[a]})});function rb(a,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||pb.hasOwnProperty(a)&&pb[a]?(""+o).trim():o+"px"}function sb(a,o){a=a.style;for(var s in o)if(o.hasOwnProperty(s)){var $=s.indexOf("--")===0,j=rb(s,o[s],$);s==="float"&&(s="cssFloat"),$?a.setProperty(s,j):a[s]=j}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,o){if(o){if(tb[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$4(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$4(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$4(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$4(62))}}function vb(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p$4(280));var o=a.stateNode;o&&(o=Db(o),yb(a.stateNode,a.type,o))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,o=Ab;if(Ab=zb=null,Bb(a),o)for(a=0;a<o.length;a++)Bb(o[a])}}function Gb(a,o){return a(o)}function Hb(){}var Ib=!1;function Jb(a,o,s){if(Ib)return a(o,s);Ib=!0;try{return Gb(a,o,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,o){var s=a.stateNode;if(s===null)return null;var $=Db(s);if($===null)return null;s=$[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(a=a.type,$=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!$;break e;default:a=!1}if(a)return null;if(s&&typeof s!="function")throw Error(p$4(231,o,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a,o,s,$,j,_e,et,tt,rt){var nt=Array.prototype.slice.call(arguments,3);try{o.apply(s,nt)}catch(it){this.onError(it)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,o,s,$,j,_e,et,tt,rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(a,o,s,$,j,_e,et,tt,rt){if(Tb.apply(this,arguments),Ob){if(Ob){var nt=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=nt)}}function Vb(a){var o=a,s=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(s=o.return),a=o.return;while(a)}return o.tag===3?s:null}function Wb(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p$4(188))}function Yb(a){var o=a.alternate;if(!o){if(o=Vb(a),o===null)throw Error(p$4(188));return o!==a?null:a}for(var s=a,$=o;;){var j=s.return;if(j===null)break;var _e=j.alternate;if(_e===null){if($=j.return,$!==null){s=$;continue}break}if(j.child===_e.child){for(_e=j.child;_e;){if(_e===s)return Xb(j),a;if(_e===$)return Xb(j),o;_e=_e.sibling}throw Error(p$4(188))}if(s.return!==$.return)s=j,$=_e;else{for(var et=!1,tt=j.child;tt;){if(tt===s){et=!0,s=j,$=_e;break}if(tt===$){et=!0,$=j,s=_e;break}tt=tt.sibling}if(!et){for(tt=_e.child;tt;){if(tt===s){et=!0,s=_e,$=j;break}if(tt===$){et=!0,$=_e,s=j;break}tt=tt.sibling}if(!et)throw Error(p$4(189))}}if(s.alternate!==$)throw Error(p$4(190))}if(s.tag!==3)throw Error(p$4(188));return s.stateNode.current===s?a:o}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=$b(a);if(o!==null)return o;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,o){var s=a.pendingLanes;if(s===0)return 0;var $=0,j=a.suspendedLanes,_e=a.pingedLanes,et=s&268435455;if(et!==0){var tt=et&~j;tt!==0?$=tc(tt):(_e&=et,_e!==0&&($=tc(_e)))}else et=s&~j,et!==0?$=tc(et):_e!==0&&($=tc(_e));if($===0)return 0;if(o!==0&&o!==$&&!(o&j)&&(j=$&-$,_e=o&-o,j>=_e||j===16&&(_e&4194240)!==0))return o;if($&4&&($|=s&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=$;0<o;)s=31-oc(o),j=1<<s,$|=a[s],o&=~j;return $}function vc(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,o){for(var s=a.suspendedLanes,$=a.pingedLanes,j=a.expirationTimes,_e=a.pendingLanes;0<_e;){var et=31-oc(_e),tt=1<<et,rt=j[et];rt===-1?(!(tt&s)||tt&$)&&(j[et]=vc(tt,o)):rt<=o&&(a.expiredLanes|=tt),_e&=~tt}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var o=[],s=0;31>s;s++)o.push(a);return o}function Ac(a,o,s){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-oc(o),a[o]=s}function Bc(a,o){var s=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var $=a.eventTimes;for(a=a.expirationTimes;0<s;){var j=31-oc(s),_e=1<<j;o[j]=0,$[j]=-1,a[j]=-1,s&=~_e}}function Cc(a,o){var s=a.entangledLanes|=o;for(a=a.entanglements;s;){var $=31-oc(s),j=1<<$;j&o|a[$]&o&&(a[$]|=o),s&=~j}}var C=0;function Dc(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,o){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(a,o,s,$,j,_e){return a===null||a.nativeEvent!==_e?(a={blockedOn:o,domEventName:s,eventSystemFlags:$,nativeEvent:_e,targetContainers:[j]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),a):(a.eventSystemFlags|=$,o=a.targetContainers,j!==null&&o.indexOf(j)===-1&&o.push(j),a)}function Uc(a,o,s,$,j){switch(o){case"focusin":return Lc=Tc(Lc,a,o,s,$,j),!0;case"dragenter":return Mc=Tc(Mc,a,o,s,$,j),!0;case"mouseover":return Nc=Tc(Nc,a,o,s,$,j),!0;case"pointerover":var _e=j.pointerId;return Oc.set(_e,Tc(Oc.get(_e)||null,a,o,s,$,j)),!0;case"gotpointercapture":return _e=j.pointerId,Pc.set(_e,Tc(Pc.get(_e)||null,a,o,s,$,j)),!0}return!1}function Vc(a){var o=Wc(a.target);if(o!==null){var s=Vb(o);if(s!==null){if(o=s.tag,o===13){if(o=Wb(s),o!==null){a.blockedOn=o,Ic(a.priority,function(){Gc(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){a.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var s=Yc(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(s===null){s=a.nativeEvent;var $=new s.constructor(s.type,s);wb=$,s.target.dispatchEvent($),wb=null}else return o=Cb(s),o!==null&&Fc(o),a.blockedOn=s,!1;o.shift()}return!0}function Zc(a,o,s){Xc(a)&&s.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,o){a.blockedOn===o&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function o(j){return ad(j,a)}if(0<Kc.length){ad(Kc[0],a);for(var s=1;s<Kc.length;s++){var $=Kc[s];$.blockedOn===a&&($.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(o),Pc.forEach(o),s=0;s<Qc.length;s++)$=Qc[s],$.blockedOn===a&&($.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,o,s,$){var j=C,_e=cd.transition;cd.transition=null;try{C=1,fd(a,o,s,$)}finally{C=j,cd.transition=_e}}function gd(a,o,s,$){var j=C,_e=cd.transition;cd.transition=null;try{C=4,fd(a,o,s,$)}finally{C=j,cd.transition=_e}}function fd(a,o,s,$){if(dd){var j=Yc(a,o,s,$);if(j===null)hd(a,o,$,id,s),Sc(a,$);else if(Uc(j,a,o,s,$))$.stopPropagation();else if(Sc(a,$),o&4&&-1<Rc.indexOf(a)){for(;j!==null;){var _e=Cb(j);if(_e!==null&&Ec(_e),_e=Yc(a,o,s,$),_e===null&&hd(a,o,$,id,s),_e===j)break;j=_e}j!==null&&$.stopPropagation()}else hd(a,o,$,null,s)}}var id=null;function Yc(a,o,s,$){if(id=null,a=xb($),a=Wc(a),a!==null)if(o=Vb(a),o===null)a=null;else if(s=o.tag,s===13){if(a=Wb(o),a!==null)return a;a=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return id=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,o=ld,s=o.length,$,j="value"in kd?kd.value:kd.textContent,_e=j.length;for(a=0;a<s&&o[a]===j[a];a++);var et=s-a;for($=1;$<=et&&o[s-$]===j[_e-$];$++);return md=j.slice(a,1<$?1-$:void 0)}function od(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function o(s,$,j,_e,et){this._reactName=s,this._targetInst=j,this.type=$,this.nativeEvent=_e,this.target=et,this.currentTarget=null;for(var tt in a)a.hasOwnProperty(tt)&&(s=a[tt],this[tt]=s?s(_e):_e[tt]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Od[a])?!!o[a]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(a){if(a.key){var o=Md[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(a,o){switch(a){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie=!1;function je(a,o){switch(a){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return a=o.data,a===ee&&fe?null:a;default:return null}}function ke(a,o){if(ie)return a==="compositionend"||!ae&&ge(a,o)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!le[a.type]:o==="textarea"}function ne(a,o,s,$){Eb($),o=oe(o,"onChange"),0<o.length&&(s=new td("onChange","change",null,s,$),a.push({event:s,listeners:o}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var o=ue(a);if(Wa(o))return a}function ve(a,o){if(a==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if(a.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,a,xb(a)),Jb(re,o)}}function Ce(a,o,s){a==="focusin"?(Ae(),pe=o,qe=s,pe.attachEvent("onpropertychange",Be)):a==="focusout"&&Ae()}function De(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee(a,o){if(a==="click")return te(o)}function Fe(a,o){if(a==="input"||a==="change")return te(o)}function Ge(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(a,o){if(He(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var s=Object.keys(a),$=Object.keys(o);if(s.length!==$.length)return!1;for($=0;$<s.length;$++){var j=s[$];if(!ja.call(o,j)||!He(a[j],o[j]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke(a,o){var s=Je(a);a=0;for(var $;s;){if(s.nodeType===3){if($=a+s.textContent.length,a<=o&&$>=o)return{node:s,offset:o-a};a=$}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Le(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var a=window,o=Xa();o instanceof a.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)a=o.contentWindow;else break;o=Xa(a.document)}return o}function Ne(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function Oe(a){var o=Me(),s=a.focusedElem,$=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if($!==null&&Ne(s)){if(o=$.start,a=$.end,a===void 0&&(a=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(a,s.value.length);else if(a=(o=s.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var j=s.textContent.length,_e=Math.min($.start,j);$=$.end===void 0?_e:Math.min($.end,j),!a.extend&&_e>$&&(j=$,$=_e,_e=j),j=Ke(s,_e);var et=Ke(s,$);j&&et&&(a.rangeCount!==1||a.anchorNode!==j.node||a.anchorOffset!==j.offset||a.focusNode!==et.node||a.focusOffset!==et.offset)&&(o=o.createRange(),o.setStart(j.node,j.offset),a.removeAllRanges(),_e>$?(a.addRange(o),a.extend(et.node,et.offset)):(o.setEnd(et.node,et.offset),a.addRange(o)))}}for(o=[],a=s;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)a=o[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(a,o,s){var $=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa($)||($=Qe,"selectionStart"in $&&Ne($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),Se&&Ie(Se,$)||(Se=$,$=oe(Re,"onSelect"),0<$.length&&(o=new td("onSelect","select",null,o,s),a.push({event:o,listeners:$}),o.target=Qe)))}function Ve(a,o){var s={};return s[a.toLowerCase()]=o.toLowerCase(),s["Webkit"+a]="webkit"+o,s["Moz"+a]="moz"+o,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var o=We[a],s;for(s in o)if(o.hasOwnProperty(s)&&s in Ye)return Xe[a]=o[s];return a}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,o){df.set(a,o),fa(o,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,o,s){var $=a.type||"unknown-event";a.currentTarget=s,Ub($,o,void 0,a),a.currentTarget=null}function se(a,o){o=(o&4)!==0;for(var s=0;s<a.length;s++){var $=a[s],j=$.event;$=$.listeners;e:{var _e=void 0;if(o)for(var et=$.length-1;0<=et;et--){var tt=$[et],rt=tt.instance,nt=tt.currentTarget;if(tt=tt.listener,rt!==_e&&j.isPropagationStopped())break e;nf(j,tt,nt),_e=rt}else for(et=0;et<$.length;et++){if(tt=$[et],rt=tt.instance,nt=tt.currentTarget,tt=tt.listener,rt!==_e&&j.isPropagationStopped())break e;nf(j,tt,nt),_e=rt}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D(a,o){var s=o[of];s===void 0&&(s=o[of]=new Set);var $=a+"__bubble";s.has($)||(pf(o,a,2,!1),s.add($))}function qf(a,o,s){var $=0;o&&($|=4),pf(s,a,$,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,a),qf(s,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(a,o,s,$){switch(jd(o)){case 1:var j=ed;break;case 4:j=gd;break;default:j=fd}s=j.bind(null,o,s,a),j=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(j=!0),$?j!==void 0?a.addEventListener(o,s,{capture:!0,passive:j}):a.addEventListener(o,s,!0):j!==void 0?a.addEventListener(o,s,{passive:j}):a.addEventListener(o,s,!1)}function hd(a,o,s,$,j){var _e=$;if(!(o&1)&&!(o&2)&&$!==null)e:for(;;){if($===null)return;var et=$.tag;if(et===3||et===4){var tt=$.stateNode.containerInfo;if(tt===j||tt.nodeType===8&&tt.parentNode===j)break;if(et===4)for(et=$.return;et!==null;){var rt=et.tag;if((rt===3||rt===4)&&(rt=et.stateNode.containerInfo,rt===j||rt.nodeType===8&&rt.parentNode===j))return;et=et.return}for(;tt!==null;){if(et=Wc(tt),et===null)return;if(rt=et.tag,rt===5||rt===6){$=_e=et;continue e}tt=tt.parentNode}}$=$.return}Jb(function(){var nt=_e,it=xb(s),ot=[];e:{var at=df.get(a);if(at!==void 0){var ut=td,ht=a;switch(a){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":ut=Rd;break;case"focusin":ht="focus",ut=Fd;break;case"focusout":ht="blur",ut=Fd;break;case"beforeblur":case"afterblur":ut=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Vd;break;case $e:case af:case bf:ut=Hd;break;case cf:ut=Xd;break;case"scroll":ut=vd;break;case"wheel":ut=Zd;break;case"copy":case"cut":case"paste":ut=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Td}var pt=(o&4)!==0,Ct=!pt&&a==="scroll",lt=pt?at!==null?at+"Capture":null:at;pt=[];for(var ft=nt,gt;ft!==null;){gt=ft;var St=gt.stateNode;if(gt.tag===5&&St!==null&&(gt=St,lt!==null&&(St=Kb(ft,lt),St!=null&&pt.push(tf(ft,St,gt)))),Ct)break;ft=ft.return}0<pt.length&&(at=new ut(at,ht,null,s,it),ot.push({event:at,listeners:pt}))}}if(!(o&7)){e:{if(at=a==="mouseover"||a==="pointerover",ut=a==="mouseout"||a==="pointerout",at&&s!==wb&&(ht=s.relatedTarget||s.fromElement)&&(Wc(ht)||ht[uf]))break e;if((ut||at)&&(at=it.window===it?it:(at=it.ownerDocument)?at.defaultView||at.parentWindow:window,ut?(ht=s.relatedTarget||s.toElement,ut=nt,ht=ht?Wc(ht):null,ht!==null&&(Ct=Vb(ht),ht!==Ct||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(ut=null,ht=nt),ut!==ht)){if(pt=Bd,St="onMouseLeave",lt="onMouseEnter",ft="mouse",(a==="pointerout"||a==="pointerover")&&(pt=Td,St="onPointerLeave",lt="onPointerEnter",ft="pointer"),Ct=ut==null?at:ue(ut),gt=ht==null?at:ue(ht),at=new pt(St,ft+"leave",ut,s,it),at.target=Ct,at.relatedTarget=gt,St=null,Wc(it)===nt&&(pt=new pt(lt,ft+"enter",ht,s,it),pt.target=gt,pt.relatedTarget=Ct,St=pt),Ct=St,ut&&ht)t:{for(pt=ut,lt=ht,ft=0,gt=pt;gt;gt=vf(gt))ft++;for(gt=0,St=lt;St;St=vf(St))gt++;for(;0<ft-gt;)pt=vf(pt),ft--;for(;0<gt-ft;)lt=vf(lt),gt--;for(;ft--;){if(pt===lt||lt!==null&&pt===lt.alternate)break t;pt=vf(pt),lt=vf(lt)}pt=null}else pt=null;ut!==null&&wf(ot,at,ut,pt,!1),ht!==null&&Ct!==null&&wf(ot,Ct,ht,pt,!0)}}e:{if(at=nt?ue(nt):window,ut=at.nodeName&&at.nodeName.toLowerCase(),ut==="select"||ut==="input"&&at.type==="file")var It=ve;else if(me(at))if(we)It=Fe;else{It=De;var vt=Ce}else(ut=at.nodeName)&&ut.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(It=Ee);if(It&&(It=It(a,nt))){ne(ot,It,s,it);break e}vt&&vt(a,at,nt),a==="focusout"&&(vt=at._wrapperState)&&vt.controlled&&at.type==="number"&&cb(at,"number",at.value)}switch(vt=nt?ue(nt):window,a){case"focusin":(me(vt)||vt.contentEditable==="true")&&(Qe=vt,Re=nt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ot,s,it);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ot,s,it)}var dt;if(ae)e:{switch(a){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else ie?ge(a,s)&&(yt="onCompositionEnd"):a==="keydown"&&s.keyCode===229&&(yt="onCompositionStart");yt&&(de&&s.locale!=="ko"&&(ie||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&ie&&(dt=nd()):(kd=it,ld="value"in kd?kd.value:kd.textContent,ie=!0)),vt=oe(nt,yt),0<vt.length&&(yt=new Ld(yt,a,null,s,it),ot.push({event:yt,listeners:vt}),dt?yt.data=dt:(dt=he(s),dt!==null&&(yt.data=dt)))),(dt=ce?je(a,s):ke(a,s))&&(nt=oe(nt,"onBeforeInput"),0<nt.length&&(it=new Ld("onBeforeInput","beforeinput",null,s,it),ot.push({event:it,listeners:nt}),it.data=dt))}se(ot,o)})}function tf(a,o,s){return{instance:a,listener:o,currentTarget:s}}function oe(a,o){for(var s=o+"Capture",$=[];a!==null;){var j=a,_e=j.stateNode;j.tag===5&&_e!==null&&(j=_e,_e=Kb(a,s),_e!=null&&$.unshift(tf(a,_e,j)),_e=Kb(a,o),_e!=null&&$.push(tf(a,_e,j))),a=a.return}return $}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,o,s,$,j){for(var _e=o._reactName,et=[];s!==null&&s!==$;){var tt=s,rt=tt.alternate,nt=tt.stateNode;if(rt!==null&&rt===$)break;tt.tag===5&&nt!==null&&(tt=nt,j?(rt=Kb(s,_e),rt!=null&&et.unshift(tf(s,rt,tt))):j||(rt=Kb(s,_e),rt!=null&&et.push(tf(s,rt,tt)))),s=s.return}et.length!==0&&a.push({event:o,listeners:et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,o,s){if(o=zf(o),zf(a)!==o&&s)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,o){var s=o,$=0;do{var j=s.nextSibling;if(a.removeChild(s),j&&j.nodeType===8)if(s=j.data,s==="/$"){if($===0){a.removeChild(j),bd(o);return}$--}else s!=="$"&&s!=="$?"&&s!=="$!"||$++;s=j}while(s);bd(o)}function Lf(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var s=a.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return a;o--}else s==="/$"&&o++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var o=a[Of];if(o)return o;for(var s=a.parentNode;s;){if(o=s[uf]||s[Of]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(a=Mf(a);a!==null;){if(s=a[Of])return s;a=Mf(a)}return o}a=s,s=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p$4(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,o){Tf++,Sf[Tf]=a.current,a.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,o){var s=a.type.contextTypes;if(!s)return Vf;var $=a.stateNode;if($&&$.__reactInternalMemoizedUnmaskedChildContext===o)return $.__reactInternalMemoizedMaskedChildContext;var j={},_e;for(_e in s)j[_e]=o[_e];return $&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=j),j}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E(Wf),E(H)}function ag(a,o,s){if(H.current!==Vf)throw Error(p$4(168));G(H,o),G(Wf,s)}function bg(a,o,s){var $=a.stateNode;if(o=o.childContextTypes,typeof $.getChildContext!="function")return s;$=$.getChildContext();for(var j in $)if(!(j in o))throw Error(p$4(108,Ra(a)||"Unknown",j));return A$1({},s,$)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,a),G(Wf,Wf.current),!0}function dg(a,o,s){var $=a.stateNode;if(!$)throw Error(p$4(169));s?(a=bg(a,o,Xf),$.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,o=C;try{var s=eg;for(C=1;a<s.length;a++){var $=s[a];do $=$(!0);while($!==null)}eg=null,fg=!1}catch(j){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),j}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,o){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=o}function ug(a,o,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var $=rg;a=sg;var j=32-oc($)-1;$&=~(1<<j),s+=1;var _e=32-oc(o)+j;if(30<_e){var et=j-j%5;_e=($&(1<<et)-1).toString(32),$>>=et,j-=et,rg=1<<32-oc(o)+j|s<<j|$,sg=_e+a}else rg=1<<_e|s<<j|$,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(a,o){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=a,o=a.deletions,o===null?(a.deletions=[s],a.flags|=16):o.push(s)}function Cg(a,o){switch(a.tag){case 5:var s=a.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,xg=a,yg=Lf(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,xg=a,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=o,s.return=a,a.child=s,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I){var o=yg;if(o){var s=o;if(!Cg(a,o)){if(Dg(a))throw Error(p$4(418));o=Lf(s.nextSibling);var $=xg;o&&Cg(a,o)?Ag($,s):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p$4(418));a.flags=a.flags&-4097|2,I=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!Ef(a.type,a.memoizedProps)),o&&(o=yg)){if(Dg(a))throw Hg(),Error(p$4(418));for(;o;)Ag(a,o),o=Lf(o.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p$4(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var s=a.data;if(s==="/$"){if(o===0){yg=Lf(a.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,o){if(a&&a.defaultProps){o=A$1({},o),a=a.defaultProps;for(var s in a)o[s]===void 0&&(o[s]=a[s]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var o=Mg.current;E(Mg),a._currentValue=o}function Sg(a,o,s){for(;a!==null;){var $=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,$!==null&&($.childLanes|=o)):$!==null&&($.childLanes&o)!==o&&($.childLanes|=o),a===s)break;a=a.return}}function Tg(a,o){Ng=a,Pg=Og=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&o&&(Ug=!0),a.firstContext=null)}function Vg(a){var o=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$4(308));Og=a,Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return o}var Wg=null;function Xg(a){Wg===null?Wg=[a]:Wg.push(a)}function Yg(a,o,s,$){var j=o.interleaved;return j===null?(s.next=s,Xg(o)):(s.next=j.next,j.next=s),o.interleaved=s,Zg(a,$)}function Zg(a,o){a.lanes|=o;var s=a.alternate;for(s!==null&&(s.lanes|=o),s=a,a=a.return;a!==null;)a.childLanes|=o,s=a.alternate,s!==null&&(s.childLanes|=o),s=a,a=a.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(a,o,s){var $=a.updateQueue;if($===null)return null;if($=$.shared,K&2){var j=$.pending;return j===null?o.next=o:(o.next=j.next,j.next=o),$.pending=o,Zg(a,s)}return j=$.interleaved,j===null?(o.next=o,Xg($)):(o.next=j.next,j.next=o),$.interleaved=o,Zg(a,s)}function eh(a,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var $=o.lanes;$&=a.pendingLanes,s|=$,o.lanes=s,Cc(a,s)}}function fh(a,o){var s=a.updateQueue,$=a.alternate;if($!==null&&($=$.updateQueue,s===$)){var j=null,_e=null;if(s=s.firstBaseUpdate,s!==null){do{var et={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};_e===null?j=_e=et:_e=_e.next=et,s=s.next}while(s!==null);_e===null?j=_e=o:_e=_e.next=o}else j=_e=o;s={baseState:$.baseState,firstBaseUpdate:j,lastBaseUpdate:_e,shared:$.shared,effects:$.effects},a.updateQueue=s;return}a=s.lastBaseUpdate,a===null?s.firstBaseUpdate=o:a.next=o,s.lastBaseUpdate=o}function gh(a,o,s,$){var j=a.updateQueue;$g=!1;var _e=j.firstBaseUpdate,et=j.lastBaseUpdate,tt=j.shared.pending;if(tt!==null){j.shared.pending=null;var rt=tt,nt=rt.next;rt.next=null,et===null?_e=nt:et.next=nt,et=rt;var it=a.alternate;it!==null&&(it=it.updateQueue,tt=it.lastBaseUpdate,tt!==et&&(tt===null?it.firstBaseUpdate=nt:tt.next=nt,it.lastBaseUpdate=rt))}if(_e!==null){var ot=j.baseState;et=0,it=nt=rt=null,tt=_e;do{var at=tt.lane,ut=tt.eventTime;if(($&at)===at){it!==null&&(it=it.next={eventTime:ut,lane:0,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null});e:{var ht=a,pt=tt;switch(at=o,ut=s,pt.tag){case 1:if(ht=pt.payload,typeof ht=="function"){ot=ht.call(ut,ot,at);break e}ot=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=pt.payload,at=typeof ht=="function"?ht.call(ut,ot,at):ht,at==null)break e;ot=A$1({},ot,at);break e;case 2:$g=!0}}tt.callback!==null&&tt.lane!==0&&(a.flags|=64,at=j.effects,at===null?j.effects=[tt]:at.push(tt))}else ut={eventTime:ut,lane:at,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},it===null?(nt=it=ut,rt=ot):it=it.next=ut,et|=at;if(tt=tt.next,tt===null){if(tt=j.shared.pending,tt===null)break;at=tt,tt=at.next,at.next=null,j.lastBaseUpdate=at,j.shared.pending=null}}while(1);if(it===null&&(rt=ot),j.baseState=rt,j.firstBaseUpdate=nt,j.lastBaseUpdate=it,o=j.shared.interleaved,o!==null){j=o;do et|=j.lane,j=j.next;while(j!==o)}else _e===null&&(j.shared.lanes=0);hh|=et,a.lanes=et,a.memoizedState=ot}}function ih(a,o,s){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var $=a[o],j=$.callback;if(j!==null){if($.callback=null,$=s,typeof j!="function")throw Error(p$4(191,j));j.call($)}}}var jh=new aa.Component().refs;function kh(a,o,s,$){o=a.memoizedState,s=s($,o),s=s==null?o:A$1({},o,s),a.memoizedState=s,a.lanes===0&&(a.updateQueue.baseState=s)}var nh={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,o,s){a=a._reactInternals;var $=L(),j=lh(a),_e=ch($,j);_e.payload=o,s!=null&&(_e.callback=s),o=dh(a,_e,j),o!==null&&(mh(o,a,j,$),eh(o,a,j))},enqueueReplaceState:function(a,o,s){a=a._reactInternals;var $=L(),j=lh(a),_e=ch($,j);_e.tag=1,_e.payload=o,s!=null&&(_e.callback=s),o=dh(a,_e,j),o!==null&&(mh(o,a,j,$),eh(o,a,j))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var s=L(),$=lh(a),j=ch(s,$);j.tag=2,o!=null&&(j.callback=o),o=dh(a,j,$),o!==null&&(mh(o,a,$,s),eh(o,a,$))}};function oh(a,o,s,$,j,_e,et){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate($,_e,et):o.prototype&&o.prototype.isPureReactComponent?!Ie(s,$)||!Ie(j,_e):!0}function ph(a,o,s){var $=!1,j=Vf,_e=o.contextType;return typeof _e=="object"&&_e!==null?_e=Vg(_e):(j=Zf(o)?Xf:H.current,$=o.contextTypes,_e=($=$!=null)?Yf(a,j):Vf),o=new o(s,_e),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,a.stateNode=o,o._reactInternals=a,$&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=j,a.__reactInternalMemoizedMaskedChildContext=_e),o}function qh(a,o,s,$){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,$),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,$),o.state!==a&&nh.enqueueReplaceState(o,o.state,null)}function rh(a,o,s,$){var j=a.stateNode;j.props=s,j.state=a.memoizedState,j.refs=jh,ah(a);var _e=o.contextType;typeof _e=="object"&&_e!==null?j.context=Vg(_e):(_e=Zf(o)?Xf:H.current,j.context=Yf(a,_e)),j.state=a.memoizedState,_e=o.getDerivedStateFromProps,typeof _e=="function"&&(kh(a,o,_e,s),j.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(o=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),o!==j.state&&nh.enqueueReplaceState(j,j.state,null),gh(a,s,j,$),j.state=a.memoizedState),typeof j.componentDidMount=="function"&&(a.flags|=4194308)}function sh(a,o,s){if(a=s.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$4(309));var $=s.stateNode}if(!$)throw Error(p$4(147,a));var j=$,_e=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_e?o.ref:(o=function(et){var tt=j.refs;tt===jh&&(tt=j.refs={}),et===null?delete tt[_e]:tt[_e]=et},o._stringRef=_e,o)}if(typeof a!="string")throw Error(p$4(284));if(!s._owner)throw Error(p$4(290,a))}return a}function th(a,o){throw a=Object.prototype.toString.call(o),Error(p$4(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function uh(a){var o=a._init;return o(a._payload)}function vh(a){function o(lt,ft){if(a){var gt=lt.deletions;gt===null?(lt.deletions=[ft],lt.flags|=16):gt.push(ft)}}function s(lt,ft){if(!a)return null;for(;ft!==null;)o(lt,ft),ft=ft.sibling;return null}function $(lt,ft){for(lt=new Map;ft!==null;)ft.key!==null?lt.set(ft.key,ft):lt.set(ft.index,ft),ft=ft.sibling;return lt}function j(lt,ft){return lt=wh(lt,ft),lt.index=0,lt.sibling=null,lt}function _e(lt,ft,gt){return lt.index=gt,a?(gt=lt.alternate,gt!==null?(gt=gt.index,gt<ft?(lt.flags|=2,ft):gt):(lt.flags|=2,ft)):(lt.flags|=1048576,ft)}function et(lt){return a&&lt.alternate===null&&(lt.flags|=2),lt}function tt(lt,ft,gt,St){return ft===null||ft.tag!==6?(ft=xh(gt,lt.mode,St),ft.return=lt,ft):(ft=j(ft,gt),ft.return=lt,ft)}function rt(lt,ft,gt,St){var It=gt.type;return It===ya?it(lt,ft,gt.props.children,St,gt.key):ft!==null&&(ft.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&uh(It)===ft.type)?(St=j(ft,gt.props),St.ref=sh(lt,ft,gt),St.return=lt,St):(St=yh(gt.type,gt.key,gt.props,null,lt.mode,St),St.ref=sh(lt,ft,gt),St.return=lt,St)}function nt(lt,ft,gt,St){return ft===null||ft.tag!==4||ft.stateNode.containerInfo!==gt.containerInfo||ft.stateNode.implementation!==gt.implementation?(ft=zh(gt,lt.mode,St),ft.return=lt,ft):(ft=j(ft,gt.children||[]),ft.return=lt,ft)}function it(lt,ft,gt,St,It){return ft===null||ft.tag!==7?(ft=Ah(gt,lt.mode,St,It),ft.return=lt,ft):(ft=j(ft,gt),ft.return=lt,ft)}function ot(lt,ft,gt){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return ft=xh(""+ft,lt.mode,gt),ft.return=lt,ft;if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:return gt=yh(ft.type,ft.key,ft.props,null,lt.mode,gt),gt.ref=sh(lt,null,ft),gt.return=lt,gt;case wa:return ft=zh(ft,lt.mode,gt),ft.return=lt,ft;case Ha:var St=ft._init;return ot(lt,St(ft._payload),gt)}if(eb(ft)||Ka(ft))return ft=Ah(ft,lt.mode,gt,null),ft.return=lt,ft;th(lt,ft)}return null}function at(lt,ft,gt,St){var It=ft!==null?ft.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number")return It!==null?null:tt(lt,ft,""+gt,St);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return gt.key===It?rt(lt,ft,gt,St):null;case wa:return gt.key===It?nt(lt,ft,gt,St):null;case Ha:return It=gt._init,at(lt,ft,It(gt._payload),St)}if(eb(gt)||Ka(gt))return It!==null?null:it(lt,ft,gt,St,null);th(lt,gt)}return null}function ut(lt,ft,gt,St,It){if(typeof St=="string"&&St!==""||typeof St=="number")return lt=lt.get(gt)||null,tt(ft,lt,""+St,It);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return lt=lt.get(St.key===null?gt:St.key)||null,rt(ft,lt,St,It);case wa:return lt=lt.get(St.key===null?gt:St.key)||null,nt(ft,lt,St,It);case Ha:var vt=St._init;return ut(lt,ft,gt,vt(St._payload),It)}if(eb(St)||Ka(St))return lt=lt.get(gt)||null,it(ft,lt,St,It,null);th(ft,St)}return null}function ht(lt,ft,gt,St){for(var It=null,vt=null,dt=ft,yt=ft=0,Rt=null;dt!==null&&yt<gt.length;yt++){dt.index>yt?(Rt=dt,dt=null):Rt=dt.sibling;var Pt=at(lt,dt,gt[yt],St);if(Pt===null){dt===null&&(dt=Rt);break}a&&dt&&Pt.alternate===null&&o(lt,dt),ft=_e(Pt,ft,yt),vt===null?It=Pt:vt.sibling=Pt,vt=Pt,dt=Rt}if(yt===gt.length)return s(lt,dt),I&&tg(lt,yt),It;if(dt===null){for(;yt<gt.length;yt++)dt=ot(lt,gt[yt],St),dt!==null&&(ft=_e(dt,ft,yt),vt===null?It=dt:vt.sibling=dt,vt=dt);return I&&tg(lt,yt),It}for(dt=$(lt,dt);yt<gt.length;yt++)Rt=ut(dt,lt,yt,gt[yt],St),Rt!==null&&(a&&Rt.alternate!==null&&dt.delete(Rt.key===null?yt:Rt.key),ft=_e(Rt,ft,yt),vt===null?It=Rt:vt.sibling=Rt,vt=Rt);return a&&dt.forEach(function(Dt){return o(lt,Dt)}),I&&tg(lt,yt),It}function pt(lt,ft,gt,St){var It=Ka(gt);if(typeof It!="function")throw Error(p$4(150));if(gt=It.call(gt),gt==null)throw Error(p$4(151));for(var vt=It=null,dt=ft,yt=ft=0,Rt=null,Pt=gt.next();dt!==null&&!Pt.done;yt++,Pt=gt.next()){dt.index>yt?(Rt=dt,dt=null):Rt=dt.sibling;var Dt=at(lt,dt,Pt.value,St);if(Dt===null){dt===null&&(dt=Rt);break}a&&dt&&Dt.alternate===null&&o(lt,dt),ft=_e(Dt,ft,yt),vt===null?It=Dt:vt.sibling=Dt,vt=Dt,dt=Rt}if(Pt.done)return s(lt,dt),I&&tg(lt,yt),It;if(dt===null){for(;!Pt.done;yt++,Pt=gt.next())Pt=ot(lt,Pt.value,St),Pt!==null&&(ft=_e(Pt,ft,yt),vt===null?It=Pt:vt.sibling=Pt,vt=Pt);return I&&tg(lt,yt),It}for(dt=$(lt,dt);!Pt.done;yt++,Pt=gt.next())Pt=ut(dt,lt,yt,Pt.value,St),Pt!==null&&(a&&Pt.alternate!==null&&dt.delete(Pt.key===null?yt:Pt.key),ft=_e(Pt,ft,yt),vt===null?It=Pt:vt.sibling=Pt,vt=Pt);return a&&dt.forEach(function(Ft){return o(lt,Ft)}),I&&tg(lt,yt),It}function Ct(lt,ft,gt,St){if(typeof gt=="object"&&gt!==null&&gt.type===ya&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:e:{for(var It=gt.key,vt=ft;vt!==null;){if(vt.key===It){if(It=gt.type,It===ya){if(vt.tag===7){s(lt,vt.sibling),ft=j(vt,gt.props.children),ft.return=lt,lt=ft;break e}}else if(vt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&uh(It)===vt.type){s(lt,vt.sibling),ft=j(vt,gt.props),ft.ref=sh(lt,vt,gt),ft.return=lt,lt=ft;break e}s(lt,vt);break}else o(lt,vt);vt=vt.sibling}gt.type===ya?(ft=Ah(gt.props.children,lt.mode,St,gt.key),ft.return=lt,lt=ft):(St=yh(gt.type,gt.key,gt.props,null,lt.mode,St),St.ref=sh(lt,ft,gt),St.return=lt,lt=St)}return et(lt);case wa:e:{for(vt=gt.key;ft!==null;){if(ft.key===vt)if(ft.tag===4&&ft.stateNode.containerInfo===gt.containerInfo&&ft.stateNode.implementation===gt.implementation){s(lt,ft.sibling),ft=j(ft,gt.children||[]),ft.return=lt,lt=ft;break e}else{s(lt,ft);break}else o(lt,ft);ft=ft.sibling}ft=zh(gt,lt.mode,St),ft.return=lt,lt=ft}return et(lt);case Ha:return vt=gt._init,Ct(lt,ft,vt(gt._payload),St)}if(eb(gt))return ht(lt,ft,gt,St);if(Ka(gt))return pt(lt,ft,gt,St);th(lt,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"?(gt=""+gt,ft!==null&&ft.tag===6?(s(lt,ft.sibling),ft=j(ft,gt),ft.return=lt,lt=ft):(s(lt,ft),ft=xh(gt,lt.mode,St),ft.return=lt,lt=ft),et(lt)):s(lt,ft)}return Ct}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p$4(174));return a}function Ih(a,o){switch(G(Gh,o),G(Fh,a),G(Eh,Dh),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=lb(o,a)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(a){Hh(Gh.current);var o=Hh(Eh.current),s=lb(o,a.type);o!==s&&(G(Fh,a),G(Eh,s))}function Lh(a){Fh.current===a&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(a){for(var o=a;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$4(321))}function Wh(a,o){if(o===null)return!1;for(var s=0;s<o.length&&s<a.length;s++)if(!He(a[s],o[s]))return!1;return!0}function Xh(a,o,s,$,j,_e){if(Rh=_e,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=a===null||a.memoizedState===null?Yh:Zh,a=s($,j),Th){_e=0;do{if(Th=!1,Uh=0,25<=_e)throw Error(p$4(301));_e+=1,P=O=null,o.updateQueue=null,Ph.current=$h,a=s($,j)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p$4(300));return a}function bi(){var a=Uh!==0;return Uh=0,a}function ci(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=a:P=P.next=a,P}function di(){if(O===null){var a=N.alternate;a=a!==null?a.memoizedState:null}else a=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=a;else{if(a===null)throw Error(p$4(310));O=a,a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=a:P=P.next=a}return P}function ei(a,o){return typeof o=="function"?o(a):o}function fi(a){var o=di(),s=o.queue;if(s===null)throw Error(p$4(311));s.lastRenderedReducer=a;var $=O,j=$.baseQueue,_e=s.pending;if(_e!==null){if(j!==null){var et=j.next;j.next=_e.next,_e.next=et}$.baseQueue=j=_e,s.pending=null}if(j!==null){_e=j.next,$=$.baseState;var tt=et=null,rt=null,nt=_e;do{var it=nt.lane;if((Rh&it)===it)rt!==null&&(rt=rt.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),$=nt.hasEagerState?nt.eagerState:a($,nt.action);else{var ot={lane:it,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};rt===null?(tt=rt=ot,et=$):rt=rt.next=ot,N.lanes|=it,hh|=it}nt=nt.next}while(nt!==null&&nt!==_e);rt===null?et=$:rt.next=tt,He($,o.memoizedState)||(Ug=!0),o.memoizedState=$,o.baseState=et,o.baseQueue=rt,s.lastRenderedState=$}if(a=s.interleaved,a!==null){j=a;do _e=j.lane,N.lanes|=_e,hh|=_e,j=j.next;while(j!==a)}else j===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function gi(a){var o=di(),s=o.queue;if(s===null)throw Error(p$4(311));s.lastRenderedReducer=a;var $=s.dispatch,j=s.pending,_e=o.memoizedState;if(j!==null){s.pending=null;var et=j=j.next;do _e=a(_e,et.action),et=et.next;while(et!==j);He(_e,o.memoizedState)||(Ug=!0),o.memoizedState=_e,o.baseQueue===null&&(o.baseState=_e),s.lastRenderedState=_e}return[_e,$]}function hi(){}function ii(a,o){var s=N,$=di(),j=o(),_e=!He($.memoizedState,j);if(_e&&($.memoizedState=j,Ug=!0),$=$.queue,ji(ki.bind(null,s,$,a),[a]),$.getSnapshot!==o||_e||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,$,j,o),void 0,null),R$1===null)throw Error(p$4(349));Rh&30||ni(s,o,j)}return j}function ni(a,o,s){a.flags|=16384,a={getSnapshot:o,value:s},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[a]):(s=o.stores,s===null?o.stores=[a]:s.push(a))}function mi(a,o,s,$){o.value=s,o.getSnapshot=$,oi(o)&&pi(a)}function ki(a,o,s){return s(function(){oi(o)&&pi(a)})}function oi(a){var o=a.getSnapshot;a=a.value;try{var s=o();return!He(a,s)}catch{return!0}}function pi(a){var o=Zg(a,1);o!==null&&mh(o,a,1,-1)}function qi(a){var o=ci();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a},o.queue=a,a=a.dispatch=ri.bind(null,N,a),[o.memoizedState,a]}function li(a,o,s,$){return a={tag:a,create:o,destroy:s,deps:$,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=a.next=a):(s=o.lastEffect,s===null?o.lastEffect=a.next=a:($=s.next,s.next=a,a.next=$,o.lastEffect=a)),a}function si(){return di().memoizedState}function ti(a,o,s,$){var j=ci();N.flags|=a,j.memoizedState=li(1|o,s,void 0,$===void 0?null:$)}function ui(a,o,s,$){var j=di();$=$===void 0?null:$;var _e=void 0;if(O!==null){var et=O.memoizedState;if(_e=et.destroy,$!==null&&Wh($,et.deps)){j.memoizedState=li(o,s,_e,$);return}}N.flags|=a,j.memoizedState=li(1|o,s,_e,$)}function vi(a,o){return ti(8390656,8,a,o)}function ji(a,o){return ui(2048,8,a,o)}function wi(a,o){return ui(4,2,a,o)}function xi(a,o){return ui(4,4,a,o)}function yi(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function zi(a,o,s){return s=s!=null?s.concat([a]):null,ui(4,4,yi.bind(null,o,a),s)}function Ai(){}function Bi(a,o){var s=di();o=o===void 0?null:o;var $=s.memoizedState;return $!==null&&o!==null&&Wh(o,$[1])?$[0]:(s.memoizedState=[a,o],a)}function Ci(a,o){var s=di();o=o===void 0?null:o;var $=s.memoizedState;return $!==null&&o!==null&&Wh(o,$[1])?$[0]:(a=a(),s.memoizedState=[a,o],a)}function Di(a,o,s){return Rh&21?(He(s,o)||(s=yc(),N.lanes|=s,hh|=s,a.baseState=!0),o):(a.baseState&&(a.baseState=!1,Ug=!0),a.memoizedState=s)}function Ei(a,o){var s=C;C=s!==0&&4>s?s:4,a(!0);var $=Qh.transition;Qh.transition={};try{a(!1),o()}finally{C=s,Qh.transition=$}}function Fi(){return di().memoizedState}function Gi(a,o,s){var $=lh(a);if(s={lane:$,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(a))Ii(o,s);else if(s=Yg(a,o,s,$),s!==null){var j=L();mh(s,a,$,j),Ji(s,o,$)}}function ri(a,o,s){var $=lh(a),j={lane:$,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(o,j);else{var _e=a.alternate;if(a.lanes===0&&(_e===null||_e.lanes===0)&&(_e=o.lastRenderedReducer,_e!==null))try{var et=o.lastRenderedState,tt=_e(et,s);if(j.hasEagerState=!0,j.eagerState=tt,He(tt,et)){var rt=o.interleaved;rt===null?(j.next=j,Xg(o)):(j.next=rt.next,rt.next=j),o.interleaved=j;return}}catch{}finally{}s=Yg(a,o,j,$),s!==null&&(j=L(),mh(s,a,$,j),Ji(s,o,$))}}function Hi(a){var o=a.alternate;return a===N||o!==null&&o===N}function Ii(a,o){Th=Sh=!0;var s=a.pending;s===null?o.next=o:(o.next=s.next,s.next=o),a.pending=o}function Ji(a,o,s){if(s&4194240){var $=o.lanes;$&=a.pendingLanes,s|=$,o.lanes=s,Cc(a,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(a,o){return ci().memoizedState=[a,o===void 0?null:o],a},useContext:Vg,useEffect:vi,useImperativeHandle:function(a,o,s){return s=s!=null?s.concat([a]):null,ti(4194308,4,yi.bind(null,o,a),s)},useLayoutEffect:function(a,o){return ti(4194308,4,a,o)},useInsertionEffect:function(a,o){return ti(4,2,a,o)},useMemo:function(a,o){var s=ci();return o=o===void 0?null:o,a=a(),s.memoizedState=[a,o],a},useReducer:function(a,o,s){var $=ci();return o=s!==void 0?s(o):o,$.memoizedState=$.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},$.queue=a,a=a.dispatch=Gi.bind(null,N,a),[$.memoizedState,a]},useRef:function(a){var o=ci();return a={current:a},o.memoizedState=a},useState:qi,useDebugValue:Ai,useDeferredValue:function(a){return ci().memoizedState=a},useTransition:function(){var a=qi(!1),o=a[0];return a=Ei.bind(null,a[1]),ci().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,s){var $=N,j=ci();if(I){if(s===void 0)throw Error(p$4(407));s=s()}else{if(s=o(),R$1===null)throw Error(p$4(349));Rh&30||ni($,o,s)}j.memoizedState=s;var _e={value:s,getSnapshot:o};return j.queue=_e,vi(ki.bind(null,$,_e,a),[a]),$.flags|=2048,li(9,mi.bind(null,$,_e,s,o),void 0,null),s},useId:function(){var a=ci(),o=R$1.identifierPrefix;if(I){var s=sg,$=rg;s=($&~(1<<32-oc($)-1)).toString(32)+s,o=":"+o+"R"+s,s=Uh++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=Vh++,o=":"+o+"r"+s.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var o=di();return Di(o,O.memoizedState,a)},useTransition:function(){var a=fi(ei)[0],o=di().memoizedState;return[a,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var o=di();return O===null?o.memoizedState=a:Di(o,O.memoizedState,a)},useTransition:function(){var a=gi(ei)[0],o=di().memoizedState;return[a,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(a,o){try{var s="",$=o;do s+=Pa($),$=$.return;while($);var j=s}catch(_e){j=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:a,source:o,stack:j,digest:null}}function Li(a,o,s){return{value:a,source:null,stack:s??null,digest:o??null}}function Mi(a,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(a,o,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var $=o.value;return s.callback=function(){Pi||(Pi=!0,Qi=$),Mi(a,o)},s}function Ri(a,o,s){s=ch(-1,s),s.tag=3;var $=a.type.getDerivedStateFromError;if(typeof $=="function"){var j=o.value;s.payload=function(){return $(j)},s.callback=function(){Mi(a,o)}}var _e=a.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(s.callback=function(){Mi(a,o),typeof $!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var et=o.stack;this.componentDidCatch(o.value,{componentStack:et!==null?et:""})}),s}function Ti(a,o,s){var $=a.pingCache;if($===null){$=a.pingCache=new Ni;var j=new Set;$.set(o,j)}else j=$.get(o),j===void 0&&(j=new Set,$.set(o,j));j.has(s)||(j.add(s),a=Ui.bind(null,a,o,s),o.then(a,a))}function Vi(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function Wi(a,o,s,$,j){return a.mode&1?(a.flags|=65536,a.lanes=j,a):(a===o?a.flags|=65536:(a.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=ch(-1,1),o.tag=2,dh(s,o,1))),s.lanes|=1),a)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(a,o,s,$){o.child=a===null?Ch(o,null,s,$):Bh(o,a.child,s,$)}function Zi(a,o,s,$,j){s=s.render;var _e=o.ref;return Tg(o,j),$=Xh(a,o,s,$,_e,j),s=bi(),a!==null&&!Ug?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~j,$i(a,o,j)):(I&&s&&vg(o),o.flags|=1,Yi(a,o,$,j),o.child)}function aj(a,o,s,$,j){if(a===null){var _e=s.type;return typeof _e=="function"&&!bj(_e)&&_e.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=_e,cj(a,o,_e,$,j)):(a=yh(s.type,null,$,o,o.mode,j),a.ref=o.ref,a.return=o,o.child=a)}if(_e=a.child,!(a.lanes&j)){var et=_e.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(et,$)&&a.ref===o.ref)return $i(a,o,j)}return o.flags|=1,a=wh(_e,$),a.ref=o.ref,a.return=o,o.child=a}function cj(a,o,s,$,j){if(a!==null){var _e=a.memoizedProps;if(Ie(_e,$)&&a.ref===o.ref)if(Ug=!1,o.pendingProps=$=_e,(a.lanes&j)!==0)a.flags&131072&&(Ug=!0);else return o.lanes=a.lanes,$i(a,o,j)}return dj(a,o,s,$,j)}function ej(a,o,s){var $=o.pendingProps,j=$.children,_e=a!==null?a.memoizedState:null;if($.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return a=_e!==null?_e.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},$=_e!==null?_e.baseLanes:s,G(fj,gj),gj|=$}else _e!==null?($=_e.baseLanes|s,o.memoizedState=null):$=s,G(fj,gj),gj|=$;return Yi(a,o,j,s),o.child}function hj(a,o){var s=o.ref;(a===null&&s!==null||a!==null&&a.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function dj(a,o,s,$,j){var _e=Zf(s)?Xf:H.current;return _e=Yf(o,_e),Tg(o,j),s=Xh(a,o,s,$,_e,j),$=bi(),a!==null&&!Ug?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~j,$i(a,o,j)):(I&&$&&vg(o),o.flags|=1,Yi(a,o,s,j),o.child)}function ij(a,o,s,$,j){if(Zf(s)){var _e=!0;cg(o)}else _e=!1;if(Tg(o,j),o.stateNode===null)jj(a,o),ph(o,s,$),rh(o,s,$,j),$=!0;else if(a===null){var et=o.stateNode,tt=o.memoizedProps;et.props=tt;var rt=et.context,nt=s.contextType;typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(s)?Xf:H.current,nt=Yf(o,nt));var it=s.getDerivedStateFromProps,ot=typeof it=="function"||typeof et.getSnapshotBeforeUpdate=="function";ot||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(tt!==$||rt!==nt)&&qh(o,et,$,nt),$g=!1;var at=o.memoizedState;et.state=at,gh(o,$,et,j),rt=o.memoizedState,tt!==$||at!==rt||Wf.current||$g?(typeof it=="function"&&(kh(o,s,it,$),rt=o.memoizedState),(tt=$g||oh(o,s,tt,$,at,rt,nt))?(ot||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(o.flags|=4194308)):(typeof et.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=$,o.memoizedState=rt),et.props=$,et.state=rt,et.context=nt,$=tt):(typeof et.componentDidMount=="function"&&(o.flags|=4194308),$=!1)}else{et=o.stateNode,bh(a,o),tt=o.memoizedProps,nt=o.type===o.elementType?tt:Lg(o.type,tt),et.props=nt,ot=o.pendingProps,at=et.context,rt=s.contextType,typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(s)?Xf:H.current,rt=Yf(o,rt));var ut=s.getDerivedStateFromProps;(it=typeof ut=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(tt!==ot||at!==rt)&&qh(o,et,$,rt),$g=!1,at=o.memoizedState,et.state=at,gh(o,$,et,j);var ht=o.memoizedState;tt!==ot||at!==ht||Wf.current||$g?(typeof ut=="function"&&(kh(o,s,ut,$),ht=o.memoizedState),(nt=$g||oh(o,s,nt,$,at,ht,rt)||!1)?(it||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate($,ht,rt),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate($,ht,rt)),typeof et.componentDidUpdate=="function"&&(o.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof et.componentDidUpdate!="function"||tt===a.memoizedProps&&at===a.memoizedState||(o.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||tt===a.memoizedProps&&at===a.memoizedState||(o.flags|=1024),o.memoizedProps=$,o.memoizedState=ht),et.props=$,et.state=ht,et.context=rt,$=nt):(typeof et.componentDidUpdate!="function"||tt===a.memoizedProps&&at===a.memoizedState||(o.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||tt===a.memoizedProps&&at===a.memoizedState||(o.flags|=1024),$=!1)}return kj(a,o,s,$,_e,j)}function kj(a,o,s,$,j,_e){hj(a,o);var et=(o.flags&128)!==0;if(!$&&!et)return j&&dg(o,s,!1),$i(a,o,_e);$=o.stateNode,Xi.current=o;var tt=et&&typeof s.getDerivedStateFromError!="function"?null:$.render();return o.flags|=1,a!==null&&et?(o.child=Bh(o,a.child,null,_e),o.child=Bh(o,null,tt,_e)):Yi(a,o,tt,_e),o.memoizedState=$.state,j&&dg(o,s,!0),o.child}function lj(a){var o=a.stateNode;o.pendingContext?ag(a,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(a,o.context,!1),Ih(a,o.containerInfo)}function mj(a,o,s,$,j){return Ig(),Jg(j),o.flags|=256,Yi(a,o,s,$),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}function pj(a,o,s){var $=o.pendingProps,j=M.current,_e=!1,et=(o.flags&128)!==0,tt;if((tt=et)||(tt=a!==null&&a.memoizedState===null?!1:(j&2)!==0),tt?(_e=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(j|=1),G(M,j&1),a===null)return Eg(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(o.mode&1?a.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(et=$.children,a=$.fallback,_e?($=o.mode,_e=o.child,et={mode:"hidden",children:et},!($&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=et):_e=qj(et,$,0,null),a=Ah(a,$,s,null),_e.return=o,a.return=o,_e.sibling=a,o.child=_e,o.child.memoizedState=oj(s),o.memoizedState=nj,a):rj(o,et));if(j=a.memoizedState,j!==null&&(tt=j.dehydrated,tt!==null))return sj(a,o,et,$,tt,j,s);if(_e){_e=$.fallback,et=o.mode,j=a.child,tt=j.sibling;var rt={mode:"hidden",children:$.children};return!(et&1)&&o.child!==j?($=o.child,$.childLanes=0,$.pendingProps=rt,o.deletions=null):($=wh(j,rt),$.subtreeFlags=j.subtreeFlags&14680064),tt!==null?_e=wh(tt,_e):(_e=Ah(_e,et,s,null),_e.flags|=2),_e.return=o,$.return=o,$.sibling=_e,o.child=$,$=_e,_e=o.child,et=a.child.memoizedState,et=et===null?oj(s):{baseLanes:et.baseLanes|s,cachePool:null,transitions:et.transitions},_e.memoizedState=et,_e.childLanes=a.childLanes&~s,o.memoizedState=nj,$}return _e=a.child,a=_e.sibling,$=wh(_e,{mode:"visible",children:$.children}),!(o.mode&1)&&($.lanes=s),$.return=o,$.sibling=null,a!==null&&(s=o.deletions,s===null?(o.deletions=[a],o.flags|=16):s.push(a)),o.child=$,o.memoizedState=null,$}function rj(a,o){return o=qj({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function tj(a,o,s,$){return $!==null&&Jg($),Bh(o,a.child,null,s),a=rj(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function sj(a,o,s,$,j,_e,et){if(s)return o.flags&256?(o.flags&=-257,$=Li(Error(p$4(422))),tj(a,o,et,$)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(_e=$.fallback,j=o.mode,$=qj({mode:"visible",children:$.children},j,0,null),_e=Ah(_e,j,et,null),_e.flags|=2,$.return=o,_e.return=o,$.sibling=_e,o.child=$,o.mode&1&&Bh(o,a.child,null,et),o.child.memoizedState=oj(et),o.memoizedState=nj,_e);if(!(o.mode&1))return tj(a,o,et,null);if(j.data==="$!"){if($=j.nextSibling&&j.nextSibling.dataset,$)var tt=$.dgst;return $=tt,_e=Error(p$4(419)),$=Li(_e,$,void 0),tj(a,o,et,$)}if(tt=(et&a.childLanes)!==0,Ug||tt){if($=R$1,$!==null){switch(et&-et){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=j&($.suspendedLanes|et)?0:j,j!==0&&j!==_e.retryLane&&(_e.retryLane=j,Zg(a,j),mh($,a,j,-1))}return uj(),$=Li(Error(p$4(421))),tj(a,o,et,$)}return j.data==="$?"?(o.flags|=128,o.child=a.child,o=vj.bind(null,a),j._reactRetry=o,null):(a=_e.treeContext,yg=Lf(j.nextSibling),xg=o,I=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=o),o=rj(o,$.children),o.flags|=4096,o)}function wj(a,o,s){a.lanes|=o;var $=a.alternate;$!==null&&($.lanes|=o),Sg(a.return,o,s)}function xj(a,o,s,$,j){var _e=a.memoizedState;_e===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:$,tail:s,tailMode:j}:(_e.isBackwards=o,_e.rendering=null,_e.renderingStartTime=0,_e.last=$,_e.tail=s,_e.tailMode=j)}function yj(a,o,s){var $=o.pendingProps,j=$.revealOrder,_e=$.tail;if(Yi(a,o,$.children,s),$=M.current,$&2)$=$&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&wj(a,s,o);else if(a.tag===19)wj(a,s,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}$&=1}if(G(M,$),!(o.mode&1))o.memoizedState=null;else switch(j){case"forwards":for(s=o.child,j=null;s!==null;)a=s.alternate,a!==null&&Mh(a)===null&&(j=s),s=s.sibling;s=j,s===null?(j=o.child,o.child=null):(j=s.sibling,s.sibling=null),xj(o,!1,j,s,_e);break;case"backwards":for(s=null,j=o.child,o.child=null;j!==null;){if(a=j.alternate,a!==null&&Mh(a)===null){o.child=j;break}a=j.sibling,j.sibling=s,s=j,j=a}xj(o,!0,s,null,_e);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(a,o){!(o.mode&1)&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function $i(a,o,s){if(a!==null&&(o.dependencies=a.dependencies),hh|=o.lanes,!(s&o.childLanes))return null;if(a!==null&&o.child!==a.child)throw Error(p$4(153));if(o.child!==null){for(a=o.child,s=wh(a,a.pendingProps),o.child=s,s.return=o;a.sibling!==null;)a=a.sibling,s=s.sibling=wh(a,a.pendingProps),s.return=o;s.sibling=null}return o.child}function zj(a,o,s){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var $=o.type._context,j=o.memoizedProps.value;G(Mg,$._currentValue),$._currentValue=j;break;case 13:if($=o.memoizedState,$!==null)return $.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):s&o.child.childLanes?pj(a,o,s):(G(M,M.current&1),a=$i(a,o,s),a!==null?a.sibling:null);G(M,M.current&1);break;case 19:if($=(s&o.childLanes)!==0,a.flags&128){if($)return yj(a,o,s);o.flags|=128}if(j=o.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),G(M,M.current),$)break;return null;case 22:case 23:return o.lanes=0,ej(a,o,s)}return $i(a,o,s)}var Aj,Bj,Cj,Dj;Aj=function(a,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(a,o,s,$){var j=a.memoizedProps;if(j!==$){a=o.stateNode,Hh(Eh.current);var _e=null;switch(s){case"input":j=Ya(a,j),$=Ya(a,$),_e=[];break;case"select":j=A$1({},j,{value:void 0}),$=A$1({},$,{value:void 0}),_e=[];break;case"textarea":j=gb(a,j),$=gb(a,$),_e=[];break;default:typeof j.onClick!="function"&&typeof $.onClick=="function"&&(a.onclick=Bf)}ub(s,$);var et;s=null;for(nt in j)if(!$.hasOwnProperty(nt)&&j.hasOwnProperty(nt)&&j[nt]!=null)if(nt==="style"){var tt=j[nt];for(et in tt)tt.hasOwnProperty(et)&&(s||(s={}),s[et]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?_e||(_e=[]):(_e=_e||[]).push(nt,null));for(nt in $){var rt=$[nt];if(tt=j!=null?j[nt]:void 0,$.hasOwnProperty(nt)&&rt!==tt&&(rt!=null||tt!=null))if(nt==="style")if(tt){for(et in tt)!tt.hasOwnProperty(et)||rt&&rt.hasOwnProperty(et)||(s||(s={}),s[et]="");for(et in rt)rt.hasOwnProperty(et)&&tt[et]!==rt[et]&&(s||(s={}),s[et]=rt[et])}else s||(_e||(_e=[]),_e.push(nt,s)),s=rt;else nt==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,tt=tt?tt.__html:void 0,rt!=null&&tt!==rt&&(_e=_e||[]).push(nt,rt)):nt==="children"?typeof rt!="string"&&typeof rt!="number"||(_e=_e||[]).push(nt,""+rt):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(nt)?(rt!=null&&nt==="onScroll"&&D("scroll",a),_e||tt===rt||(_e=[])):(_e=_e||[]).push(nt,rt))}s&&(_e=_e||[]).push("style",s);var nt=_e;(o.updateQueue=nt)&&(o.flags|=4)}};Dj=function(a,o,s,$){s!==$&&(o.flags|=4)};function Ej(a,o){if(!I)switch(a.tailMode){case"hidden":o=a.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?a.tail=null:s.sibling=null;break;case"collapsed":s=a.tail;for(var $=null;s!==null;)s.alternate!==null&&($=s),s=s.sibling;$===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:$.sibling=null}}function S(a){var o=a.alternate!==null&&a.alternate.child===a.child,s=0,$=0;if(o)for(var j=a.child;j!==null;)s|=j.lanes|j.childLanes,$|=j.subtreeFlags&14680064,$|=j.flags&14680064,j.return=a,j=j.sibling;else for(j=a.child;j!==null;)s|=j.lanes|j.childLanes,$|=j.subtreeFlags,$|=j.flags,j.return=a,j=j.sibling;return a.subtreeFlags|=$,a.childLanes=s,o}function Fj(a,o,s){var $=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return $=o.stateNode,Jh(),E(Wf),E(H),Oh(),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(a===null||a.child===null)&&(Gg(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(a,o),S(o),null;case 5:Lh(o);var j=Hh(Gh.current);if(s=o.type,a!==null&&o.stateNode!=null)Cj(a,o,s,$,j),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!$){if(o.stateNode===null)throw Error(p$4(166));return S(o),null}if(a=Hh(Eh.current),Gg(o)){$=o.stateNode,s=o.type;var _e=o.memoizedProps;switch($[Of]=o,$[Pf]=_e,a=(o.mode&1)!==0,s){case"dialog":D("cancel",$),D("close",$);break;case"iframe":case"object":case"embed":D("load",$);break;case"video":case"audio":for(j=0;j<lf.length;j++)D(lf[j],$);break;case"source":D("error",$);break;case"img":case"image":case"link":D("error",$),D("load",$);break;case"details":D("toggle",$);break;case"input":Za($,_e),D("invalid",$);break;case"select":$._wrapperState={wasMultiple:!!_e.multiple},D("invalid",$);break;case"textarea":hb($,_e),D("invalid",$)}ub(s,_e),j=null;for(var et in _e)if(_e.hasOwnProperty(et)){var tt=_e[et];et==="children"?typeof tt=="string"?$.textContent!==tt&&(_e.suppressHydrationWarning!==!0&&Af($.textContent,tt,a),j=["children",tt]):typeof tt=="number"&&$.textContent!==""+tt&&(_e.suppressHydrationWarning!==!0&&Af($.textContent,tt,a),j=["children",""+tt]):ea.hasOwnProperty(et)&&tt!=null&&et==="onScroll"&&D("scroll",$)}switch(s){case"input":Va($),db($,_e,!0);break;case"textarea":Va($),jb($);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&($.onclick=Bf)}$=j,o.updateQueue=$,$!==null&&(o.flags|=4)}else{et=j.nodeType===9?j:j.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb(s)),a==="http://www.w3.org/1999/xhtml"?s==="script"?(a=et.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof $.is=="string"?a=et.createElement(s,{is:$.is}):(a=et.createElement(s),s==="select"&&(et=a,$.multiple?et.multiple=!0:$.size&&(et.size=$.size))):a=et.createElementNS(a,s),a[Of]=o,a[Pf]=$,Aj(a,o,!1,!1),o.stateNode=a;e:{switch(et=vb(s,$),s){case"dialog":D("cancel",a),D("close",a),j=$;break;case"iframe":case"object":case"embed":D("load",a),j=$;break;case"video":case"audio":for(j=0;j<lf.length;j++)D(lf[j],a);j=$;break;case"source":D("error",a),j=$;break;case"img":case"image":case"link":D("error",a),D("load",a),j=$;break;case"details":D("toggle",a),j=$;break;case"input":Za(a,$),j=Ya(a,$),D("invalid",a);break;case"option":j=$;break;case"select":a._wrapperState={wasMultiple:!!$.multiple},j=A$1({},$,{value:void 0}),D("invalid",a);break;case"textarea":hb(a,$),j=gb(a,$),D("invalid",a);break;default:j=$}ub(s,j),tt=j;for(_e in tt)if(tt.hasOwnProperty(_e)){var rt=tt[_e];_e==="style"?sb(a,rt):_e==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&nb(a,rt)):_e==="children"?typeof rt=="string"?(s!=="textarea"||rt!=="")&&ob(a,rt):typeof rt=="number"&&ob(a,""+rt):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?rt!=null&&_e==="onScroll"&&D("scroll",a):rt!=null&&ta(a,_e,rt,et))}switch(s){case"input":Va(a),db(a,$,!1);break;case"textarea":Va(a),jb(a);break;case"option":$.value!=null&&a.setAttribute("value",""+Sa($.value));break;case"select":a.multiple=!!$.multiple,_e=$.value,_e!=null?fb(a,!!$.multiple,_e,!1):$.defaultValue!=null&&fb(a,!!$.multiple,$.defaultValue,!0);break;default:typeof j.onClick=="function"&&(a.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":$=!!$.autoFocus;break e;case"img":$=!0;break e;default:$=!1}}$&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(a&&o.stateNode!=null)Dj(a,o,a.memoizedProps,$);else{if(typeof $!="string"&&o.stateNode===null)throw Error(p$4(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(o)){if($=o.stateNode,s=o.memoizedProps,$[Of]=o,(_e=$.nodeValue!==s)&&(a=xg,a!==null))switch(a.tag){case 3:Af($.nodeValue,s,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af($.nodeValue,s,(a.mode&1)!==0)}_e&&(o.flags|=4)}else $=(s.nodeType===9?s:s.ownerDocument).createTextNode($),$[Of]=o,o.stateNode=$}return S(o),null;case 13:if(E(M),$=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,_e=!1;else if(_e=Gg(o),$!==null&&$.dehydrated!==null){if(a===null){if(!_e)throw Error(p$4(318));if(_e=o.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$4(317));_e[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),_e=!1}else zg!==null&&(Gj(zg),zg=null),_e=!0;if(!_e)return o.flags&65536?o:null}return o.flags&128?(o.lanes=s,o):($=$!==null,$!==(a!==null&&a.memoizedState!==null)&&$&&(o.child.flags|=8192,o.mode&1&&(a===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj(a,o),a===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),_e=o.memoizedState,_e===null)return S(o),null;if($=(o.flags&128)!==0,et=_e.rendering,et===null)if($)Ej(_e,!1);else{if(T!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(et=Mh(a),et!==null){for(o.flags|=128,Ej(_e,!1),$=et.updateQueue,$!==null&&(o.updateQueue=$,o.flags|=4),o.subtreeFlags=0,$=s,s=o.child;s!==null;)_e=s,a=$,_e.flags&=14680066,et=_e.alternate,et===null?(_e.childLanes=0,_e.lanes=a,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=et.childLanes,_e.lanes=et.lanes,_e.child=et.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=et.memoizedProps,_e.memoizedState=et.memoizedState,_e.updateQueue=et.updateQueue,_e.type=et.type,a=et.dependencies,_e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s=s.sibling;return G(M,M.current&1|2),o.child}a=a.sibling}_e.tail!==null&&B()>Hj&&(o.flags|=128,$=!0,Ej(_e,!1),o.lanes=4194304)}else{if(!$)if(a=Mh(et),a!==null){if(o.flags|=128,$=!0,s=a.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Ej(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!et.alternate&&!I)return S(o),null}else 2*B()-_e.renderingStartTime>Hj&&s!==1073741824&&(o.flags|=128,$=!0,Ej(_e,!1),o.lanes=4194304);_e.isBackwards?(et.sibling=o.child,o.child=et):(s=_e.last,s!==null?s.sibling=et:o.child=et,_e.last=et)}return _e.tail!==null?(o=_e.tail,_e.rendering=o,_e.tail=o.sibling,_e.renderingStartTime=B(),o.sibling=null,s=M.current,G(M,$?s&1|2:s&1),o):(S(o),null);case 22:case 23:return Ij(),$=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==$&&(o.flags|=8192),$&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$4(156,o.tag))}function Jj(a,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(p$4(340));Ig()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(a,o){var s=a.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch($){W(a,o,$)}else s.current=null}function Nj(a,o,s){try{s()}catch($){W(a,o,$)}}var Oj=!1;function Pj(a,o){if(Cf=dd,a=Me(),Ne(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{s=(s=a.ownerDocument)&&s.defaultView||window;var $=s.getSelection&&s.getSelection();if($&&$.rangeCount!==0){s=$.anchorNode;var j=$.anchorOffset,_e=$.focusNode;$=$.focusOffset;try{s.nodeType,_e.nodeType}catch{s=null;break e}var et=0,tt=-1,rt=-1,nt=0,it=0,ot=a,at=null;t:for(;;){for(var ut;ot!==s||j!==0&&ot.nodeType!==3||(tt=et+j),ot!==_e||$!==0&&ot.nodeType!==3||(rt=et+$),ot.nodeType===3&&(et+=ot.nodeValue.length),(ut=ot.firstChild)!==null;)at=ot,ot=ut;for(;;){if(ot===a)break t;if(at===s&&++nt===j&&(tt=et),at===_e&&++it===$&&(rt=et),(ut=ot.nextSibling)!==null)break;ot=at,at=ot.parentNode}ot=ut}s=tt===-1||rt===-1?null:{start:tt,end:rt}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:a,selectionRange:s},dd=!1,V=o;V!==null;)if(o=V,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,V=a;else for(;V!==null;){o=V;try{var ht=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var pt=ht.memoizedProps,Ct=ht.memoizedState,lt=o.stateNode,ft=lt.getSnapshotBeforeUpdate(o.elementType===o.type?pt:Lg(o.type,pt),Ct);lt.__reactInternalSnapshotBeforeUpdate=ft}break;case 3:var gt=o.stateNode.containerInfo;gt.nodeType===1?gt.textContent="":gt.nodeType===9&&gt.documentElement&&gt.removeChild(gt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(St){W(o,o.return,St)}if(a=o.sibling,a!==null){a.return=o.return,V=a;break}V=o.return}return ht=Oj,Oj=!1,ht}function Qj(a,o,s){var $=o.updateQueue;if($=$!==null?$.lastEffect:null,$!==null){var j=$=$.next;do{if((j.tag&a)===a){var _e=j.destroy;j.destroy=void 0,_e!==void 0&&Nj(o,s,_e)}j=j.next}while(j!==$)}}function Rj(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&a)===a){var $=s.create;s.destroy=$()}s=s.next}while(s!==o)}}function Sj(a){var o=a.ref;if(o!==null){var s=a.stateNode;switch(a.tag){case 5:a=s;break;default:a=s}typeof o=="function"?o(a):o.current=a}}function Tj(a){var o=a.alternate;o!==null&&(a.alternate=null,Tj(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Uj(a){return a.tag===5||a.tag===3||a.tag===4}function Vj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Uj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wj(a,o,s){var $=a.tag;if($===5||$===6)a=a.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(a,o):s.insertBefore(a,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(a,s)):(o=s,o.appendChild(a)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Bf));else if($!==4&&(a=a.child,a!==null))for(Wj(a,o,s),a=a.sibling;a!==null;)Wj(a,o,s),a=a.sibling}function Xj(a,o,s){var $=a.tag;if($===5||$===6)a=a.stateNode,o?s.insertBefore(a,o):s.appendChild(a);else if($!==4&&(a=a.child,a!==null))for(Xj(a,o,s),a=a.sibling;a!==null;)Xj(a,o,s),a=a.sibling}var X=null,Yj=!1;function Zj(a,o,s){for(s=s.child;s!==null;)ak(a,o,s),s=s.sibling}function ak(a,o,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,o);case 6:var $=X,j=Yj;X=null,Zj(a,o,s),X=$,Yj=j,X!==null&&(Yj?(a=X,s=s.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(a=X,s=s.stateNode,a.nodeType===8?Kf(a.parentNode,s):a.nodeType===1&&Kf(a,s),bd(a)):Kf(X,s.stateNode));break;case 4:$=X,j=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(a,o,s),X=$,Yj=j;break;case 0:case 11:case 14:case 15:if(!U&&($=s.updateQueue,$!==null&&($=$.lastEffect,$!==null))){j=$=$.next;do{var _e=j,et=_e.destroy;_e=_e.tag,et!==void 0&&(_e&2||_e&4)&&Nj(s,o,et),j=j.next}while(j!==$)}Zj(a,o,s);break;case 1:if(!U&&(Mj(s,o),$=s.stateNode,typeof $.componentWillUnmount=="function"))try{$.props=s.memoizedProps,$.state=s.memoizedState,$.componentWillUnmount()}catch(tt){W(s,o,tt)}Zj(a,o,s);break;case 21:Zj(a,o,s);break;case 22:s.mode&1?(U=($=U)||s.memoizedState!==null,Zj(a,o,s),U=$):Zj(a,o,s);break;default:Zj(a,o,s)}}function bk(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var s=a.stateNode;s===null&&(s=a.stateNode=new Lj),o.forEach(function($){var j=ck.bind(null,a,$);s.has($)||(s.add($),$.then(j,j))})}}function dk(a,o){var s=o.deletions;if(s!==null)for(var $=0;$<s.length;$++){var j=s[$];try{var _e=a,et=o,tt=et;e:for(;tt!==null;){switch(tt.tag){case 5:X=tt.stateNode,Yj=!1;break e;case 3:X=tt.stateNode.containerInfo,Yj=!0;break e;case 4:X=tt.stateNode.containerInfo,Yj=!0;break e}tt=tt.return}if(X===null)throw Error(p$4(160));ak(_e,et,j),X=null,Yj=!1;var rt=j.alternate;rt!==null&&(rt.return=null),j.return=null}catch(nt){W(j,o,nt)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,a),o=o.sibling}function ek(a,o){var s=a.alternate,$=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(dk(o,a),fk(a),$&4){try{Qj(3,a,a.return),Rj(3,a)}catch(pt){W(a,a.return,pt)}try{Qj(5,a,a.return)}catch(pt){W(a,a.return,pt)}}break;case 1:dk(o,a),fk(a),$&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(o,a),fk(a),$&512&&s!==null&&Mj(s,s.return),a.flags&32){var j=a.stateNode;try{ob(j,"")}catch(pt){W(a,a.return,pt)}}if($&4&&(j=a.stateNode,j!=null)){var _e=a.memoizedProps,et=s!==null?s.memoizedProps:_e,tt=a.type,rt=a.updateQueue;if(a.updateQueue=null,rt!==null)try{tt==="input"&&_e.type==="radio"&&_e.name!=null&&ab(j,_e),vb(tt,et);var nt=vb(tt,_e);for(et=0;et<rt.length;et+=2){var it=rt[et],ot=rt[et+1];it==="style"?sb(j,ot):it==="dangerouslySetInnerHTML"?nb(j,ot):it==="children"?ob(j,ot):ta(j,it,ot,nt)}switch(tt){case"input":bb(j,_e);break;case"textarea":ib(j,_e);break;case"select":var at=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!_e.multiple;var ut=_e.value;ut!=null?fb(j,!!_e.multiple,ut,!1):at!==!!_e.multiple&&(_e.defaultValue!=null?fb(j,!!_e.multiple,_e.defaultValue,!0):fb(j,!!_e.multiple,_e.multiple?[]:"",!1))}j[Pf]=_e}catch(pt){W(a,a.return,pt)}}break;case 6:if(dk(o,a),fk(a),$&4){if(a.stateNode===null)throw Error(p$4(162));j=a.stateNode,_e=a.memoizedProps;try{j.nodeValue=_e}catch(pt){W(a,a.return,pt)}}break;case 3:if(dk(o,a),fk(a),$&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(pt){W(a,a.return,pt)}break;case 4:dk(o,a),fk(a);break;case 13:dk(o,a),fk(a),j=a.child,j.flags&8192&&(_e=j.memoizedState!==null,j.stateNode.isHidden=_e,!_e||j.alternate!==null&&j.alternate.memoizedState!==null||(gk=B())),$&4&&bk(a);break;case 22:if(it=s!==null&&s.memoizedState!==null,a.mode&1?(U=(nt=U)||it,dk(o,a),U=nt):dk(o,a),fk(a),$&8192){if(nt=a.memoizedState!==null,(a.stateNode.isHidden=nt)&&!it&&a.mode&1)for(V=a,it=a.child;it!==null;){for(ot=V=it;V!==null;){switch(at=V,ut=at.child,at.tag){case 0:case 11:case 14:case 15:Qj(4,at,at.return);break;case 1:Mj(at,at.return);var ht=at.stateNode;if(typeof ht.componentWillUnmount=="function"){$=at,s=at.return;try{o=$,ht.props=o.memoizedProps,ht.state=o.memoizedState,ht.componentWillUnmount()}catch(pt){W($,s,pt)}}break;case 5:Mj(at,at.return);break;case 22:if(at.memoizedState!==null){hk(ot);continue}}ut!==null?(ut.return=at,V=ut):hk(ot)}it=it.sibling}e:for(it=null,ot=a;;){if(ot.tag===5){if(it===null){it=ot;try{j=ot.stateNode,nt?(_e=j.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(tt=ot.stateNode,rt=ot.memoizedProps.style,et=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,tt.style.display=rb("display",et))}catch(pt){W(a,a.return,pt)}}}else if(ot.tag===6){if(it===null)try{ot.stateNode.nodeValue=nt?"":ot.memoizedProps}catch(pt){W(a,a.return,pt)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===a)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===a)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===a)break e;it===ot&&(it=null),ot=ot.return}it===ot&&(it=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:dk(o,a),fk(a),$&4&&bk(a);break;case 21:break;default:dk(o,a),fk(a)}}function fk(a){var o=a.flags;if(o&2){try{e:{for(var s=a.return;s!==null;){if(Uj(s)){var $=s;break e}s=s.return}throw Error(p$4(160))}switch($.tag){case 5:var j=$.stateNode;$.flags&32&&(ob(j,""),$.flags&=-33);var _e=Vj(a);Xj(a,_e,j);break;case 3:case 4:var et=$.stateNode.containerInfo,tt=Vj(a);Wj(a,tt,et);break;default:throw Error(p$4(161))}}catch(rt){W(a,a.return,rt)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function ik(a,o,s){V=a,jk(a)}function jk(a,o,s){for(var $=(a.mode&1)!==0;V!==null;){var j=V,_e=j.child;if(j.tag===22&&$){var et=j.memoizedState!==null||Kj;if(!et){var tt=j.alternate,rt=tt!==null&&tt.memoizedState!==null||U;tt=Kj;var nt=U;if(Kj=et,(U=rt)&&!nt)for(V=j;V!==null;)et=V,rt=et.child,et.tag===22&&et.memoizedState!==null?kk(j):rt!==null?(rt.return=et,V=rt):kk(j);for(;_e!==null;)V=_e,jk(_e),_e=_e.sibling;V=j,Kj=tt,U=nt}lk(a)}else j.subtreeFlags&8772&&_e!==null?(_e.return=j,V=_e):lk(a)}}function lk(a){for(;V!==null;){var o=V;if(o.flags&8772){var s=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var $=o.stateNode;if(o.flags&4&&!U)if(s===null)$.componentDidMount();else{var j=o.elementType===o.type?s.memoizedProps:Lg(o.type,s.memoizedProps);$.componentDidUpdate(j,s.memoizedState,$.__reactInternalSnapshotBeforeUpdate)}var _e=o.updateQueue;_e!==null&&ih(o,_e,$);break;case 3:var et=o.updateQueue;if(et!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ih(o,et,s)}break;case 5:var tt=o.stateNode;if(s===null&&o.flags&4){s=tt;var rt=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&s.focus();break;case"img":rt.src&&(s.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var nt=o.alternate;if(nt!==null){var it=nt.memoizedState;if(it!==null){var ot=it.dehydrated;ot!==null&&bd(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U||o.flags&512&&Sj(o)}catch(at){W(o,o.return,at)}}if(o===a){V=null;break}if(s=o.sibling,s!==null){s.return=o.return,V=s;break}V=o.return}}function hk(a){for(;V!==null;){var o=V;if(o===a){V=null;break}var s=o.sibling;if(s!==null){s.return=o.return,V=s;break}V=o.return}}function kk(a){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Rj(4,o)}catch(rt){W(o,s,rt)}break;case 1:var $=o.stateNode;if(typeof $.componentDidMount=="function"){var j=o.return;try{$.componentDidMount()}catch(rt){W(o,j,rt)}}var _e=o.return;try{Sj(o)}catch(rt){W(o,_e,rt)}break;case 5:var et=o.return;try{Sj(o)}catch(rt){W(o,et,rt)}}}catch(rt){W(o,o.return,rt)}if(o===a){V=null;break}var tt=o.sibling;if(tt!==null){tt.return=o.return,V=tt;break}V=o.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(a){return a.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(a=C,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function mh(a,o,s,$){if(50<zk)throw zk=0,Ak=null,Error(p$4(185));Ac(a,s,$),(!(K&2)||a!==R$1)&&(a===R$1&&(!(K&2)&&(rk|=s),T===4&&Dk(a,Z)),Ek(a,$),s===1&&K===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(a,o){var s=a.callbackNode;wc(a,o);var $=uc(a,a===R$1?Z:0);if($===0)s!==null&&bc(s),a.callbackNode=null,a.callbackPriority=0;else if(o=$&-$,a.callbackPriority!==o){if(s!=null&&bc(s),o===1)a.tag===0?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc($)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,a))}a.callbackPriority=o,a.callbackNode=s}}function Hk(a,o){if(Bk=-1,Ck=0,K&6)throw Error(p$4(327));var s=a.callbackNode;if(Ik()&&a.callbackNode!==s)return null;var $=uc(a,a===R$1?Z:0);if($===0)return null;if($&30||$&a.expiredLanes||o)o=Jk(a,$);else{o=$;var j=K;K|=2;var _e=Kk();(R$1!==a||Z!==o)&&(vk=null,Hj=B()+500,Lk(a,o));do try{Mk();break}catch(tt){Nk(a,tt)}while(1);Qg(),nk.current=_e,K=j,Y!==null?o=0:(R$1=null,Z=0,o=T)}if(o!==0){if(o===2&&(j=xc(a),j!==0&&($=j,o=Ok(a,j))),o===1)throw s=qk,Lk(a,0),Dk(a,$),Ek(a,B()),s;if(o===6)Dk(a,$);else{if(j=a.current.alternate,!($&30)&&!Pk(j)&&(o=Jk(a,$),o===2&&(_e=xc(a),_e!==0&&($=_e,o=Ok(a,_e))),o===1))throw s=qk,Lk(a,0),Dk(a,$),Ek(a,B()),s;switch(a.finishedWork=j,a.finishedLanes=$,o){case 0:case 1:throw Error(p$4(345));case 2:Qk(a,uk,vk);break;case 3:if(Dk(a,$),($&130023424)===$&&(o=gk+500-B(),10<o)){if(uc(a,0)!==0)break;if(j=a.suspendedLanes,(j&$)!==$){L(),a.pingedLanes|=a.suspendedLanes&j;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),o);break}Qk(a,uk,vk);break;case 4:if(Dk(a,$),($&4194240)===$)break;for(o=a.eventTimes,j=-1;0<$;){var et=31-oc($);_e=1<<et,et=o[et],et>j&&(j=et),$&=~_e}if($=j,$=B()-$,$=(120>$?120:480>$?480:1080>$?1080:1920>$?1920:3e3>$?3e3:4320>$?4320:1960*mk($/1960))-$,10<$){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),$);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p$4(329))}}}return Ek(a,B()),a.callbackNode===s?Hk.bind(null,a):null}function Ok(a,o){var s=tk;return a.current.memoizedState.isDehydrated&&(Lk(a,o).flags|=256),a=Jk(a,o),a!==2&&(o=uk,uk=s,o!==null&&Gj(o)),a}function Gj(a){uk===null?uk=a:uk.push.apply(uk,a)}function Pk(a){for(var o=a;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var $=0;$<s.length;$++){var j=s[$],_e=j.getSnapshot;j=j.value;try{if(!He(_e(),j))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(a,o){for(o&=~sk,o&=~rk,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var s=31-oc(o),$=1<<s;a[s]=-1,o&=~$}}function Fk(a){if(K&6)throw Error(p$4(327));Ik();var o=uc(a,0);if(!(o&1))return Ek(a,B()),null;var s=Jk(a,o);if(a.tag!==0&&s===2){var $=xc(a);$!==0&&(o=$,s=Ok(a,$))}if(s===1)throw s=qk,Lk(a,0),Dk(a,o),Ek(a,B()),s;if(s===6)throw Error(p$4(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,Qk(a,uk,vk),Ek(a,B()),null}function Rk(a,o){var s=K;K|=1;try{return a(o)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(a){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var o=K;K|=1;var s=pk.transition,$=C;try{if(pk.transition=null,C=1,a)return a()}finally{C=$,pk.transition=s,K=o,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(a,o){a.finishedWork=null,a.finishedLanes=0;var s=a.timeoutHandle;if(s!==-1&&(a.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var $=s;switch(wg($),$.tag){case 1:$=$.type.childContextTypes,$!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh($);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg($.type._context);break;case 22:case 23:Ij()}s=s.return}if(R$1=a,Y=a=wh(a.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(s=Wg[o],$=s.interleaved,$!==null){s.interleaved=null;var j=$.next,_e=s.pending;if(_e!==null){var et=_e.next;_e.next=j,$.next=et}s.pending=$}Wg=null}return a}function Nk(a,o){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var $=N.memoizedState;$!==null;){var j=$.queue;j!==null&&(j.pending=null),$=$.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=o,Y=null;break}e:{var _e=a,et=s.return,tt=s,rt=o;if(o=Z,tt.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var nt=rt,it=tt,ot=it.tag;if(!(it.mode&1)&&(ot===0||ot===11||ot===15)){var at=it.alternate;at?(it.updateQueue=at.updateQueue,it.memoizedState=at.memoizedState,it.lanes=at.lanes):(it.updateQueue=null,it.memoizedState=null)}var ut=Vi(et);if(ut!==null){ut.flags&=-257,Wi(ut,et,tt,_e,o),ut.mode&1&&Ti(_e,nt,o),o=ut,rt=nt;var ht=o.updateQueue;if(ht===null){var pt=new Set;pt.add(rt),o.updateQueue=pt}else ht.add(rt);break e}else{if(!(o&1)){Ti(_e,nt,o),uj();break e}rt=Error(p$4(426))}}else if(I&&tt.mode&1){var Ct=Vi(et);if(Ct!==null){!(Ct.flags&65536)&&(Ct.flags|=256),Wi(Ct,et,tt,_e,o),Jg(Ki(rt,tt));break e}}_e=rt=Ki(rt,tt),T!==4&&(T=2),tk===null?tk=[_e]:tk.push(_e),_e=et;do{switch(_e.tag){case 3:_e.flags|=65536,o&=-o,_e.lanes|=o;var lt=Oi(_e,rt,o);fh(_e,lt);break e;case 1:tt=rt;var ft=_e.type,gt=_e.stateNode;if(!(_e.flags&128)&&(typeof ft.getDerivedStateFromError=="function"||gt!==null&&typeof gt.componentDidCatch=="function"&&(Si===null||!Si.has(gt)))){_e.flags|=65536,o&=-o,_e.lanes|=o;var St=Ri(_e,tt,o);fh(_e,St);break e}}_e=_e.return}while(_e!==null)}Tk(s)}catch(It){o=It,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(1)}function Kk(){var a=nk.current;return nk.current=ai,a===null?ai:a}function uj(){(T===0||T===3||T===2)&&(T=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z)}function Jk(a,o){var s=K;K|=2;var $=Kk();(R$1!==a||Z!==o)&&(vk=null,Lk(a,o));do try{Uk();break}catch(j){Nk(a,j)}while(1);if(Qg(),K=s,nk.current=$,Y!==null)throw Error(p$4(261));return R$1=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(a){var o=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps,o===null?Tk(a):Y=o,ok.current=null}function Tk(a){var o=a;do{var s=o.alternate;if(a=o.return,o.flags&32768){if(s=Jj(s,o),s!==null){s.flags&=32767,Y=s;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,o,gj),s!==null){Y=s;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=a}while(o!==null);T===0&&(T=5)}function Qk(a,o,s){var $=C,j=pk.transition;try{pk.transition=null,C=1,Xk(a,o,s,$)}finally{pk.transition=j,C=$}return null}function Xk(a,o,s,$){do Ik();while(xk!==null);if(K&6)throw Error(p$4(327));s=a.finishedWork;var j=a.finishedLanes;if(s===null)return null;if(a.finishedWork=null,a.finishedLanes=0,s===a.current)throw Error(p$4(177));a.callbackNode=null,a.callbackPriority=0;var _e=s.lanes|s.childLanes;if(Bc(a,_e),a===R$1&&(Y=R$1=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),_e=(s.flags&15990)!==0,s.subtreeFlags&15990||_e){_e=pk.transition,pk.transition=null;var et=C;C=1;var tt=K;K|=4,ok.current=null,Pj(a,s),ek(s,a),Oe(Df),dd=!!Cf,Df=Cf=null,a.current=s,ik(s),dc(),K=tt,C=et,pk.transition=_e}else a.current=s;if(wk&&(wk=!1,xk=a,yk=j),_e=a.pendingLanes,_e===0&&(Si=null),mc(s.stateNode),Ek(a,B()),o!==null)for($=a.onRecoverableError,s=0;s<o.length;s++)j=o[s],$(j.value,{componentStack:j.stack,digest:j.digest});if(Pi)throw Pi=!1,a=Qi,Qi=null,a;return yk&1&&a.tag!==0&&Ik(),_e=a.pendingLanes,_e&1?a===Ak?zk++:(zk=0,Ak=a):zk=0,jg(),null}function Ik(){if(xk!==null){var a=Dc(yk),o=pk.transition,s=C;try{if(pk.transition=null,C=16>a?16:a,xk===null)var $=!1;else{if(a=xk,xk=null,yk=0,K&6)throw Error(p$4(331));var j=K;for(K|=4,V=a.current;V!==null;){var _e=V,et=_e.child;if(V.flags&16){var tt=_e.deletions;if(tt!==null){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];for(V=nt;V!==null;){var it=V;switch(it.tag){case 0:case 11:case 15:Qj(8,it,_e)}var ot=it.child;if(ot!==null)ot.return=it,V=ot;else for(;V!==null;){it=V;var at=it.sibling,ut=it.return;if(Tj(it),it===nt){V=null;break}if(at!==null){at.return=ut,V=at;break}V=ut}}}var ht=_e.alternate;if(ht!==null){var pt=ht.child;if(pt!==null){ht.child=null;do{var Ct=pt.sibling;pt.sibling=null,pt=Ct}while(pt!==null)}}V=_e}}if(_e.subtreeFlags&2064&&et!==null)et.return=_e,V=et;else e:for(;V!==null;){if(_e=V,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Qj(9,_e,_e.return)}var lt=_e.sibling;if(lt!==null){lt.return=_e.return,V=lt;break e}V=_e.return}}var ft=a.current;for(V=ft;V!==null;){et=V;var gt=et.child;if(et.subtreeFlags&2064&&gt!==null)gt.return=et,V=gt;else e:for(et=ft;V!==null;){if(tt=V,tt.flags&2048)try{switch(tt.tag){case 0:case 11:case 15:Rj(9,tt)}}catch(It){W(tt,tt.return,It)}if(tt===et){V=null;break e}var St=tt.sibling;if(St!==null){St.return=tt.return,V=St;break e}V=tt.return}}if(K=j,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}$=!0}return $}finally{C=s,pk.transition=o}}return!1}function Yk(a,o,s){o=Ki(s,o),o=Oi(a,o,1),a=dh(a,o,1),o=L(),a!==null&&(Ac(a,1,o),Ek(a,o))}function W(a,o,s){if(a.tag===3)Yk(a,a,s);else for(;o!==null;){if(o.tag===3){Yk(o,a,s);break}else if(o.tag===1){var $=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(Si===null||!Si.has($))){a=Ki(s,a),a=Ri(o,a,1),o=dh(o,a,1),a=L(),o!==null&&(Ac(o,1,a),Ek(o,a));break}}o=o.return}}function Ui(a,o,s){var $=a.pingCache;$!==null&&$.delete(o),o=L(),a.pingedLanes|=a.suspendedLanes&s,R$1===a&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(a,0):sk|=s),Ek(a,o)}function Zk(a,o){o===0&&(a.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var s=L();a=Zg(a,o),a!==null&&(Ac(a,o,s),Ek(a,s))}function vj(a){var o=a.memoizedState,s=0;o!==null&&(s=o.retryLane),Zk(a,s)}function ck(a,o){var s=0;switch(a.tag){case 13:var $=a.stateNode,j=a.memoizedState;j!==null&&(s=j.retryLane);break;case 19:$=a.stateNode;break;default:throw Error(p$4(314))}$!==null&&$.delete(o),Zk(a,s)}var Wk;Wk=function(a,o,s){if(a!==null)if(a.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(a.lanes&s)&&!(o.flags&128))return Ug=!1,zj(a,o,s);Ug=!!(a.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var $=o.type;jj(a,o),a=o.pendingProps;var j=Yf(o,H.current);Tg(o,s),j=Xh(null,o,$,a,j,s);var _e=bi();return o.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf($)?(_e=!0,cg(o)):_e=!1,o.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,ah(o),j.updater=nh,o.stateNode=j,j._reactInternals=o,rh(o,$,a,s),o=kj(null,o,$,!0,_e,s)):(o.tag=0,I&&_e&&vg(o),Yi(null,o,j,s),o=o.child),o;case 16:$=o.elementType;e:{switch(jj(a,o),a=o.pendingProps,j=$._init,$=j($._payload),o.type=$,j=o.tag=$k($),a=Lg($,a),j){case 0:o=dj(null,o,$,a,s);break e;case 1:o=ij(null,o,$,a,s);break e;case 11:o=Zi(null,o,$,a,s);break e;case 14:o=aj(null,o,$,Lg($.type,a),s);break e}throw Error(p$4(306,$,""))}return o;case 0:return $=o.type,j=o.pendingProps,j=o.elementType===$?j:Lg($,j),dj(a,o,$,j,s);case 1:return $=o.type,j=o.pendingProps,j=o.elementType===$?j:Lg($,j),ij(a,o,$,j,s);case 3:e:{if(lj(o),a===null)throw Error(p$4(387));$=o.pendingProps,_e=o.memoizedState,j=_e.element,bh(a,o),gh(o,$,null,s);var et=o.memoizedState;if($=et.element,_e.isDehydrated)if(_e={element:$,isDehydrated:!1,cache:et.cache,pendingSuspenseBoundaries:et.pendingSuspenseBoundaries,transitions:et.transitions},o.updateQueue.baseState=_e,o.memoizedState=_e,o.flags&256){j=Ki(Error(p$4(423)),o),o=mj(a,o,$,s,j);break e}else if($!==j){j=Ki(Error(p$4(424)),o),o=mj(a,o,$,s,j);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,s=Ch(o,null,$,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),$===j){o=$i(a,o,s);break e}Yi(a,o,$,s)}o=o.child}return o;case 5:return Kh(o),a===null&&Eg(o),$=o.type,j=o.pendingProps,_e=a!==null?a.memoizedProps:null,et=j.children,Ef($,j)?et=null:_e!==null&&Ef($,_e)&&(o.flags|=32),hj(a,o),Yi(a,o,et,s),o.child;case 6:return a===null&&Eg(o),null;case 13:return pj(a,o,s);case 4:return Ih(o,o.stateNode.containerInfo),$=o.pendingProps,a===null?o.child=Bh(o,null,$,s):Yi(a,o,$,s),o.child;case 11:return $=o.type,j=o.pendingProps,j=o.elementType===$?j:Lg($,j),Zi(a,o,$,j,s);case 7:return Yi(a,o,o.pendingProps,s),o.child;case 8:return Yi(a,o,o.pendingProps.children,s),o.child;case 12:return Yi(a,o,o.pendingProps.children,s),o.child;case 10:e:{if($=o.type._context,j=o.pendingProps,_e=o.memoizedProps,et=j.value,G(Mg,$._currentValue),$._currentValue=et,_e!==null)if(He(_e.value,et)){if(_e.children===j.children&&!Wf.current){o=$i(a,o,s);break e}}else for(_e=o.child,_e!==null&&(_e.return=o);_e!==null;){var tt=_e.dependencies;if(tt!==null){et=_e.child;for(var rt=tt.firstContext;rt!==null;){if(rt.context===$){if(_e.tag===1){rt=ch(-1,s&-s),rt.tag=2;var nt=_e.updateQueue;if(nt!==null){nt=nt.shared;var it=nt.pending;it===null?rt.next=rt:(rt.next=it.next,it.next=rt),nt.pending=rt}}_e.lanes|=s,rt=_e.alternate,rt!==null&&(rt.lanes|=s),Sg(_e.return,s,o),tt.lanes|=s;break}rt=rt.next}}else if(_e.tag===10)et=_e.type===o.type?null:_e.child;else if(_e.tag===18){if(et=_e.return,et===null)throw Error(p$4(341));et.lanes|=s,tt=et.alternate,tt!==null&&(tt.lanes|=s),Sg(et,s,o),et=_e.sibling}else et=_e.child;if(et!==null)et.return=_e;else for(et=_e;et!==null;){if(et===o){et=null;break}if(_e=et.sibling,_e!==null){_e.return=et.return,et=_e;break}et=et.return}_e=et}Yi(a,o,j.children,s),o=o.child}return o;case 9:return j=o.type,$=o.pendingProps.children,Tg(o,s),j=Vg(j),$=$(j),o.flags|=1,Yi(a,o,$,s),o.child;case 14:return $=o.type,j=Lg($,o.pendingProps),j=Lg($.type,j),aj(a,o,$,j,s);case 15:return cj(a,o,o.type,o.pendingProps,s);case 17:return $=o.type,j=o.pendingProps,j=o.elementType===$?j:Lg($,j),jj(a,o),o.tag=1,Zf($)?(a=!0,cg(o)):a=!1,Tg(o,s),ph(o,$,j),rh(o,$,j,s),kj(null,o,$,!0,a,s);case 19:return yj(a,o,s);case 22:return ej(a,o,s)}throw Error(p$4(156,o.tag))};function Gk(a,o){return ac(a,o)}function al(a,o,s,$){this.tag=a,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,o,s,$){return new al(a,o,s,$)}function bj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $k(a){if(typeof a=="function")return bj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function wh(a,o){var s=a.alternate;return s===null?(s=Bg(a.tag,o,a.key,a.mode),s.elementType=a.elementType,s.type=a.type,s.stateNode=a.stateNode,s.alternate=a,a.alternate=s):(s.pendingProps=o,s.type=a.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=a.flags&14680064,s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,o=a.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=a.sibling,s.index=a.index,s.ref=a.ref,s}function yh(a,o,s,$,j,_e){var et=2;if($=a,typeof a=="function")bj(a)&&(et=1);else if(typeof a=="string")et=5;else e:switch(a){case ya:return Ah(s.children,j,_e,o);case za:et=8,j|=8;break;case Aa:return a=Bg(12,s,o,j|2),a.elementType=Aa,a.lanes=_e,a;case Ea:return a=Bg(13,s,o,j),a.elementType=Ea,a.lanes=_e,a;case Fa:return a=Bg(19,s,o,j),a.elementType=Fa,a.lanes=_e,a;case Ia:return qj(s,j,_e,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:et=10;break e;case Ca:et=9;break e;case Da:et=11;break e;case Ga:et=14;break e;case Ha:et=16,$=null;break e}throw Error(p$4(130,a==null?a:typeof a,""))}return o=Bg(et,s,o,j),o.elementType=a,o.type=$,o.lanes=_e,o}function Ah(a,o,s,$){return a=Bg(7,a,$,o),a.lanes=s,a}function qj(a,o,s,$){return a=Bg(22,a,$,o),a.elementType=Ia,a.lanes=s,a.stateNode={isHidden:!1},a}function xh(a,o,s){return a=Bg(6,a,null,o),a.lanes=s,a}function zh(a,o,s){return o=Bg(4,a.children!==null?a.children:[],a.key,o),o.lanes=s,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function bl(a,o,s,$,j){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=$,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function cl(a,o,s,$,j,_e,et,tt,rt){return a=new bl(a,o,s,tt,rt),o===1?(o=1,_e===!0&&(o|=8)):o=0,_e=Bg(3,null,null,o),a.current=_e,_e.stateNode=a,_e.memoizedState={element:$,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(_e),a}function dl(a,o,s){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:$==null?null:""+$,children:a,containerInfo:o,implementation:s}}function el(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb(a)!==a||a.tag!==1)throw Error(p$4(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$4(171))}if(a.tag===1){var s=a.type;if(Zf(s))return bg(a,s,o)}return o}function fl(a,o,s,$,j,_e,et,tt,rt){return a=cl(s,$,!0,a,j,_e,et,tt,rt),a.context=el(null),s=a.current,$=L(),j=lh(s),_e=ch($,j),_e.callback=o??null,dh(s,_e,j),a.current.lanes=j,Ac(a,j,$),Ek(a,$),a}function gl(a,o,s,$){var j=o.current,_e=L(),et=lh(j);return s=el(s),o.context===null?o.context=s:o.pendingContext=s,o=ch(_e,et),o.payload={element:a},$=$===void 0?null:$,$!==null&&(o.callback=$),a=dh(j,o,et),a!==null&&(mh(a,j,et,_e),eh(a,j,et)),et}function hl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var s=a.retryLane;a.retryLane=s!==0&&s<o?s:o}}function jl(a,o){il(a,o),(a=a.alternate)&&il(a,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}nl.prototype.render=ml.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(p$4(409));gl(a,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Sk(function(){gl(null,a,null,null)}),o[uf]=null}};function nl(a){this._internalRoot=a}nl.prototype.unstable_scheduleHydration=function(a){if(a){var o=Hc();a={blockedOn:null,target:a,priority:o};for(var s=0;s<Qc.length&&o!==0&&o<Qc[s].priority;s++);Qc.splice(s,0,a),s===0&&Vc(a)}};function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function pl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(a,o,s,$,j){if(j){if(typeof $=="function"){var _e=$;$=function(){var nt=hl(et);_e.call(nt)}}var et=fl(o,$,a,0,null,!1,!1,"",ql);return a._reactRootContainer=et,a[uf]=et.current,sf(a.nodeType===8?a.parentNode:a),Sk(),et}for(;j=a.lastChild;)a.removeChild(j);if(typeof $=="function"){var tt=$;$=function(){var nt=hl(rt);tt.call(nt)}}var rt=cl(a,0,!1,null,null,!1,!1,"",ql);return a._reactRootContainer=rt,a[uf]=rt.current,sf(a.nodeType===8?a.parentNode:a),Sk(function(){gl(o,rt,s,$)}),rt}function sl(a,o,s,$,j){var _e=s._reactRootContainer;if(_e){var et=_e;if(typeof j=="function"){var tt=j;j=function(){var rt=hl(et);tt.call(rt)}}gl(o,et,a,j)}else et=rl(s,o,a,j,$);return hl(et)}Ec=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var s=tc(o.pendingLanes);s!==0&&(Cc(o,s|1),Ek(o,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var $=Zg(a,1);if($!==null){var j=L();mh($,a,1,j)}}),jl(a,1)}};Fc=function(a){if(a.tag===13){var o=Zg(a,134217728);if(o!==null){var s=L();mh(o,a,134217728,s)}jl(a,134217728)}};Gc=function(a){if(a.tag===13){var o=lh(a),s=Zg(a,o);if(s!==null){var $=L();mh(s,a,o,$)}jl(a,o)}};Hc=function(){return C};Ic=function(a,o){var s=C;try{return C=a,o()}finally{C=s}};yb=function(a,o,s){switch(o){case"input":if(bb(a,s),o=s.name,s.type==="radio"&&o!=null){for(s=a;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var $=s[o];if($!==a&&$.form===a.form){var j=Db($);if(!j)throw Error(p$4(90));Wa($),bb($,j)}}}break;case"textarea":ib(a,s);break;case"select":o=s.value,o!=null&&fb(a,!!s.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(a,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$4(200));return dl(a,o,null,s)};reactDom_production_min.createRoot=function(a,o){if(!ol(a))throw Error(p$4(299));var s=!1,$="",j=ll;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&($=o.identifierPrefix),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),o=cl(a,1,!1,null,null,s,!1,$,j),a[uf]=o.current,sf(a.nodeType===8?a.parentNode:a),new ml(o)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(p$4(188)):(a=Object.keys(a).join(","),Error(p$4(268,a)));return a=Zb(o),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Sk(a)};reactDom_production_min.hydrate=function(a,o,s){if(!pl(o))throw Error(p$4(200));return sl(null,a,o,!0,s)};reactDom_production_min.hydrateRoot=function(a,o,s){if(!ol(a))throw Error(p$4(405));var $=s!=null&&s.hydratedSources||null,j=!1,_e="",et=ll;if(s!=null&&(s.unstable_strictMode===!0&&(j=!0),s.identifierPrefix!==void 0&&(_e=s.identifierPrefix),s.onRecoverableError!==void 0&&(et=s.onRecoverableError)),o=fl(o,null,a,1,s??null,j,!1,_e,et),a[uf]=o.current,sf(a),$)for(a=0;a<$.length;a++)s=$[a],j=s._getVersion,j=j(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,j]:o.mutableSourceEagerHydrationData.push(s,j);return new nl(o)};reactDom_production_min.render=function(a,o,s){if(!pl(o))throw Error(p$4(200));return sl(null,a,o,!1,s)};reactDom_production_min.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p$4(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,o,s,$){if(!pl(s))throw Error(p$4(200));if(a==null||a._reactInternals===void 0)throw Error(p$4(38));return sl(a,o,s,!1,$)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;/*! @azure/msal-browser v2.37.0 2023-05-01 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(a,o){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,$){s.__proto__=$}||function(s,$){for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(s[j]=$[j])},extendStatics$1(a,o)};function __extends$1(a,o){extendStatics$1(a,o);function s(){this.constructor=a}a.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}var __assign$1=function(){return __assign$1=Object.assign||function(o){for(var s,$=1,j=arguments.length;$<j;$++){s=arguments[$];for(var _e in s)Object.prototype.hasOwnProperty.call(s,_e)&&(o[_e]=s[_e])}return o},__assign$1.apply(this,arguments)};function __rest(a,o){var s={};for(var $ in a)Object.prototype.hasOwnProperty.call(a,$)&&o.indexOf($)<0&&(s[$]=a[$]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,$=Object.getOwnPropertySymbols(a);j<$.length;j++)o.indexOf($[j])<0&&Object.prototype.propertyIsEnumerable.call(a,$[j])&&(s[$[j]]=a[$[j]]);return s}function __awaiter$1(a,o,s,$){function j(_e){return _e instanceof s?_e:new s(function(et){et(_e)})}return new(s||(s=Promise))(function(_e,et){function tt(it){try{nt($.next(it))}catch(ot){et(ot)}}function rt(it){try{nt($.throw(it))}catch(ot){et(ot)}}function nt(it){it.done?_e(it.value):j(it.value).then(tt,rt)}nt(($=$.apply(a,o||[])).next())})}function __generator$1(a,o){var s={label:0,sent:function(){if(_e[0]&1)throw _e[1];return _e[1]},trys:[],ops:[]},$,j,_e,et;return et={next:tt(0),throw:tt(1),return:tt(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function tt(nt){return function(it){return rt([nt,it])}}function rt(nt){if($)throw new TypeError("Generator is already executing.");for(;s;)try{if($=1,j&&(_e=nt[0]&2?j.return:nt[0]?j.throw||((_e=j.return)&&_e.call(j),0):j.next)&&!(_e=_e.call(j,nt[1])).done)return _e;switch(j=0,_e&&(nt=[nt[0]&2,_e.value]),nt[0]){case 0:case 1:_e=nt;break;case 4:return s.label++,{value:nt[1],done:!1};case 5:s.label++,j=nt[1],nt=[0];continue;case 7:nt=s.ops.pop(),s.trys.pop();continue;default:if(_e=s.trys,!(_e=_e.length>0&&_e[_e.length-1])&&(nt[0]===6||nt[0]===2)){s=0;continue}if(nt[0]===3&&(!_e||nt[1]>_e[0]&&nt[1]<_e[3])){s.label=nt[1];break}if(nt[0]===6&&s.label<_e[1]){s.label=_e[1],_e=nt;break}if(_e&&s.label<_e[2]){s.label=_e[2],s.ops.push(nt);break}_e[2]&&s.ops.pop(),s.trys.pop();continue}nt=o.call(a,s)}catch(it){nt=[6,it],j=0}finally{$=_e=0}if(nt[0]&5)throw nt[1];return{value:nt[0]?nt[1]:void 0,done:!0}}}function __read(a,o){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var $=s.call(a),j,_e=[],et;try{for(;(o===void 0||o-- >0)&&!(j=$.next()).done;)_e.push(j.value)}catch(tt){et={error:tt}}finally{try{j&&!j.done&&(s=$.return)&&s.call($)}finally{if(et)throw et.error}}return _e}function __spread(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read(arguments[o]));return a}/*! @azure/msal-common v13.0.0 2023-05-01 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(a,o){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,$){s.__proto__=$}||function(s,$){for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(s[j]=$[j])},extendStatics(a,o)};function __extends(a,o){extendStatics(a,o);function s(){this.constructor=a}a.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}var __assign=function(){return __assign=Object.assign||function(o){for(var s,$=1,j=arguments.length;$<j;$++){s=arguments[$];for(var _e in s)Object.prototype.hasOwnProperty.call(s,_e)&&(o[_e]=s[_e])}return o},__assign.apply(this,arguments)};function __awaiter(a,o,s,$){function j(_e){return _e instanceof s?_e:new s(function(et){et(_e)})}return new(s||(s=Promise))(function(_e,et){function tt(it){try{nt($.next(it))}catch(ot){et(ot)}}function rt(it){try{nt($.throw(it))}catch(ot){et(ot)}}function nt(it){it.done?_e(it.value):j(it.value).then(tt,rt)}nt(($=$.apply(a,o||[])).next())})}function __generator(a,o){var s={label:0,sent:function(){if(_e[0]&1)throw _e[1];return _e[1]},trys:[],ops:[]},$,j,_e,et;return et={next:tt(0),throw:tt(1),return:tt(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function tt(nt){return function(it){return rt([nt,it])}}function rt(nt){if($)throw new TypeError("Generator is already executing.");for(;s;)try{if($=1,j&&(_e=nt[0]&2?j.return:nt[0]?j.throw||((_e=j.return)&&_e.call(j),0):j.next)&&!(_e=_e.call(j,nt[1])).done)return _e;switch(j=0,_e&&(nt=[nt[0]&2,_e.value]),nt[0]){case 0:case 1:_e=nt;break;case 4:return s.label++,{value:nt[1],done:!1};case 5:s.label++,j=nt[1],nt=[0];continue;case 7:nt=s.ops.pop(),s.trys.pop();continue;default:if(_e=s.trys,!(_e=_e.length>0&&_e[_e.length-1])&&(nt[0]===6||nt[0]===2)){s=0;continue}if(nt[0]===3&&(!_e||nt[1]>_e[0]&&nt[1]<_e[3])){s.label=nt[1];break}if(nt[0]===6&&s.label<_e[1]){s.label=_e[1],_e=nt;break}if(_e&&s.label<_e[2]){s.label=_e[2],s.ops.push(nt);break}_e[2]&&s.ops.pop(),s.trys.pop();continue}nt=o.call(a,s)}catch(it){nt=[6,it],j=0}finally{$=_e=0}if(nt[0]&5)throw nt[1];return{value:nt[0]?nt[1]:void 0,done:!0}}}function __spreadArrays(){for(var a=0,o=0,s=arguments.length;o<s;o++)a+=arguments[o].length;for(var $=Array(a),j=0,o=0;o<s;o++)for(var _e=arguments[o],et=0,tt=_e.length;et<tt;et++,j++)$[j]=_e[et];return $}/*! @azure/msal-common v13.0.0 2023-05-01 */var Constants={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",REGIONAL_AUTH_NON_MSI_QUERY_STRING:"allowestsrnonmsi=true",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},OIDC_DEFAULT_SCOPES=[Constants.OPENID_SCOPE,Constants.PROFILE_SCOPE,Constants.OFFLINE_ACCESS_SCOPE],OIDC_SCOPES=__spreadArrays(OIDC_DEFAULT_SCOPES,[Constants.EMAIL_SCOPE]),HeaderNames;(function(a){a.CONTENT_TYPE="Content-Type",a.RETRY_AFTER="Retry-After",a.CCS_HEADER="X-AnchorMailbox",a.WWWAuthenticate="WWW-Authenticate",a.AuthenticationInfo="Authentication-Info",a.X_MS_REQUEST_ID="x-ms-request-id",a.X_MS_HTTP_VERSION="x-ms-httpver"})(HeaderNames||(HeaderNames={}));var PersistentCacheKeys;(function(a){a.ID_TOKEN="idtoken",a.CLIENT_INFO="client.info",a.ADAL_ID_TOKEN="adal.idtoken",a.ERROR="error",a.ERROR_DESC="error.description",a.ACTIVE_ACCOUNT="active-account",a.ACTIVE_ACCOUNT_FILTERS="active-account-filters"})(PersistentCacheKeys||(PersistentCacheKeys={}));var AADAuthorityConstants;(function(a){a.COMMON="common",a.ORGANIZATIONS="organizations",a.CONSUMERS="consumers"})(AADAuthorityConstants||(AADAuthorityConstants={}));var AADServerParamKeys;(function(a){a.CLIENT_ID="client_id",a.REDIRECT_URI="redirect_uri",a.RESPONSE_TYPE="response_type",a.RESPONSE_MODE="response_mode",a.GRANT_TYPE="grant_type",a.CLAIMS="claims",a.SCOPE="scope",a.ERROR="error",a.ERROR_DESCRIPTION="error_description",a.ACCESS_TOKEN="access_token",a.ID_TOKEN="id_token",a.REFRESH_TOKEN="refresh_token",a.EXPIRES_IN="expires_in",a.STATE="state",a.NONCE="nonce",a.PROMPT="prompt",a.SESSION_STATE="session_state",a.CLIENT_INFO="client_info",a.CODE="code",a.CODE_CHALLENGE="code_challenge",a.CODE_CHALLENGE_METHOD="code_challenge_method",a.CODE_VERIFIER="code_verifier",a.CLIENT_REQUEST_ID="client-request-id",a.X_CLIENT_SKU="x-client-SKU",a.X_CLIENT_VER="x-client-VER",a.X_CLIENT_OS="x-client-OS",a.X_CLIENT_CPU="x-client-CPU",a.X_CLIENT_CURR_TELEM="x-client-current-telemetry",a.X_CLIENT_LAST_TELEM="x-client-last-telemetry",a.X_MS_LIB_CAPABILITY="x-ms-lib-capability",a.X_APP_NAME="x-app-name",a.X_APP_VER="x-app-ver",a.POST_LOGOUT_URI="post_logout_redirect_uri",a.ID_TOKEN_HINT="id_token_hint",a.DEVICE_CODE="device_code",a.CLIENT_SECRET="client_secret",a.CLIENT_ASSERTION="client_assertion",a.CLIENT_ASSERTION_TYPE="client_assertion_type",a.TOKEN_TYPE="token_type",a.REQ_CNF="req_cnf",a.OBO_ASSERTION="assertion",a.REQUESTED_TOKEN_USE="requested_token_use",a.ON_BEHALF_OF="on_behalf_of",a.FOCI="foci",a.CCS_HEADER="X-AnchorMailbox",a.RETURN_SPA_CODE="return_spa_code",a.NATIVE_BROKER="nativebroker",a.LOGOUT_HINT="logout_hint"})(AADServerParamKeys||(AADServerParamKeys={}));var ClaimsRequestKeys;(function(a){a.ACCESS_TOKEN="access_token",a.XMS_CC="xms_cc"})(ClaimsRequestKeys||(ClaimsRequestKeys={}));var PromptValue={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},SSOTypes;(function(a){a.ACCOUNT="account",a.SID="sid",a.LOGIN_HINT="login_hint",a.ID_TOKEN="id_token",a.DOMAIN_HINT="domain_hint",a.ORGANIZATIONS="organizations",a.CONSUMERS="consumers",a.ACCOUNT_ID="accountIdentifier",a.HOMEACCOUNT_ID="homeAccountIdentifier"})(SSOTypes||(SSOTypes={}));var CodeChallengeMethodValues={PLAIN:"plain",S256:"S256"},ResponseMode;(function(a){a.QUERY="query",a.FRAGMENT="fragment",a.FORM_POST="form_post"})(ResponseMode||(ResponseMode={}));var GrantType;(function(a){a.IMPLICIT_GRANT="implicit",a.AUTHORIZATION_CODE_GRANT="authorization_code",a.CLIENT_CREDENTIALS_GRANT="client_credentials",a.RESOURCE_OWNER_PASSWORD_GRANT="password",a.REFRESH_TOKEN_GRANT="refresh_token",a.DEVICE_CODE_GRANT="device_code",a.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"})(GrantType||(GrantType={}));var CacheAccountType;(function(a){a.MSSTS_ACCOUNT_TYPE="MSSTS",a.ADFS_ACCOUNT_TYPE="ADFS",a.MSAV1_ACCOUNT_TYPE="MSA",a.GENERIC_ACCOUNT_TYPE="Generic"})(CacheAccountType||(CacheAccountType={}));var Separators;(function(a){a.CACHE_KEY_SEPARATOR="-",a.CLIENT_INFO_SEPARATOR="."})(Separators||(Separators={}));var CredentialType;(function(a){a.ID_TOKEN="IdToken",a.ACCESS_TOKEN="AccessToken",a.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",a.REFRESH_TOKEN="RefreshToken"})(CredentialType||(CredentialType={}));var CacheType;(function(a){a[a.ADFS=1001]="ADFS",a[a.MSA=1002]="MSA",a[a.MSSTS=1003]="MSSTS",a[a.GENERIC=1004]="GENERIC",a[a.ACCESS_TOKEN=2001]="ACCESS_TOKEN",a[a.REFRESH_TOKEN=2002]="REFRESH_TOKEN",a[a.ID_TOKEN=2003]="ID_TOKEN",a[a.APP_METADATA=3001]="APP_METADATA",a[a.UNDEFINED=9999]="UNDEFINED"})(CacheType||(CacheType={}));var APP_METADATA="appmetadata",CLIENT_INFO="client_info",THE_FAMILY_ID="1",AUTHORITY_METADATA_CONSTANTS={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},AuthorityMetadataSource;(function(a){a.CONFIG="config",a.CACHE="cache",a.NETWORK="network",a.HARDCODED_VALUES="hardcoded_values"})(AuthorityMetadataSource||(AuthorityMetadataSource={}));var SERVER_TELEM_CONSTANTS={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},AuthenticationScheme;(function(a){a.BEARER="Bearer",a.POP="pop",a.SSH="ssh-cert"})(AuthenticationScheme||(AuthenticationScheme={}));var ThrottlingConstants={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Errors={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},PasswordGrantConstants;(function(a){a.username="username",a.password="password"})(PasswordGrantConstants||(PasswordGrantConstants={}));var ResponseCodes;(function(a){a[a.httpSuccess=200]="httpSuccess",a[a.httpBadRequest=400]="httpBadRequest"})(ResponseCodes||(ResponseCodes={}));var RegionDiscoverySources;(function(a){a.FAILED_AUTO_DETECTION="1",a.INTERNAL_CACHE="2",a.ENVIRONMENT_VARIABLE="3",a.IMDS="4"})(RegionDiscoverySources||(RegionDiscoverySources={}));var RegionDiscoveryOutcomes;(function(a){a.CONFIGURED_MATCHES_DETECTED="1",a.CONFIGURED_NO_AUTO_DETECTION="2",a.CONFIGURED_NOT_DETECTED="3",a.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",a.AUTO_DETECTION_REQUESTED_FAILED="5"})(RegionDiscoveryOutcomes||(RegionDiscoveryOutcomes={}));var CacheOutcome;(function(a){a.NO_CACHE_HIT="0",a.FORCE_REFRESH="1",a.NO_CACHED_ACCESS_TOKEN="2",a.CACHED_ACCESS_TOKEN_EXPIRED="3",a.REFRESH_CACHED_ACCESS_TOKEN="4"})(CacheOutcome||(CacheOutcome={}));var JsonTypes;(function(a){a.Jwt="JWT",a.Jwk="JWK",a.Pop="pop"})(JsonTypes||(JsonTypes={}));/*! @azure/msal-common v13.0.0 2023-05-01 */var AuthErrorMessage={unexpectedError:{code:"unexpected_error",desc:"Unexpected error in authentication."},postRequestFailed:{code:"post_request_failed",desc:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."}},AuthError=function(a){__extends(o,a);function o(s,$,j){var _e=this,et=$?s+": "+$:s;return _e=a.call(this,et)||this,Object.setPrototypeOf(_e,o.prototype),_e.errorCode=s||Constants.EMPTY_STRING,_e.errorMessage=$||Constants.EMPTY_STRING,_e.subError=j||Constants.EMPTY_STRING,_e.name="AuthError",_e}return o.prototype.setCorrelationId=function(s){this.correlationId=s},o.createUnexpectedError=function(s){return new o(AuthErrorMessage.unexpectedError.code,AuthErrorMessage.unexpectedError.desc+": "+s)},o.createPostRequestFailed=function(s){return new o(AuthErrorMessage.postRequestFailed.code,AuthErrorMessage.postRequestFailed.desc+": "+s)},o}(Error);/*! @azure/msal-common v13.0.0 2023-05-01 */var DEFAULT_CRYPTO_IMPLEMENTATION={createNewGuid:function(){var a="Crypto interface - createNewGuid() has not been implemented";throw AuthError.createUnexpectedError(a)},base64Decode:function(){var a="Crypto interface - base64Decode() has not been implemented";throw AuthError.createUnexpectedError(a)},base64Encode:function(){var a="Crypto interface - base64Encode() has not been implemented";throw AuthError.createUnexpectedError(a)},generatePkceCodes:function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){throw a="Crypto interface - generatePkceCodes() has not been implemented",AuthError.createUnexpectedError(a)})})},getPublicKeyThumbprint:function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){throw a="Crypto interface - getPublicKeyThumbprint() has not been implemented",AuthError.createUnexpectedError(a)})})},removeTokenBindingKey:function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){throw a="Crypto interface - removeTokenBindingKey() has not been implemented",AuthError.createUnexpectedError(a)})})},clearKeystore:function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){throw a="Crypto interface - clearKeystore() has not been implemented",AuthError.createUnexpectedError(a)})})},signJwt:function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){throw a="Crypto interface - signJwt() has not been implemented",AuthError.createUnexpectedError(a)})})},hashString:function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){throw a="Crypto interface - hashString() has not been implemented",AuthError.createUnexpectedError(a)})})}};/*! @azure/msal-common v13.0.0 2023-05-01 */var ClientAuthErrorMessage={clientInfoDecodingError:{code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},clientInfoEmptyError:{code:"client_info_empty_error",desc:"The client info was empty. Please review the trace to determine the root cause."},tokenParsingError:{code:"token_parsing_error",desc:"Token cannot be parsed. Please review stack trace to determine root cause."},nullOrEmptyToken:{code:"null_or_empty_token",desc:"The token is null or empty. Please review the trace to determine the root cause."},endpointResolutionError:{code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},networkError:{code:"network_error",desc:"Network request failed. Please check network trace to determine root cause."},unableToGetOpenidConfigError:{code:"openid_config_error",desc:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."},hashNotDeserialized:{code:"hash_not_deserialized",desc:"The hash parameters could not be deserialized. Please review the trace to determine the root cause."},blankGuidGenerated:{code:"blank_guid_generated",desc:"The guid generated was blank. Please review the trace to determine the root cause."},invalidStateError:{code:"invalid_state",desc:"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState()."},stateMismatchError:{code:"state_mismatch",desc:"State mismatch error. Please check your network. Continued requests may cause cache overflow."},stateNotFoundError:{code:"state_not_found",desc:"State not found"},nonceMismatchError:{code:"nonce_mismatch",desc:"Nonce mismatch error. This may be caused by a race condition in concurrent requests."},nonceNotFoundError:{code:"nonce_not_found",desc:"nonce not found"},authTimeNotFoundError:{code:"auth_time_not_found",desc:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information."},maxAgeTranspiredError:{code:"max_age_transpired",desc:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication."},noTokensFoundError:{code:"no_tokens_found",desc:"No tokens were found for the given scopes, and no authorization code was passed to acquireToken. You must retrieve an authorization code before making a call to acquireToken()."},multipleMatchingTokens:{code:"multiple_matching_tokens",desc:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."},multipleMatchingAccounts:{code:"multiple_matching_accounts",desc:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"},multipleMatchingAppMetadata:{code:"multiple_matching_appMetadata",desc:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"},tokenRequestCannotBeMade:{code:"request_cannot_be_made",desc:"Token request cannot be made without authorization code or refresh token."},appendEmptyScopeError:{code:"cannot_append_empty_scope",desc:"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info."},removeEmptyScopeError:{code:"cannot_remove_empty_scope",desc:"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info."},appendScopeSetError:{code:"cannot_append_scopeset",desc:"Cannot append ScopeSet due to error."},emptyInputScopeSetError:{code:"empty_input_scopeset",desc:"Empty input ScopeSet cannot be processed."},DeviceCodePollingCancelled:{code:"device_code_polling_cancelled",desc:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."},DeviceCodeExpired:{code:"device_code_expired",desc:"Device code is expired."},DeviceCodeUnknownError:{code:"device_code_unknown_error",desc:"Device code stopped polling for unknown reasons."},NoAccountInSilentRequest:{code:"no_account_in_silent_request",desc:"Please pass an account object, silent flow is not supported without account information"},invalidCacheRecord:{code:"invalid_cache_record",desc:"Cache record object was null or undefined."},invalidCacheEnvironment:{code:"invalid_cache_environment",desc:"Invalid environment when attempting to create cache entry"},noAccountFound:{code:"no_account_found",desc:"No account found in cache for given key."},CachePluginError:{code:"no cache plugin set on CacheManager",desc:"ICachePlugin needs to be set before using readFromStorage or writeFromStorage"},noCryptoObj:{code:"no_crypto_object",desc:"No crypto object detected. This is required for the following operation: "},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},unexpectedAccountType:{code:"unexpected_account_type",desc:"Unexpected account type."},unexpectedCredentialType:{code:"unexpected_credential_type",desc:"Unexpected credential type."},invalidAssertion:{code:"invalid_assertion",desc:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"},invalidClientCredential:{code:"invalid_client_credential",desc:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"},tokenRefreshRequired:{code:"token_refresh_required",desc:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."},userTimeoutReached:{code:"user_timeout_reached",desc:"User defined timeout for device code polling reached"},tokenClaimsRequired:{code:"token_claims_cnf_required_for_signedjwt",desc:"Cannot generate a POP jwt if the token_claims are not populated"},noAuthorizationCodeFromServer:{code:"authorization_code_missing_from_server_response",desc:"Server response does not contain an authorization code to proceed"},noAzureRegionDetected:{code:"no_azure_region_detected",desc:"No azure region was detected and no fallback was made available"},accessTokenEntityNullError:{code:"access_token_entity_null",desc:"Access token entity is null, please check logs and cache to ensure a valid access token is present."},bindingKeyNotRemovedError:{code:"binding_key_not_removed",desc:"Could not remove the credential's binding key from storage."},logoutNotSupported:{code:"end_session_endpoint_not_supported",desc:"Provided authority does not support logout."},keyIdMissing:{code:"key_id_missing",desc:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key."},noNetworkConnectivity:{code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},userCanceledError:{code:"user_canceled",desc:"User canceled the flow."}},ClientAuthError=function(a){__extends(o,a);function o(s,$){var j=a.call(this,s,$)||this;return j.name="ClientAuthError",Object.setPrototypeOf(j,o.prototype),j}return o.createClientInfoDecodingError=function(s){return new o(ClientAuthErrorMessage.clientInfoDecodingError.code,ClientAuthErrorMessage.clientInfoDecodingError.desc+" Failed with error: "+s)},o.createClientInfoEmptyError=function(){return new o(ClientAuthErrorMessage.clientInfoEmptyError.code,""+ClientAuthErrorMessage.clientInfoEmptyError.desc)},o.createTokenParsingError=function(s){return new o(ClientAuthErrorMessage.tokenParsingError.code,ClientAuthErrorMessage.tokenParsingError.desc+" Failed with error: "+s)},o.createTokenNullOrEmptyError=function(s){return new o(ClientAuthErrorMessage.nullOrEmptyToken.code,ClientAuthErrorMessage.nullOrEmptyToken.desc+" Raw Token Value: "+s)},o.createEndpointDiscoveryIncompleteError=function(s){return new o(ClientAuthErrorMessage.endpointResolutionError.code,ClientAuthErrorMessage.endpointResolutionError.desc+" Detail: "+s)},o.createNetworkError=function(s,$){return new o(ClientAuthErrorMessage.networkError.code,ClientAuthErrorMessage.networkError.desc+" | Fetch client threw: "+$+" | Attempted to reach: "+s.split("?")[0])},o.createUnableToGetOpenidConfigError=function(s){return new o(ClientAuthErrorMessage.unableToGetOpenidConfigError.code,ClientAuthErrorMessage.unableToGetOpenidConfigError.desc+" Attempted to retrieve endpoints from: "+s)},o.createHashNotDeserializedError=function(s){return new o(ClientAuthErrorMessage.hashNotDeserialized.code,ClientAuthErrorMessage.hashNotDeserialized.desc+" Given Object: "+s)},o.createInvalidStateError=function(s,$){return new o(ClientAuthErrorMessage.invalidStateError.code,ClientAuthErrorMessage.invalidStateError.desc+" Invalid State: "+s+", Root Err: "+$)},o.createStateMismatchError=function(){return new o(ClientAuthErrorMessage.stateMismatchError.code,ClientAuthErrorMessage.stateMismatchError.desc)},o.createStateNotFoundError=function(s){return new o(ClientAuthErrorMessage.stateNotFoundError.code,ClientAuthErrorMessage.stateNotFoundError.desc+":  "+s)},o.createNonceMismatchError=function(){return new o(ClientAuthErrorMessage.nonceMismatchError.code,ClientAuthErrorMessage.nonceMismatchError.desc)},o.createAuthTimeNotFoundError=function(){return new o(ClientAuthErrorMessage.authTimeNotFoundError.code,ClientAuthErrorMessage.authTimeNotFoundError.desc)},o.createMaxAgeTranspiredError=function(){return new o(ClientAuthErrorMessage.maxAgeTranspiredError.code,ClientAuthErrorMessage.maxAgeTranspiredError.desc)},o.createNonceNotFoundError=function(s){return new o(ClientAuthErrorMessage.nonceNotFoundError.code,ClientAuthErrorMessage.nonceNotFoundError.desc+":  "+s)},o.createMultipleMatchingTokensInCacheError=function(){return new o(ClientAuthErrorMessage.multipleMatchingTokens.code,ClientAuthErrorMessage.multipleMatchingTokens.desc+".")},o.createMultipleMatchingAccountsInCacheError=function(){return new o(ClientAuthErrorMessage.multipleMatchingAccounts.code,ClientAuthErrorMessage.multipleMatchingAccounts.desc)},o.createMultipleMatchingAppMetadataInCacheError=function(){return new o(ClientAuthErrorMessage.multipleMatchingAppMetadata.code,ClientAuthErrorMessage.multipleMatchingAppMetadata.desc)},o.createTokenRequestCannotBeMadeError=function(){return new o(ClientAuthErrorMessage.tokenRequestCannotBeMade.code,ClientAuthErrorMessage.tokenRequestCannotBeMade.desc)},o.createAppendEmptyScopeToSetError=function(s){return new o(ClientAuthErrorMessage.appendEmptyScopeError.code,ClientAuthErrorMessage.appendEmptyScopeError.desc+" Given Scope: "+s)},o.createRemoveEmptyScopeFromSetError=function(s){return new o(ClientAuthErrorMessage.removeEmptyScopeError.code,ClientAuthErrorMessage.removeEmptyScopeError.desc+" Given Scope: "+s)},o.createAppendScopeSetError=function(s){return new o(ClientAuthErrorMessage.appendScopeSetError.code,ClientAuthErrorMessage.appendScopeSetError.desc+" Detail Error: "+s)},o.createEmptyInputScopeSetError=function(){return new o(ClientAuthErrorMessage.emptyInputScopeSetError.code,""+ClientAuthErrorMessage.emptyInputScopeSetError.desc)},o.createDeviceCodeCancelledError=function(){return new o(ClientAuthErrorMessage.DeviceCodePollingCancelled.code,""+ClientAuthErrorMessage.DeviceCodePollingCancelled.desc)},o.createDeviceCodeExpiredError=function(){return new o(ClientAuthErrorMessage.DeviceCodeExpired.code,""+ClientAuthErrorMessage.DeviceCodeExpired.desc)},o.createDeviceCodeUnknownError=function(){return new o(ClientAuthErrorMessage.DeviceCodeUnknownError.code,""+ClientAuthErrorMessage.DeviceCodeUnknownError.desc)},o.createNoAccountInSilentRequestError=function(){return new o(ClientAuthErrorMessage.NoAccountInSilentRequest.code,""+ClientAuthErrorMessage.NoAccountInSilentRequest.desc)},o.createNullOrUndefinedCacheRecord=function(){return new o(ClientAuthErrorMessage.invalidCacheRecord.code,ClientAuthErrorMessage.invalidCacheRecord.desc)},o.createInvalidCacheEnvironmentError=function(){return new o(ClientAuthErrorMessage.invalidCacheEnvironment.code,ClientAuthErrorMessage.invalidCacheEnvironment.desc)},o.createNoAccountFoundError=function(){return new o(ClientAuthErrorMessage.noAccountFound.code,ClientAuthErrorMessage.noAccountFound.desc)},o.createCachePluginError=function(){return new o(ClientAuthErrorMessage.CachePluginError.code,""+ClientAuthErrorMessage.CachePluginError.desc)},o.createNoCryptoObjectError=function(s){return new o(ClientAuthErrorMessage.noCryptoObj.code,""+ClientAuthErrorMessage.noCryptoObj.desc+s)},o.createInvalidCacheTypeError=function(){return new o(ClientAuthErrorMessage.invalidCacheType.code,""+ClientAuthErrorMessage.invalidCacheType.desc)},o.createUnexpectedAccountTypeError=function(){return new o(ClientAuthErrorMessage.unexpectedAccountType.code,""+ClientAuthErrorMessage.unexpectedAccountType.desc)},o.createUnexpectedCredentialTypeError=function(){return new o(ClientAuthErrorMessage.unexpectedCredentialType.code,""+ClientAuthErrorMessage.unexpectedCredentialType.desc)},o.createInvalidAssertionError=function(){return new o(ClientAuthErrorMessage.invalidAssertion.code,""+ClientAuthErrorMessage.invalidAssertion.desc)},o.createInvalidCredentialError=function(){return new o(ClientAuthErrorMessage.invalidClientCredential.code,""+ClientAuthErrorMessage.invalidClientCredential.desc)},o.createRefreshRequiredError=function(){return new o(ClientAuthErrorMessage.tokenRefreshRequired.code,ClientAuthErrorMessage.tokenRefreshRequired.desc)},o.createUserTimeoutReachedError=function(){return new o(ClientAuthErrorMessage.userTimeoutReached.code,ClientAuthErrorMessage.userTimeoutReached.desc)},o.createTokenClaimsRequiredError=function(){return new o(ClientAuthErrorMessage.tokenClaimsRequired.code,ClientAuthErrorMessage.tokenClaimsRequired.desc)},o.createNoAuthCodeInServerResponseError=function(){return new o(ClientAuthErrorMessage.noAuthorizationCodeFromServer.code,ClientAuthErrorMessage.noAuthorizationCodeFromServer.desc)},o.createBindingKeyNotRemovedError=function(){return new o(ClientAuthErrorMessage.bindingKeyNotRemovedError.code,ClientAuthErrorMessage.bindingKeyNotRemovedError.desc)},o.createLogoutNotSupportedError=function(){return new o(ClientAuthErrorMessage.logoutNotSupported.code,ClientAuthErrorMessage.logoutNotSupported.desc)},o.createKeyIdMissingError=function(){return new o(ClientAuthErrorMessage.keyIdMissing.code,ClientAuthErrorMessage.keyIdMissing.desc)},o.createNoNetworkConnectivityError=function(){return new o(ClientAuthErrorMessage.noNetworkConnectivity.code,ClientAuthErrorMessage.noNetworkConnectivity.desc)},o.createUserCanceledError=function(){return new o(ClientAuthErrorMessage.userCanceledError.code,ClientAuthErrorMessage.userCanceledError.desc)},o}(AuthError);/*! @azure/msal-common v13.0.0 2023-05-01 */var StringUtils=function(){function a(){}return a.decodeAuthToken=function(o){if(a.isEmpty(o))throw ClientAuthError.createTokenNullOrEmptyError(o);var s=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/,$=s.exec(o);if(!$||$.length<4)throw ClientAuthError.createTokenParsingError("Given token is malformed: "+JSON.stringify(o));var j={header:$[1],JWSPayload:$[2],JWSSig:$[3]};return j},a.isEmpty=function(o){return typeof o>"u"||!o||o.length===0},a.isEmptyObj=function(o){if(o&&!a.isEmpty(o))try{var s=JSON.parse(o);return Object.keys(s).length===0}catch{}return!0},a.startsWith=function(o,s){return o.indexOf(s)===0},a.endsWith=function(o,s){return o.length>=s.length&&o.lastIndexOf(s)===o.length-s.length},a.queryStringToObject=function(o){var s={},$=o.split("&"),j=function(_e){return decodeURIComponent(_e.replace(/\+/g," "))};return $.forEach(function(_e){if(_e.trim()){var et=_e.split(/=(.+)/g,2),tt=et[0],rt=et[1];tt&&rt&&(s[j(tt)]=j(rt))}}),s},a.trimArrayEntries=function(o){return o.map(function(s){return s.trim()})},a.removeEmptyStringsFromArray=function(o){return o.filter(function(s){return!a.isEmpty(s)})},a.jsonParseHelper=function(o){try{return JSON.parse(o)}catch{return null}},a.matchPattern=function(o,s){var $=new RegExp(o.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?"));return $.test(s)},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var LogLevel;(function(a){a[a.Error=0]="Error",a[a.Warning=1]="Warning",a[a.Info=2]="Info",a[a.Verbose=3]="Verbose",a[a.Trace=4]="Trace"})(LogLevel||(LogLevel={}));var Logger=function(){function a(o,s,$){this.level=LogLevel.Info;var j=function(){},_e=o||a.createDefaultLoggerOptions();this.localCallback=_e.loggerCallback||j,this.piiLoggingEnabled=_e.piiLoggingEnabled||!1,this.level=typeof _e.logLevel=="number"?_e.logLevel:LogLevel.Info,this.correlationId=_e.correlationId||Constants.EMPTY_STRING,this.packageName=s||Constants.EMPTY_STRING,this.packageVersion=$||Constants.EMPTY_STRING}return a.createDefaultLoggerOptions=function(){return{loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:LogLevel.Info}},a.prototype.clone=function(o,s,$){return new a({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:$||this.correlationId},o,s)},a.prototype.logMessage=function(o,s){if(!(s.logLevel>this.level||!this.piiLoggingEnabled&&s.containsPii)){var $=new Date().toUTCString(),j;StringUtils.isEmpty(s.correlationId)?StringUtils.isEmpty(this.correlationId)?j="["+$+"]":j="["+$+"] : ["+this.correlationId+"]":j="["+$+"] : ["+s.correlationId+"]";var _e=j+" : "+this.packageName+"@"+this.packageVersion+" : "+LogLevel[s.logLevel]+" - "+o;this.executeCallback(s.logLevel,_e,s.containsPii||!1)}},a.prototype.executeCallback=function(o,s,$){this.localCallback&&this.localCallback(o,s,$)},a.prototype.error=function(o,s){this.logMessage(o,{logLevel:LogLevel.Error,containsPii:!1,correlationId:s||Constants.EMPTY_STRING})},a.prototype.errorPii=function(o,s){this.logMessage(o,{logLevel:LogLevel.Error,containsPii:!0,correlationId:s||Constants.EMPTY_STRING})},a.prototype.warning=function(o,s){this.logMessage(o,{logLevel:LogLevel.Warning,containsPii:!1,correlationId:s||Constants.EMPTY_STRING})},a.prototype.warningPii=function(o,s){this.logMessage(o,{logLevel:LogLevel.Warning,containsPii:!0,correlationId:s||Constants.EMPTY_STRING})},a.prototype.info=function(o,s){this.logMessage(o,{logLevel:LogLevel.Info,containsPii:!1,correlationId:s||Constants.EMPTY_STRING})},a.prototype.infoPii=function(o,s){this.logMessage(o,{logLevel:LogLevel.Info,containsPii:!0,correlationId:s||Constants.EMPTY_STRING})},a.prototype.verbose=function(o,s){this.logMessage(o,{logLevel:LogLevel.Verbose,containsPii:!1,correlationId:s||Constants.EMPTY_STRING})},a.prototype.verbosePii=function(o,s){this.logMessage(o,{logLevel:LogLevel.Verbose,containsPii:!0,correlationId:s||Constants.EMPTY_STRING})},a.prototype.trace=function(o,s){this.logMessage(o,{logLevel:LogLevel.Trace,containsPii:!1,correlationId:s||Constants.EMPTY_STRING})},a.prototype.tracePii=function(o,s){this.logMessage(o,{logLevel:LogLevel.Trace,containsPii:!0,correlationId:s||Constants.EMPTY_STRING})},a.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var name$2="@azure/msal-common",version$3="13.0.0";/*! @azure/msal-common v13.0.0 2023-05-01 */var AzureCloudInstance;(function(a){a[a.None=0]="None",a.AzurePublic="https://login.microsoftonline.com",a.AzurePpe="https://login.windows-ppe.net",a.AzureChina="https://login.chinacloudapi.cn",a.AzureGermany="https://login.microsoftonline.de",a.AzureUsGovernment="https://login.microsoftonline.us"})(AzureCloudInstance||(AzureCloudInstance={}));/*! @azure/msal-common v13.0.0 2023-05-01 */var ClientConfigurationErrorMessage={redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},claimsRequestParsingError:{code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},authorityUriInsecure:{code:"authority_uri_insecure",desc:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},urlParseError:{code:"url_parse_error",desc:"URL could not be parsed into appropriate segments."},urlEmptyError:{code:"empty_url_error",desc:"URL was empty or null."},emptyScopesError:{code:"empty_input_scopes_error",desc:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."},nonArrayScopesError:{code:"nonarray_input_scopes_error",desc:"Scopes cannot be passed as non-array."},clientIdSingleScopeError:{code:"clientid_input_scopes_error",desc:"Client ID can only be provided as a single scope."},invalidPrompt:{code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent', 'create', 'none' and 'no_session'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest"},invalidClaimsRequest:{code:"invalid_claims",desc:"Given claims parameter must be a stringified JSON object."},tokenRequestEmptyError:{code:"token_request_empty",desc:"Token request was empty and not found in cache."},logoutRequestEmptyError:{code:"logout_request_empty",desc:"The logout request was null or undefined."},invalidCodeChallengeMethod:{code:"invalid_code_challenge_method",desc:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'},invalidCodeChallengeParams:{code:"pkce_params_missing",desc:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"},invalidCloudDiscoveryMetadata:{code:"invalid_cloud_discovery_metadata",desc:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields"},invalidAuthorityMetadata:{code:"invalid_authority_metadata",desc:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields."},untrustedAuthority:{code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."},invalidAzureCloudInstance:{code:"invalid_azure_cloud_instance",desc:"Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values"},missingSshJwk:{code:"missing_ssh_jwk",desc:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme."},missingSshKid:{code:"missing_ssh_kid",desc:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme."},missingNonceAuthenticationHeader:{code:"missing_nonce_authentication_header",desc:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce."},invalidAuthenticationHeader:{code:"invalid_authentication_header",desc:"Invalid authentication header provided"}},ClientConfigurationError=function(a){__extends(o,a);function o(s,$){var j=a.call(this,s,$)||this;return j.name="ClientConfigurationError",Object.setPrototypeOf(j,o.prototype),j}return o.createRedirectUriEmptyError=function(){return new o(ClientConfigurationErrorMessage.redirectUriNotSet.code,ClientConfigurationErrorMessage.redirectUriNotSet.desc)},o.createPostLogoutRedirectUriEmptyError=function(){return new o(ClientConfigurationErrorMessage.postLogoutUriNotSet.code,ClientConfigurationErrorMessage.postLogoutUriNotSet.desc)},o.createClaimsRequestParsingError=function(s){return new o(ClientConfigurationErrorMessage.claimsRequestParsingError.code,ClientConfigurationErrorMessage.claimsRequestParsingError.desc+" Given value: "+s)},o.createInsecureAuthorityUriError=function(s){return new o(ClientConfigurationErrorMessage.authorityUriInsecure.code,ClientConfigurationErrorMessage.authorityUriInsecure.desc+" Given URI: "+s)},o.createUrlParseError=function(s){return new o(ClientConfigurationErrorMessage.urlParseError.code,ClientConfigurationErrorMessage.urlParseError.desc+" Given Error: "+s)},o.createUrlEmptyError=function(){return new o(ClientConfigurationErrorMessage.urlEmptyError.code,ClientConfigurationErrorMessage.urlEmptyError.desc)},o.createEmptyScopesArrayError=function(){return new o(ClientConfigurationErrorMessage.emptyScopesError.code,""+ClientConfigurationErrorMessage.emptyScopesError.desc)},o.createClientIdSingleScopeError=function(s){return new o(ClientConfigurationErrorMessage.clientIdSingleScopeError.code,ClientConfigurationErrorMessage.clientIdSingleScopeError.desc+" Given Scopes: "+s)},o.createInvalidPromptError=function(s){return new o(ClientConfigurationErrorMessage.invalidPrompt.code,ClientConfigurationErrorMessage.invalidPrompt.desc+" Given value: "+s)},o.createInvalidClaimsRequestError=function(){return new o(ClientConfigurationErrorMessage.invalidClaimsRequest.code,ClientConfigurationErrorMessage.invalidClaimsRequest.desc)},o.createEmptyLogoutRequestError=function(){return new o(ClientConfigurationErrorMessage.logoutRequestEmptyError.code,ClientConfigurationErrorMessage.logoutRequestEmptyError.desc)},o.createEmptyTokenRequestError=function(){return new o(ClientConfigurationErrorMessage.tokenRequestEmptyError.code,ClientConfigurationErrorMessage.tokenRequestEmptyError.desc)},o.createInvalidCodeChallengeMethodError=function(){return new o(ClientConfigurationErrorMessage.invalidCodeChallengeMethod.code,ClientConfigurationErrorMessage.invalidCodeChallengeMethod.desc)},o.createInvalidCodeChallengeParamsError=function(){return new o(ClientConfigurationErrorMessage.invalidCodeChallengeParams.code,ClientConfigurationErrorMessage.invalidCodeChallengeParams.desc)},o.createInvalidCloudDiscoveryMetadataError=function(){return new o(ClientConfigurationErrorMessage.invalidCloudDiscoveryMetadata.code,ClientConfigurationErrorMessage.invalidCloudDiscoveryMetadata.desc)},o.createInvalidAuthorityMetadataError=function(){return new o(ClientConfigurationErrorMessage.invalidAuthorityMetadata.code,ClientConfigurationErrorMessage.invalidAuthorityMetadata.desc)},o.createUntrustedAuthorityError=function(){return new o(ClientConfigurationErrorMessage.untrustedAuthority.code,ClientConfigurationErrorMessage.untrustedAuthority.desc)},o.createInvalidAzureCloudInstanceError=function(){return new o(ClientConfigurationErrorMessage.invalidAzureCloudInstance.code,ClientConfigurationErrorMessage.invalidAzureCloudInstance.desc)},o.createMissingSshJwkError=function(){return new o(ClientConfigurationErrorMessage.missingSshJwk.code,ClientConfigurationErrorMessage.missingSshJwk.desc)},o.createMissingSshKidError=function(){return new o(ClientConfigurationErrorMessage.missingSshKid.code,ClientConfigurationErrorMessage.missingSshKid.desc)},o.createMissingNonceAuthenticationHeadersError=function(){return new o(ClientConfigurationErrorMessage.missingNonceAuthenticationHeader.code,ClientConfigurationErrorMessage.missingNonceAuthenticationHeader.desc)},o.createInvalidAuthenticationHeaderError=function(s,$){return new o(ClientConfigurationErrorMessage.invalidAuthenticationHeader.code,ClientConfigurationErrorMessage.invalidAuthenticationHeader.desc+". Invalid header: "+s+". Details: "+$)},o}(ClientAuthError);/*! @azure/msal-common v13.0.0 2023-05-01 */var ScopeSet=function(){function a(o){var s=this,$=o?StringUtils.trimArrayEntries(__spreadArrays(o)):[],j=$?StringUtils.removeEmptyStringsFromArray($):[];this.validateInputScopes(j),this.scopes=new Set,j.forEach(function(_e){return s.scopes.add(_e)})}return a.fromString=function(o){var s=o||Constants.EMPTY_STRING,$=s.split(" ");return new a($)},a.createSearchScopes=function(o){var s=new a(o);return s.containsOnlyOIDCScopes()?s.removeScope(Constants.OFFLINE_ACCESS_SCOPE):s.removeOIDCScopes(),s},a.prototype.validateInputScopes=function(o){if(!o||o.length<1)throw ClientConfigurationError.createEmptyScopesArrayError()},a.prototype.containsScope=function(o){var s=this.printScopesLowerCase().split(" "),$=new a(s);return StringUtils.isEmpty(o)?!1:$.scopes.has(o.toLowerCase())},a.prototype.containsScopeSet=function(o){var s=this;return!o||o.scopes.size<=0?!1:this.scopes.size>=o.scopes.size&&o.asArray().every(function($){return s.containsScope($)})},a.prototype.containsOnlyOIDCScopes=function(){var o=this,s=0;return OIDC_SCOPES.forEach(function($){o.containsScope($)&&(s+=1)}),this.scopes.size===s},a.prototype.appendScope=function(o){StringUtils.isEmpty(o)||this.scopes.add(o.trim())},a.prototype.appendScopes=function(o){var s=this;try{o.forEach(function($){return s.appendScope($)})}catch($){throw ClientAuthError.createAppendScopeSetError($)}},a.prototype.removeScope=function(o){if(StringUtils.isEmpty(o))throw ClientAuthError.createRemoveEmptyScopeFromSetError(o);this.scopes.delete(o.trim())},a.prototype.removeOIDCScopes=function(){var o=this;OIDC_SCOPES.forEach(function(s){o.scopes.delete(s)})},a.prototype.unionScopeSets=function(o){if(!o)throw ClientAuthError.createEmptyInputScopeSetError();var s=new Set;return o.scopes.forEach(function($){return s.add($.toLowerCase())}),this.scopes.forEach(function($){return s.add($.toLowerCase())}),s},a.prototype.intersectingScopeSets=function(o){if(!o)throw ClientAuthError.createEmptyInputScopeSetError();o.containsOnlyOIDCScopes()||o.removeOIDCScopes();var s=this.unionScopeSets(o),$=o.getScopeCount(),j=this.getScopeCount(),_e=s.size;return _e<j+$},a.prototype.getScopeCount=function(){return this.scopes.size},a.prototype.asArray=function(){var o=[];return this.scopes.forEach(function(s){return o.push(s)}),o},a.prototype.printScopes=function(){if(this.scopes){var o=this.asArray();return o.join(" ")}return Constants.EMPTY_STRING},a.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */function buildClientInfo(a,o){if(StringUtils.isEmpty(a))throw ClientAuthError.createClientInfoEmptyError();try{var s=o.base64Decode(a);return JSON.parse(s)}catch($){throw ClientAuthError.createClientInfoDecodingError($.message)}}function buildClientInfoFromHomeAccountId(a){if(StringUtils.isEmpty(a))throw ClientAuthError.createClientInfoDecodingError("Home account ID was empty.");var o=a.split(Separators.CLIENT_INFO_SEPARATOR,2);return{uid:o[0],utid:o.length<2?Constants.EMPTY_STRING:o[1]}}/*! @azure/msal-common v13.0.0 2023-05-01 */var AuthorityType;(function(a){a[a.Default=0]="Default",a[a.Adfs=1]="Adfs",a[a.Dsts=2]="Dsts",a[a.Ciam=3]="Ciam"})(AuthorityType||(AuthorityType={}));/*! @azure/msal-common v13.0.0 2023-05-01 */var AccountEntity=function(){function a(){}return a.prototype.generateAccountId=function(){var o=[this.homeAccountId,this.environment];return o.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},a.prototype.generateAccountKey=function(){return a.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},a.prototype.generateType=function(){switch(this.authorityType){case CacheAccountType.ADFS_ACCOUNT_TYPE:return CacheType.ADFS;case CacheAccountType.MSAV1_ACCOUNT_TYPE:return CacheType.MSA;case CacheAccountType.MSSTS_ACCOUNT_TYPE:return CacheType.MSSTS;case CacheAccountType.GENERIC_ACCOUNT_TYPE:return CacheType.GENERIC;default:throw ClientAuthError.createUnexpectedAccountTypeError()}},a.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},a.generateAccountCacheKey=function(o){var s=[o.homeAccountId,o.environment||Constants.EMPTY_STRING,o.tenantId||Constants.EMPTY_STRING];return s.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},a.createAccount=function(o,s,$,j,_e,et,tt,rt){var nt,it,ot,at,ut,ht,pt=new a;pt.authorityType=CacheAccountType.MSSTS_ACCOUNT_TYPE,pt.clientInfo=o,pt.homeAccountId=s,pt.nativeAccountId=rt;var Ct=tt||j&&j.getPreferredCache();if(!Ct)throw ClientAuthError.createInvalidCacheEnvironmentError();if(pt.environment=Ct,pt.realm=((nt=$==null?void 0:$.claims)===null||nt===void 0?void 0:nt.tid)||Constants.EMPTY_STRING,$){pt.idTokenClaims=$.claims,pt.localAccountId=((it=$==null?void 0:$.claims)===null||it===void 0?void 0:it.oid)||((ot=$==null?void 0:$.claims)===null||ot===void 0?void 0:ot.sub)||Constants.EMPTY_STRING;var lt=(at=$==null?void 0:$.claims)===null||at===void 0?void 0:at.preferred_username,ft=!((ut=$==null?void 0:$.claims)===null||ut===void 0)&&ut.emails?$.claims.emails[0]:null;pt.username=lt||ft||Constants.EMPTY_STRING,pt.name=(ht=$==null?void 0:$.claims)===null||ht===void 0?void 0:ht.name}return pt.cloudGraphHostName=_e,pt.msGraphHost=et,pt},a.createGenericAccount=function(o,s,$,j,_e,et){var tt,rt,nt,it,ot=new a;ot.authorityType=$&&$.authorityType===AuthorityType.Adfs?CacheAccountType.ADFS_ACCOUNT_TYPE:CacheAccountType.GENERIC_ACCOUNT_TYPE,ot.homeAccountId=o,ot.realm=Constants.EMPTY_STRING;var at=et||$&&$.getPreferredCache();if(!at)throw ClientAuthError.createInvalidCacheEnvironmentError();return s&&(ot.localAccountId=((tt=s==null?void 0:s.claims)===null||tt===void 0?void 0:tt.oid)||((rt=s==null?void 0:s.claims)===null||rt===void 0?void 0:rt.sub)||Constants.EMPTY_STRING,ot.username=((nt=s==null?void 0:s.claims)===null||nt===void 0?void 0:nt.upn)||Constants.EMPTY_STRING,ot.name=((it=s==null?void 0:s.claims)===null||it===void 0?void 0:it.name)||Constants.EMPTY_STRING,ot.idTokenClaims=s==null?void 0:s.claims),ot.environment=at,ot.cloudGraphHostName=j,ot.msGraphHost=_e,ot},a.generateHomeAccountId=function(o,s,$,j,_e){var et,tt=!((et=_e==null?void 0:_e.claims)===null||et===void 0)&&et.sub?_e.claims.sub:Constants.EMPTY_STRING;if(s===AuthorityType.Adfs||s===AuthorityType.Dsts)return tt;if(o)try{var rt=buildClientInfo(o,j);if(!StringUtils.isEmpty(rt.uid)&&!StringUtils.isEmpty(rt.utid))return""+rt.uid+Separators.CLIENT_INFO_SEPARATOR+rt.utid}catch{}return $.verbose("No client info in response"),tt},a.isAccountEntity=function(o){return o?o.hasOwnProperty("homeAccountId")&&o.hasOwnProperty("environment")&&o.hasOwnProperty("realm")&&o.hasOwnProperty("localAccountId")&&o.hasOwnProperty("username")&&o.hasOwnProperty("authorityType"):!1},a.accountInfoIsEqual=function(o,s,$){if(!o||!s)return!1;var j=!0;if($){var _e=o.idTokenClaims||{},et=s.idTokenClaims||{};j=_e.iat===et.iat&&_e.nonce===et.nonce}return o.homeAccountId===s.homeAccountId&&o.localAccountId===s.localAccountId&&o.username===s.username&&o.tenantId===s.tenantId&&o.environment===s.environment&&o.nativeAccountId===s.nativeAccountId&&j},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var AuthToken=function(){function a(o,s){if(StringUtils.isEmpty(o))throw ClientAuthError.createTokenNullOrEmptyError(o);this.rawToken=o,this.claims=a.extractTokenClaims(o,s)}return a.extractTokenClaims=function(o,s){var $=StringUtils.decodeAuthToken(o);try{var j=$.JWSPayload,_e=s.base64Decode(j);return JSON.parse(_e)}catch(et){throw ClientAuthError.createTokenParsingError(et)}},a.checkMaxAge=function(o,s){var $=3e5;if(s===0||Date.now()-$>o+s)throw ClientAuthError.createMaxAgeTranspiredError()},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var CacheManager=function(){function a(o,s,$){this.clientId=o,this.cryptoImpl=s,this.commonLogger=$.clone(name$2,version$3)}return a.prototype.getAllAccounts=function(){var o=this,s=this.getAccountKeys();if(s.length<1)return[];var $=s.reduce(function(_e,et){var tt=o.getAccount(et);return tt&&_e.push(tt),_e},[]);if($.length<1)return[];var j=$.map(function(_e){return o.getAccountInfoFromEntity(_e)});return j},a.prototype.getAccountInfoFilteredBy=function(o){var s=this.getAccountsFilteredBy(o);return s.length>0?this.getAccountInfoFromEntity(s[0]):null},a.prototype.getAccountInfoFromEntity=function(o){var s=o.getAccountInfo(),$=this.getIdToken(s);return $&&(s.idToken=$.secret,s.idTokenClaims=new AuthToken($.secret,this.cryptoImpl).claims),s},a.prototype.saveCacheRecord=function(o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(s){switch(s.label){case 0:if(!o)throw ClientAuthError.createNullOrUndefinedCacheRecord();return o.account&&this.setAccount(o.account),o.idToken&&this.setIdTokenCredential(o.idToken),o.accessToken?[4,this.saveAccessToken(o.accessToken)]:[3,2];case 1:s.sent(),s.label=2;case 2:return o.refreshToken&&this.setRefreshTokenCredential(o.refreshToken),o.appMetadata&&this.setAppMetadata(o.appMetadata),[2]}})})},a.prototype.saveAccessToken=function(o){return __awaiter(this,void 0,void 0,function(){var s,$,j,_e,et=this;return __generator(this,function(tt){switch(tt.label){case 0:return s={clientId:o.clientId,credentialType:o.credentialType,environment:o.environment,homeAccountId:o.homeAccountId,realm:o.realm,tokenType:o.tokenType,requestedClaimsHash:o.requestedClaimsHash},$=this.getTokenKeys(),j=ScopeSet.fromString(o.target),_e=[],$.accessToken.forEach(function(rt){if(et.accessTokenKeyMatchesFilter(rt,s,!1)){var nt=et.getAccessTokenCredential(rt);if(nt&&et.credentialMatchesFilter(nt,s)){var it=ScopeSet.fromString(nt.target);it.intersectingScopeSets(j)&&_e.push(et.removeAccessToken(rt))}}}),[4,Promise.all(_e)];case 1:return tt.sent(),this.setAccessTokenCredential(o),[2]}})})},a.prototype.getAccountsFilteredBy=function(o){var s=this,$=this.getAccountKeys(),j=[];return $.forEach(function(_e){if(s.isAccountKey(_e,o.homeAccountId,o.realm)){var et=s.getAccount(_e);et&&(o.homeAccountId&&!s.matchHomeAccountId(et,o.homeAccountId)||o.localAccountId&&!s.matchLocalAccountId(et,o.localAccountId)||o.username&&!s.matchUsername(et,o.username)||o.environment&&!s.matchEnvironment(et,o.environment)||o.realm&&!s.matchRealm(et,o.realm)||o.nativeAccountId&&!s.matchNativeAccountId(et,o.nativeAccountId)||j.push(et))}}),j},a.prototype.isAccountKey=function(o,s,$){return!(o.split(Separators.CACHE_KEY_SEPARATOR).length<3||s&&!o.toLowerCase().includes(s.toLowerCase())||$&&!o.toLowerCase().includes($.toLowerCase()))},a.prototype.isCredentialKey=function(o){if(o.split(Separators.CACHE_KEY_SEPARATOR).length<6)return!1;var s=o.toLowerCase();if(s.indexOf(CredentialType.ID_TOKEN.toLowerCase())===-1&&s.indexOf(CredentialType.ACCESS_TOKEN.toLowerCase())===-1&&s.indexOf(CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&s.indexOf(CredentialType.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(s.indexOf(CredentialType.REFRESH_TOKEN.toLowerCase())>-1){var $=""+CredentialType.REFRESH_TOKEN+Separators.CACHE_KEY_SEPARATOR+this.clientId+Separators.CACHE_KEY_SEPARATOR,j=""+CredentialType.REFRESH_TOKEN+Separators.CACHE_KEY_SEPARATOR+THE_FAMILY_ID+Separators.CACHE_KEY_SEPARATOR;if(s.indexOf($.toLowerCase())===-1&&s.indexOf(j.toLowerCase())===-1)return!1}else if(s.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0},a.prototype.credentialMatchesFilter=function(o,s){return!(s.clientId&&!this.matchClientId(o,s.clientId)||s.userAssertionHash&&!this.matchUserAssertionHash(o,s.userAssertionHash)||typeof s.homeAccountId=="string"&&!this.matchHomeAccountId(o,s.homeAccountId)||s.environment&&!this.matchEnvironment(o,s.environment)||s.realm&&!this.matchRealm(o,s.realm)||s.credentialType&&!this.matchCredentialType(o,s.credentialType)||s.familyId&&!this.matchFamilyId(o,s.familyId)||s.target&&!this.matchTarget(o,s.target)||(s.requestedClaimsHash||o.requestedClaimsHash)&&o.requestedClaimsHash!==s.requestedClaimsHash||o.credentialType===CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(s.tokenType&&!this.matchTokenType(o,s.tokenType)||s.tokenType===AuthenticationScheme.SSH&&s.keyId&&!this.matchKeyId(o,s.keyId)))},a.prototype.getAppMetadataFilteredBy=function(o){return this.getAppMetadataFilteredByInternal(o.environment,o.clientId)},a.prototype.getAppMetadataFilteredByInternal=function(o,s){var $=this,j=this.getKeys(),_e={};return j.forEach(function(et){if($.isAppMetadata(et)){var tt=$.getAppMetadata(et);tt&&(o&&!$.matchEnvironment(tt,o)||s&&!$.matchClientId(tt,s)||(_e[et]=tt))}}),_e},a.prototype.getAuthorityMetadataByAlias=function(o){var s=this,$=this.getAuthorityMetadataKeys(),j=null;return $.forEach(function(_e){if(!(!s.isAuthorityMetadata(_e)||_e.indexOf(s.clientId)===-1)){var et=s.getAuthorityMetadata(_e);et&&et.aliases.indexOf(o)!==-1&&(j=et)}}),j},a.prototype.removeAllAccounts=function(){return __awaiter(this,void 0,void 0,function(){var o,s,$=this;return __generator(this,function(j){switch(j.label){case 0:return o=this.getAccountKeys(),s=[],o.forEach(function(_e){s.push($.removeAccount(_e))}),[4,Promise.all(s)];case 1:return j.sent(),[2]}})})},a.prototype.removeAccount=function(o){return __awaiter(this,void 0,void 0,function(){var s;return __generator(this,function($){switch($.label){case 0:if(s=this.getAccount(o),!s)throw ClientAuthError.createNoAccountFoundError();return[4,this.removeAccountContext(s)];case 1:return $.sent(),this.removeItem(o),[2]}})})},a.prototype.removeAccountContext=function(o){return __awaiter(this,void 0,void 0,function(){var s,$,j,_e=this;return __generator(this,function(et){switch(et.label){case 0:return s=this.getTokenKeys(),$=o.generateAccountId(),j=[],s.idToken.forEach(function(tt){tt.indexOf($)===0&&_e.removeIdToken(tt)}),s.accessToken.forEach(function(tt){tt.indexOf($)===0&&j.push(_e.removeAccessToken(tt))}),s.refreshToken.forEach(function(tt){tt.indexOf($)===0&&_e.removeRefreshToken(tt)}),[4,Promise.all(j)];case 1:return et.sent(),[2]}})})},a.prototype.removeAccessToken=function(o){return __awaiter(this,void 0,void 0,function(){var s,$,j;return __generator(this,function(_e){switch(_e.label){case 0:if(s=this.getAccessTokenCredential(o),!s)return[2];if(s.credentialType.toLowerCase()!==CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(s.tokenType!==AuthenticationScheme.POP)return[3,4];if($=s,j=$.keyId,!j)return[3,4];_e.label=1;case 1:return _e.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(j)];case 2:return _e.sent(),[3,4];case 3:throw _e.sent(),ClientAuthError.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(o)]}})})},a.prototype.removeAppMetadata=function(){var o=this,s=this.getKeys();return s.forEach(function($){o.isAppMetadata($)&&o.removeItem($)}),!0},a.prototype.readCacheRecord=function(o,s,$){var j=this.getTokenKeys(),_e=this.readAccountFromCache(o),et=this.getIdToken(o,j),tt=this.getAccessToken(o,s,j),rt=this.getRefreshToken(o,!1,j),nt=this.readAppMetadataFromCache($);return _e&&et&&(_e.idTokenClaims=new AuthToken(et.secret,this.cryptoImpl).claims),{account:_e,idToken:et,accessToken:tt,refreshToken:rt,appMetadata:nt}},a.prototype.readAccountFromCache=function(o){var s=AccountEntity.generateAccountCacheKey(o);return this.getAccount(s)},a.prototype.getIdToken=function(o,s){this.commonLogger.trace("CacheManager - getIdToken called");var $={homeAccountId:o.homeAccountId,environment:o.environment,credentialType:CredentialType.ID_TOKEN,clientId:this.clientId,realm:o.tenantId},j=this.getIdTokensByFilter($,s),_e=j.length;if(_e<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(_e>1)throw ClientAuthError.createMultipleMatchingTokensInCacheError();return this.commonLogger.info("CacheManager:getIdToken - Returning id token"),j[0]},a.prototype.getIdTokensByFilter=function(o,s){var $=this,j=s&&s.idToken||this.getTokenKeys().idToken,_e=[];return j.forEach(function(et){if($.idTokenKeyMatchesFilter(et,__assign({clientId:$.clientId},o))){var tt=$.getIdTokenCredential(et);tt&&$.credentialMatchesFilter(tt,o)&&_e.push(tt)}}),_e},a.prototype.idTokenKeyMatchesFilter=function(o,s){var $=o.toLowerCase();return!(s.clientId&&$.indexOf(s.clientId.toLowerCase())===-1||s.homeAccountId&&$.indexOf(s.homeAccountId.toLowerCase())===-1)},a.prototype.removeIdToken=function(o){this.removeItem(o)},a.prototype.removeRefreshToken=function(o){this.removeItem(o)},a.prototype.getAccessToken=function(o,s,$){var j=this;this.commonLogger.trace("CacheManager - getAccessToken called");var _e=ScopeSet.createSearchScopes(s.scopes),et=s.authenticationScheme||AuthenticationScheme.BEARER,tt=et&&et.toLowerCase()!==AuthenticationScheme.BEARER.toLowerCase()?CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME:CredentialType.ACCESS_TOKEN,rt={homeAccountId:o.homeAccountId,environment:o.environment,credentialType:tt,clientId:this.clientId,realm:o.tenantId,target:_e,tokenType:et,keyId:s.sshKid,requestedClaimsHash:s.requestedClaimsHash},nt=$&&$.accessToken||this.getTokenKeys().accessToken,it=[];nt.forEach(function(at){if(j.accessTokenKeyMatchesFilter(at,rt,!0)){var ut=j.getAccessTokenCredential(at);ut&&j.credentialMatchesFilter(ut,rt)&&it.push(ut)}});var ot=it.length;if(ot<1)return this.commonLogger.info("CacheManager:getAccessToken - No token found"),null;if(ot>1)throw ClientAuthError.createMultipleMatchingTokensInCacheError();return this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),it[0]},a.prototype.accessTokenKeyMatchesFilter=function(o,s,$){var j=o.toLowerCase();if(s.clientId&&j.indexOf(s.clientId.toLowerCase())===-1||s.homeAccountId&&j.indexOf(s.homeAccountId.toLowerCase())===-1||s.realm&&j.indexOf(s.realm.toLowerCase())===-1||s.requestedClaimsHash&&j.indexOf(s.requestedClaimsHash.toLowerCase())===-1)return!1;if(s.target)for(var _e=s.target.asArray(),et=0;et<_e.length;et++){if($&&!j.includes(_e[et].toLowerCase()))return!1;if(!$&&j.includes(_e[et].toLowerCase()))return!0}return!0},a.prototype.getAccessTokensByFilter=function(o){var s=this,$=this.getTokenKeys(),j=[];return $.accessToken.forEach(function(_e){if(s.accessTokenKeyMatchesFilter(_e,o,!0)){var et=s.getAccessTokenCredential(_e);et&&s.credentialMatchesFilter(et,o)&&j.push(et)}}),j},a.prototype.getRefreshToken=function(o,s,$){var j=this;this.commonLogger.trace("CacheManager - getRefreshToken called");var _e=s?THE_FAMILY_ID:void 0,et={homeAccountId:o.homeAccountId,environment:o.environment,credentialType:CredentialType.REFRESH_TOKEN,clientId:this.clientId,familyId:_e},tt=$&&$.refreshToken||this.getTokenKeys().refreshToken,rt=[];tt.forEach(function(it){if(j.refreshTokenKeyMatchesFilter(it,et)){var ot=j.getRefreshTokenCredential(it);ot&&j.credentialMatchesFilter(ot,et)&&rt.push(ot)}});var nt=rt.length;return nt<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),rt[0])},a.prototype.refreshTokenKeyMatchesFilter=function(o,s){var $=o.toLowerCase();return!(s.familyId&&$.indexOf(s.familyId.toLowerCase())===-1||!s.familyId&&s.clientId&&$.indexOf(s.clientId.toLowerCase())===-1||s.homeAccountId&&$.indexOf(s.homeAccountId.toLowerCase())===-1)},a.prototype.readAppMetadataFromCache=function(o){var s={environment:o,clientId:this.clientId},$=this.getAppMetadataFilteredBy(s),j=Object.keys($).map(function(et){return $[et]}),_e=j.length;if(_e<1)return null;if(_e>1)throw ClientAuthError.createMultipleMatchingAppMetadataInCacheError();return j[0]},a.prototype.isAppMetadataFOCI=function(o){var s=this.readAppMetadataFromCache(o);return!!(s&&s.familyId===THE_FAMILY_ID)},a.prototype.matchHomeAccountId=function(o,s){return typeof o.homeAccountId=="string"&&s===o.homeAccountId},a.prototype.matchLocalAccountId=function(o,s){return typeof o.localAccountId=="string"&&s===o.localAccountId},a.prototype.matchUsername=function(o,s){return typeof o.username=="string"&&s.toLowerCase()===o.username.toLowerCase()},a.prototype.matchUserAssertionHash=function(o,s){return!!(o.userAssertionHash&&s===o.userAssertionHash)},a.prototype.matchEnvironment=function(o,s){var $=this.getAuthorityMetadataByAlias(s);return!!($&&$.aliases.indexOf(o.environment)>-1)},a.prototype.matchCredentialType=function(o,s){return o.credentialType&&s.toLowerCase()===o.credentialType.toLowerCase()},a.prototype.matchClientId=function(o,s){return!!(o.clientId&&s===o.clientId)},a.prototype.matchFamilyId=function(o,s){return!!(o.familyId&&s===o.familyId)},a.prototype.matchRealm=function(o,s){return!!(o.realm&&s===o.realm)},a.prototype.matchNativeAccountId=function(o,s){return!!(o.nativeAccountId&&s===o.nativeAccountId)},a.prototype.matchTarget=function(o,s){var $=o.credentialType!==CredentialType.ACCESS_TOKEN&&o.credentialType!==CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME;if($||!o.target)return!1;var j=ScopeSet.fromString(o.target);return j.containsScopeSet(s)},a.prototype.matchTokenType=function(o,s){return!!(o.tokenType&&o.tokenType===s)},a.prototype.matchKeyId=function(o,s){return!!(o.keyId&&o.keyId===s)},a.prototype.isAppMetadata=function(o){return o.indexOf(APP_METADATA)!==-1},a.prototype.isAuthorityMetadata=function(o){return o.indexOf(AUTHORITY_METADATA_CONSTANTS.CACHE_KEY)!==-1},a.prototype.generateAuthorityMetadataCacheKey=function(o){return AUTHORITY_METADATA_CONSTANTS.CACHE_KEY+"-"+this.clientId+"-"+o},a.toObject=function(o,s){for(var $ in s)o[$]=s[$];return o},a}(),DefaultStorageClass=function(a){__extends(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.setAccount=function(){var s="Storage interface - setAccount() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getAccount=function(){var s="Storage interface - getAccount() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.setIdTokenCredential=function(){var s="Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getIdTokenCredential=function(){var s="Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.setAccessTokenCredential=function(){var s="Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getAccessTokenCredential=function(){var s="Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.setRefreshTokenCredential=function(){var s="Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getRefreshTokenCredential=function(){var s="Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.setAppMetadata=function(){var s="Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getAppMetadata=function(){var s="Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.setServerTelemetry=function(){var s="Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getServerTelemetry=function(){var s="Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.setAuthorityMetadata=function(){var s="Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getAuthorityMetadata=function(){var s="Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getAuthorityMetadataKeys=function(){var s="Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.setThrottlingCache=function(){var s="Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getThrottlingCache=function(){var s="Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.removeItem=function(){var s="Storage interface - removeItem() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.containsKey=function(){var s="Storage interface - containsKey() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getKeys=function(){var s="Storage interface - getKeys() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getAccountKeys=function(){var s="Storage interface - getAccountKeys() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.getTokenKeys=function(){var s="Storage interface - getTokenKeys() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o.prototype.clear=function(){return __awaiter(this,void 0,void 0,function(){var s;return __generator(this,function($){throw s="Storage interface - clear() has not been implemented for the cacheStorage interface.",AuthError.createUnexpectedError(s)})})},o.prototype.updateCredentialCacheKey=function(){var s="Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(s)},o}(CacheManager);/*! @azure/msal-common v13.0.0 2023-05-01 */var DEFAULT_TOKEN_RENEWAL_OFFSET_SEC=300,DEFAULT_SYSTEM_OPTIONS={tokenRenewalOffsetSeconds:DEFAULT_TOKEN_RENEWAL_OFFSET_SEC,preventCorsPreflight:!1},DEFAULT_LOGGER_IMPLEMENTATION={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:LogLevel.Info,correlationId:Constants.EMPTY_STRING},DEFAULT_NETWORK_IMPLEMENTATION={sendGetRequestAsync:function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){throw a="Network interface - sendGetRequestAsync() has not been implemented",AuthError.createUnexpectedError(a)})})},sendPostRequestAsync:function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){throw a="Network interface - sendPostRequestAsync() has not been implemented",AuthError.createUnexpectedError(a)})})}},DEFAULT_LIBRARY_INFO={sku:Constants.SKU,version:version$3,cpu:Constants.EMPTY_STRING,os:Constants.EMPTY_STRING},DEFAULT_CLIENT_CREDENTIALS={clientSecret:Constants.EMPTY_STRING,clientAssertion:void 0},DEFAULT_AZURE_CLOUD_OPTIONS={azureCloudInstance:AzureCloudInstance.None,tenant:""+Constants.DEFAULT_COMMON_TENANT},DEFAULT_TELEMETRY_OPTIONS={application:{appName:"",appVersion:""}};function buildClientConfiguration(a){var o=a.authOptions,s=a.systemOptions,$=a.loggerOptions,j=a.storageInterface,_e=a.networkInterface,et=a.cryptoInterface,tt=a.clientCredentials,rt=a.libraryInfo,nt=a.telemetry,it=a.serverTelemetryManager,ot=a.persistencePlugin,at=a.serializableCache,ut=__assign(__assign({},DEFAULT_LOGGER_IMPLEMENTATION),$);return{authOptions:buildAuthOptions(o),systemOptions:__assign(__assign({},DEFAULT_SYSTEM_OPTIONS),s),loggerOptions:ut,storageInterface:j||new DefaultStorageClass(o.clientId,DEFAULT_CRYPTO_IMPLEMENTATION,new Logger(ut)),networkInterface:_e||DEFAULT_NETWORK_IMPLEMENTATION,cryptoInterface:et||DEFAULT_CRYPTO_IMPLEMENTATION,clientCredentials:tt||DEFAULT_CLIENT_CREDENTIALS,libraryInfo:__assign(__assign({},DEFAULT_LIBRARY_INFO),rt),telemetry:__assign(__assign({},DEFAULT_TELEMETRY_OPTIONS),nt),serverTelemetryManager:it||null,persistencePlugin:ot||null,serializableCache:at||null}}function buildAuthOptions(a){return __assign({clientCapabilities:[],azureCloudOptions:DEFAULT_AZURE_CLOUD_OPTIONS,skipAuthorityMetadataCache:!1},a)}/*! @azure/msal-common v13.0.0 2023-05-01 */var ServerError=function(a){__extends(o,a);function o(s,$,j){var _e=a.call(this,s,$,j)||this;return _e.name="ServerError",Object.setPrototypeOf(_e,o.prototype),_e}return o}(AuthError);/*! @azure/msal-common v13.0.0 2023-05-01 */var ThrottlingUtils=function(){function a(){}return a.generateThrottlingStorageKey=function(o){return ThrottlingConstants.THROTTLING_PREFIX+"."+JSON.stringify(o)},a.preProcess=function(o,s){var $,j=a.generateThrottlingStorageKey(s),_e=o.getThrottlingCache(j);if(_e){if(_e.throttleTime<Date.now()){o.removeItem(j);return}throw new ServerError((($=_e.errorCodes)===null||$===void 0?void 0:$.join(" "))||Constants.EMPTY_STRING,_e.errorMessage,_e.subError)}},a.postProcess=function(o,s,$){if(a.checkResponseStatus($)||a.checkResponseForRetryAfter($)){var j={throttleTime:a.calculateThrottleTime(parseInt($.headers[HeaderNames.RETRY_AFTER])),error:$.body.error,errorCodes:$.body.error_codes,errorMessage:$.body.error_description,subError:$.body.suberror};o.setThrottlingCache(a.generateThrottlingStorageKey(s),j)}},a.checkResponseStatus=function(o){return o.status===429||o.status>=500&&o.status<600},a.checkResponseForRetryAfter=function(o){return o.headers?o.headers.hasOwnProperty(HeaderNames.RETRY_AFTER)&&(o.status<200||o.status>=300):!1},a.calculateThrottleTime=function(o){var s=o<=0?0:o,$=Date.now()/1e3;return Math.floor(Math.min($+(s||ThrottlingConstants.DEFAULT_THROTTLE_TIME_SECONDS),$+ThrottlingConstants.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)},a.removeThrottle=function(o,s,$,j){var _e={clientId:s,authority:$.authority,scopes:$.scopes,homeAccountIdentifier:j,claims:$.claims,authenticationScheme:$.authenticationScheme,resourceRequestMethod:$.resourceRequestMethod,resourceRequestUri:$.resourceRequestUri,shrClaims:$.shrClaims,sshKid:$.sshKid},et=this.generateThrottlingStorageKey(_e);o.removeItem(et)},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var NetworkManager=function(){function a(o,s){this.networkClient=o,this.cacheManager=s}return a.prototype.sendPostRequest=function(o,s,$){return __awaiter(this,void 0,void 0,function(){var j,_e;return __generator(this,function(et){switch(et.label){case 0:ThrottlingUtils.preProcess(this.cacheManager,o),et.label=1;case 1:return et.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(s,$)];case 2:return j=et.sent(),[3,4];case 3:throw _e=et.sent(),_e instanceof AuthError?_e:ClientAuthError.createNetworkError(s,_e);case 4:return ThrottlingUtils.postProcess(this.cacheManager,o,j),[2,j]}})})},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var CcsCredentialType;(function(a){a.HOME_ACCOUNT_ID="home_account_id",a.UPN="UPN"})(CcsCredentialType||(CcsCredentialType={}));/*! @azure/msal-common v13.0.0 2023-05-01 */var RequestValidator=function(){function a(){}return a.validateRedirectUri=function(o){if(StringUtils.isEmpty(o))throw ClientConfigurationError.createRedirectUriEmptyError()},a.validatePrompt=function(o){var s=[];for(var $ in PromptValue)s.push(PromptValue[$]);if(s.indexOf(o)<0)throw ClientConfigurationError.createInvalidPromptError(o)},a.validateClaims=function(o){try{JSON.parse(o)}catch{throw ClientConfigurationError.createInvalidClaimsRequestError()}},a.validateCodeChallengeParams=function(o,s){if(StringUtils.isEmpty(o)||StringUtils.isEmpty(s))throw ClientConfigurationError.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(s)},a.validateCodeChallengeMethod=function(o){if([CodeChallengeMethodValues.PLAIN,CodeChallengeMethodValues.S256].indexOf(o)<0)throw ClientConfigurationError.createInvalidCodeChallengeMethodError()},a.sanitizeEQParams=function(o,s){return o?(s.forEach(function($,j){o[j]&&delete o[j]}),Object.fromEntries(Object.entries(o).filter(function($){var j=$[1];return j!==""}))):{}},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var RequestParameterBuilder=function(){function a(){this.parameters=new Map}return a.prototype.addResponseTypeCode=function(){this.parameters.set(AADServerParamKeys.RESPONSE_TYPE,encodeURIComponent(Constants.CODE_RESPONSE_TYPE))},a.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(AADServerParamKeys.RESPONSE_TYPE,encodeURIComponent(Constants.TOKEN_RESPONSE_TYPE+" "+Constants.ID_TOKEN_RESPONSE_TYPE))},a.prototype.addResponseMode=function(o){this.parameters.set(AADServerParamKeys.RESPONSE_MODE,encodeURIComponent(o||ResponseMode.QUERY))},a.prototype.addNativeBroker=function(){this.parameters.set(AADServerParamKeys.NATIVE_BROKER,encodeURIComponent("1"))},a.prototype.addScopes=function(o,s){s===void 0&&(s=!0);var $=s?__spreadArrays(o||[],OIDC_DEFAULT_SCOPES):o||[],j=new ScopeSet($);this.parameters.set(AADServerParamKeys.SCOPE,encodeURIComponent(j.printScopes()))},a.prototype.addClientId=function(o){this.parameters.set(AADServerParamKeys.CLIENT_ID,encodeURIComponent(o))},a.prototype.addRedirectUri=function(o){RequestValidator.validateRedirectUri(o),this.parameters.set(AADServerParamKeys.REDIRECT_URI,encodeURIComponent(o))},a.prototype.addPostLogoutRedirectUri=function(o){RequestValidator.validateRedirectUri(o),this.parameters.set(AADServerParamKeys.POST_LOGOUT_URI,encodeURIComponent(o))},a.prototype.addIdTokenHint=function(o){this.parameters.set(AADServerParamKeys.ID_TOKEN_HINT,encodeURIComponent(o))},a.prototype.addDomainHint=function(o){this.parameters.set(SSOTypes.DOMAIN_HINT,encodeURIComponent(o))},a.prototype.addLoginHint=function(o){this.parameters.set(SSOTypes.LOGIN_HINT,encodeURIComponent(o))},a.prototype.addCcsUpn=function(o){this.parameters.set(HeaderNames.CCS_HEADER,encodeURIComponent("UPN:"+o))},a.prototype.addCcsOid=function(o){this.parameters.set(HeaderNames.CCS_HEADER,encodeURIComponent("Oid:"+o.uid+"@"+o.utid))},a.prototype.addSid=function(o){this.parameters.set(SSOTypes.SID,encodeURIComponent(o))},a.prototype.addClaims=function(o,s){var $=this.addClientCapabilitiesToClaims(o,s);RequestValidator.validateClaims($),this.parameters.set(AADServerParamKeys.CLAIMS,encodeURIComponent($))},a.prototype.addCorrelationId=function(o){this.parameters.set(AADServerParamKeys.CLIENT_REQUEST_ID,encodeURIComponent(o))},a.prototype.addLibraryInfo=function(o){this.parameters.set(AADServerParamKeys.X_CLIENT_SKU,o.sku),this.parameters.set(AADServerParamKeys.X_CLIENT_VER,o.version),o.os&&this.parameters.set(AADServerParamKeys.X_CLIENT_OS,o.os),o.cpu&&this.parameters.set(AADServerParamKeys.X_CLIENT_CPU,o.cpu)},a.prototype.addApplicationTelemetry=function(o){o!=null&&o.appName&&this.parameters.set(AADServerParamKeys.X_APP_NAME,o.appName),o!=null&&o.appVersion&&this.parameters.set(AADServerParamKeys.X_APP_VER,o.appVersion)},a.prototype.addPrompt=function(o){RequestValidator.validatePrompt(o),this.parameters.set(""+AADServerParamKeys.PROMPT,encodeURIComponent(o))},a.prototype.addState=function(o){StringUtils.isEmpty(o)||this.parameters.set(AADServerParamKeys.STATE,encodeURIComponent(o))},a.prototype.addNonce=function(o){this.parameters.set(AADServerParamKeys.NONCE,encodeURIComponent(o))},a.prototype.addCodeChallengeParams=function(o,s){if(RequestValidator.validateCodeChallengeParams(o,s),o&&s)this.parameters.set(AADServerParamKeys.CODE_CHALLENGE,encodeURIComponent(o)),this.parameters.set(AADServerParamKeys.CODE_CHALLENGE_METHOD,encodeURIComponent(s));else throw ClientConfigurationError.createInvalidCodeChallengeParamsError()},a.prototype.addAuthorizationCode=function(o){this.parameters.set(AADServerParamKeys.CODE,encodeURIComponent(o))},a.prototype.addDeviceCode=function(o){this.parameters.set(AADServerParamKeys.DEVICE_CODE,encodeURIComponent(o))},a.prototype.addRefreshToken=function(o){this.parameters.set(AADServerParamKeys.REFRESH_TOKEN,encodeURIComponent(o))},a.prototype.addCodeVerifier=function(o){this.parameters.set(AADServerParamKeys.CODE_VERIFIER,encodeURIComponent(o))},a.prototype.addClientSecret=function(o){this.parameters.set(AADServerParamKeys.CLIENT_SECRET,encodeURIComponent(o))},a.prototype.addClientAssertion=function(o){StringUtils.isEmpty(o)||this.parameters.set(AADServerParamKeys.CLIENT_ASSERTION,encodeURIComponent(o))},a.prototype.addClientAssertionType=function(o){StringUtils.isEmpty(o)||this.parameters.set(AADServerParamKeys.CLIENT_ASSERTION_TYPE,encodeURIComponent(o))},a.prototype.addOboAssertion=function(o){this.parameters.set(AADServerParamKeys.OBO_ASSERTION,encodeURIComponent(o))},a.prototype.addRequestTokenUse=function(o){this.parameters.set(AADServerParamKeys.REQUESTED_TOKEN_USE,encodeURIComponent(o))},a.prototype.addGrantType=function(o){this.parameters.set(AADServerParamKeys.GRANT_TYPE,encodeURIComponent(o))},a.prototype.addClientInfo=function(){this.parameters.set(CLIENT_INFO,"1")},a.prototype.addExtraQueryParameters=function(o){var s=this,$=RequestValidator.sanitizeEQParams(o,this.parameters);Object.keys($).forEach(function(j){s.parameters.set(j,o[j])})},a.prototype.addClientCapabilitiesToClaims=function(o,s){var $;if(!o)$={};else try{$=JSON.parse(o)}catch{throw ClientConfigurationError.createInvalidClaimsRequestError()}return s&&s.length>0&&($.hasOwnProperty(ClaimsRequestKeys.ACCESS_TOKEN)||($[ClaimsRequestKeys.ACCESS_TOKEN]={}),$[ClaimsRequestKeys.ACCESS_TOKEN][ClaimsRequestKeys.XMS_CC]={values:s}),JSON.stringify($)},a.prototype.addUsername=function(o){this.parameters.set(PasswordGrantConstants.username,encodeURIComponent(o))},a.prototype.addPassword=function(o){this.parameters.set(PasswordGrantConstants.password,encodeURIComponent(o))},a.prototype.addPopToken=function(o){StringUtils.isEmpty(o)||(this.parameters.set(AADServerParamKeys.TOKEN_TYPE,AuthenticationScheme.POP),this.parameters.set(AADServerParamKeys.REQ_CNF,encodeURIComponent(o)))},a.prototype.addSshJwk=function(o){StringUtils.isEmpty(o)||(this.parameters.set(AADServerParamKeys.TOKEN_TYPE,AuthenticationScheme.SSH),this.parameters.set(AADServerParamKeys.REQ_CNF,encodeURIComponent(o)))},a.prototype.addServerTelemetry=function(o){this.parameters.set(AADServerParamKeys.X_CLIENT_CURR_TELEM,o.generateCurrentRequestHeaderValue()),this.parameters.set(AADServerParamKeys.X_CLIENT_LAST_TELEM,o.generateLastRequestHeaderValue())},a.prototype.addThrottling=function(){this.parameters.set(AADServerParamKeys.X_MS_LIB_CAPABILITY,ThrottlingConstants.X_MS_LIB_CAPABILITY_VALUE)},a.prototype.addLogoutHint=function(o){this.parameters.set(AADServerParamKeys.LOGOUT_HINT,encodeURIComponent(o))},a.prototype.createQueryString=function(){var o=new Array;return this.parameters.forEach(function(s,$){o.push($+"="+s)}),o.join("&")},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var BaseClient=function(){function a(o,s){this.config=buildClientConfiguration(o),this.logger=new Logger(this.config.loggerOptions,name$2,version$3),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new NetworkManager(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=s}return a.prototype.createTokenRequestHeaders=function(o){var s={};if(s[HeaderNames.CONTENT_TYPE]=Constants.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case CcsCredentialType.HOME_ACCOUNT_ID:try{var $=buildClientInfoFromHomeAccountId(o.credential);s[HeaderNames.CCS_HEADER]="Oid:"+$.uid+"@"+$.utid}catch(j){this.logger.verbose("Could not parse home account ID for CCS Header: "+j)}break;case CcsCredentialType.UPN:s[HeaderNames.CCS_HEADER]="UPN: "+o.credential;break}return s},a.prototype.executePostToTokenEndpoint=function(o,s,$,j){return __awaiter(this,void 0,void 0,function(){var _e;return __generator(this,function(et){switch(et.label){case 0:return[4,this.networkManager.sendPostRequest(j,o,{body:s,headers:$})];case 1:return _e=et.sent(),this.config.serverTelemetryManager&&_e.status<500&&_e.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,_e]}})})},a.prototype.updateAuthority=function(o){if(!o.discoveryComplete())throw ClientAuthError.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=o},a.prototype.createTokenQueryParameters=function(o){var s=new RequestParameterBuilder;return o.tokenQueryParameters&&s.addExtraQueryParameters(o.tokenQueryParameters),s.createQueryString()},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var CredentialEntity=function(){function a(){}return a.prototype.generateAccountId=function(){return a.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},a.prototype.generateCredentialId=function(){return a.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},a.prototype.generateTarget=function(){return a.generateTargetForCacheKey(this.target)},a.prototype.generateCredentialKey=function(){return a.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},a.prototype.generateType=function(){switch(this.credentialType){case CredentialType.ID_TOKEN:return CacheType.ID_TOKEN;case CredentialType.ACCESS_TOKEN:case CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME:return CacheType.ACCESS_TOKEN;case CredentialType.REFRESH_TOKEN:return CacheType.REFRESH_TOKEN;default:throw ClientAuthError.createUnexpectedCredentialTypeError()}},a.generateCredentialCacheKey=function(o,s,$,j,_e,et,tt,rt,nt){var it=[this.generateAccountIdForCacheKey(o,s),this.generateCredentialIdForCacheKey($,j,_e,tt),this.generateTargetForCacheKey(et),this.generateClaimsHashForCacheKey(nt),this.generateSchemeForCacheKey(rt)];return it.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},a.generateAccountIdForCacheKey=function(o,s){var $=[o,s];return $.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},a.generateCredentialIdForCacheKey=function(o,s,$,j){var _e=o===CredentialType.REFRESH_TOKEN&&j||s,et=[o,_e,$||Constants.EMPTY_STRING];return et.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},a.generateTargetForCacheKey=function(o){return(o||Constants.EMPTY_STRING).toLowerCase()},a.generateClaimsHashForCacheKey=function(o){return(o||Constants.EMPTY_STRING).toLowerCase()},a.generateSchemeForCacheKey=function(o){return o&&o.toLowerCase()!==AuthenticationScheme.BEARER.toLowerCase()?o.toLowerCase():Constants.EMPTY_STRING},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var IdTokenEntity=function(a){__extends(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.createIdTokenEntity=function(s,$,j,_e,et){var tt=new o;return tt.credentialType=CredentialType.ID_TOKEN,tt.homeAccountId=s,tt.environment=$,tt.clientId=_e,tt.secret=j,tt.realm=et,tt},o.isIdTokenEntity=function(s){return s?s.hasOwnProperty("homeAccountId")&&s.hasOwnProperty("environment")&&s.hasOwnProperty("credentialType")&&s.hasOwnProperty("realm")&&s.hasOwnProperty("clientId")&&s.hasOwnProperty("secret")&&s.credentialType===CredentialType.ID_TOKEN:!1},o}(CredentialEntity);/*! @azure/msal-common v13.0.0 2023-05-01 */var TimeUtils=function(){function a(){}return a.nowSeconds=function(){return Math.round(new Date().getTime()/1e3)},a.isTokenExpired=function(o,s){var $=Number(o)||0,j=a.nowSeconds()+s;return j>$},a.wasClockTurnedBack=function(o){var s=Number(o);return s>a.nowSeconds()},a.delay=function(o,s){return new Promise(function($){return setTimeout(function(){return $(s)},o)})},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var AccessTokenEntity=function(a){__extends(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.createAccessTokenEntity=function(s,$,j,_e,et,tt,rt,nt,it,ot,at,ut,ht,pt,Ct){var lt,ft,gt=new o;gt.homeAccountId=s,gt.credentialType=CredentialType.ACCESS_TOKEN,gt.secret=j;var St=TimeUtils.nowSeconds();if(gt.cachedAt=St.toString(),gt.expiresOn=rt.toString(),gt.extendedExpiresOn=nt.toString(),ot&&(gt.refreshOn=ot.toString()),gt.environment=$,gt.clientId=_e,gt.realm=et,gt.target=tt,gt.userAssertionHash=ut,gt.tokenType=StringUtils.isEmpty(at)?AuthenticationScheme.BEARER:at,pt&&(gt.requestedClaims=pt,gt.requestedClaimsHash=Ct),((lt=gt.tokenType)===null||lt===void 0?void 0:lt.toLowerCase())!==AuthenticationScheme.BEARER.toLowerCase())switch(gt.credentialType=CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME,gt.tokenType){case AuthenticationScheme.POP:var It=AuthToken.extractTokenClaims(j,it);if(!(!((ft=It==null?void 0:It.cnf)===null||ft===void 0)&&ft.kid))throw ClientAuthError.createTokenClaimsRequiredError();gt.keyId=It.cnf.kid;break;case AuthenticationScheme.SSH:gt.keyId=ht}return gt},o.isAccessTokenEntity=function(s){return s?s.hasOwnProperty("homeAccountId")&&s.hasOwnProperty("environment")&&s.hasOwnProperty("credentialType")&&s.hasOwnProperty("realm")&&s.hasOwnProperty("clientId")&&s.hasOwnProperty("secret")&&s.hasOwnProperty("target")&&(s.credentialType===CredentialType.ACCESS_TOKEN||s.credentialType===CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1},o}(CredentialEntity);/*! @azure/msal-common v13.0.0 2023-05-01 */var RefreshTokenEntity=function(a){__extends(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.createRefreshTokenEntity=function(s,$,j,_e,et,tt){var rt=new o;return rt.clientId=_e,rt.credentialType=CredentialType.REFRESH_TOKEN,rt.environment=$,rt.homeAccountId=s,rt.secret=j,rt.userAssertionHash=tt,et&&(rt.familyId=et),rt},o.isRefreshTokenEntity=function(s){return s?s.hasOwnProperty("homeAccountId")&&s.hasOwnProperty("environment")&&s.hasOwnProperty("credentialType")&&s.hasOwnProperty("clientId")&&s.hasOwnProperty("secret")&&s.credentialType===CredentialType.REFRESH_TOKEN:!1},o}(CredentialEntity);/*! @azure/msal-common v13.0.0 2023-05-01 */var InteractionRequiredServerErrorMessage=["interaction_required","consent_required","login_required"],InteractionRequiredAuthSubErrorMessage=["message_only","additional_action","basic_action","user_password_expired","consent_required"],InteractionRequiredAuthErrorMessage={noTokensFoundError:{code:"no_tokens_found",desc:"No refresh token found in the cache. Please sign-in."},native_account_unavailable:{code:"native_account_unavailable",desc:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API."}},InteractionRequiredAuthError=function(a){__extends(o,a);function o(s,$,j,_e,et,tt,rt){var nt=a.call(this,s,$,j)||this;return Object.setPrototypeOf(nt,o.prototype),nt.timestamp=_e||Constants.EMPTY_STRING,nt.traceId=et||Constants.EMPTY_STRING,nt.correlationId=tt||Constants.EMPTY_STRING,nt.claims=rt||Constants.EMPTY_STRING,nt.name="InteractionRequiredAuthError",nt}return o.isInteractionRequiredError=function(s,$,j){var _e=!!s&&InteractionRequiredServerErrorMessage.indexOf(s)>-1,et=!!j&&InteractionRequiredAuthSubErrorMessage.indexOf(j)>-1,tt=!!$&&InteractionRequiredServerErrorMessage.some(function(rt){return $.indexOf(rt)>-1});return _e||tt||et},o.createNoTokensFoundError=function(){return new o(InteractionRequiredAuthErrorMessage.noTokensFoundError.code,InteractionRequiredAuthErrorMessage.noTokensFoundError.desc)},o.createNativeAccountUnavailableError=function(){return new o(InteractionRequiredAuthErrorMessage.native_account_unavailable.code,InteractionRequiredAuthErrorMessage.native_account_unavailable.desc)},o}(AuthError);/*! @azure/msal-common v13.0.0 2023-05-01 */var CacheRecord=function(){function a(o,s,$,j,_e){this.account=o||null,this.idToken=s||null,this.accessToken=$||null,this.refreshToken=j||null,this.appMetadata=_e||null}return a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var ProtocolUtils=function(){function a(){}return a.setRequestState=function(o,s,$){var j=a.generateLibraryState(o,$);return StringUtils.isEmpty(s)?j:""+j+Constants.RESOURCE_DELIM+s},a.generateLibraryState=function(o,s){if(!o)throw ClientAuthError.createNoCryptoObjectError("generateLibraryState");var $={id:o.createNewGuid()};s&&($.meta=s);var j=JSON.stringify($);return o.base64Encode(j)},a.parseRequestState=function(o,s){if(!o)throw ClientAuthError.createNoCryptoObjectError("parseRequestState");if(StringUtils.isEmpty(s))throw ClientAuthError.createInvalidStateError(s,"Null, undefined or empty state");try{var $=s.split(Constants.RESOURCE_DELIM),j=$[0],_e=$.length>1?$.slice(1).join(Constants.RESOURCE_DELIM):Constants.EMPTY_STRING,et=o.base64Decode(j),tt=JSON.parse(et);return{userRequestState:StringUtils.isEmpty(_e)?Constants.EMPTY_STRING:_e,libraryState:tt}}catch(rt){throw ClientAuthError.createInvalidStateError(s,rt)}},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var UrlString=function(){function a(o){if(this._urlString=o,StringUtils.isEmpty(this._urlString))throw ClientConfigurationError.createUrlEmptyError();StringUtils.isEmpty(this.getHash())&&(this._urlString=a.canonicalizeUri(o))}return Object.defineProperty(a.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),a.canonicalizeUri=function(o){if(o){var s=o.toLowerCase();return StringUtils.endsWith(s,"?")?s=s.slice(0,-1):StringUtils.endsWith(s,"?/")&&(s=s.slice(0,-2)),StringUtils.endsWith(s,"/")||(s+="/"),s}return o},a.prototype.validateAsUri=function(){var o;try{o=this.getUrlComponents()}catch(s){throw ClientConfigurationError.createUrlParseError(s)}if(!o.HostNameAndPort||!o.PathSegments)throw ClientConfigurationError.createUrlParseError("Given url string: "+this.urlString);if(!o.Protocol||o.Protocol.toLowerCase()!=="https:")throw ClientConfigurationError.createInsecureAuthorityUriError(this.urlString)},a.appendQueryString=function(o,s){return StringUtils.isEmpty(s)?o:o.indexOf("?")<0?o+"?"+s:o+"&"+s},a.removeHashFromUrl=function(o){return a.canonicalizeUri(o.split("#")[0])},a.prototype.replaceTenantPath=function(o){var s=this.getUrlComponents(),$=s.PathSegments;return o&&$.length!==0&&($[0]===AADAuthorityConstants.COMMON||$[0]===AADAuthorityConstants.ORGANIZATIONS)&&($[0]=o),a.constructAuthorityUriFromObject(s)},a.prototype.getHash=function(){return a.parseHash(this.urlString)},a.prototype.getUrlComponents=function(){var o=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),s=this.urlString.match(o);if(!s)throw ClientConfigurationError.createUrlParseError("Given url string: "+this.urlString);var $={Protocol:s[1],HostNameAndPort:s[4],AbsolutePath:s[5],QueryString:s[7]},j=$.AbsolutePath.split("/");return j=j.filter(function(_e){return _e&&_e.length>0}),$.PathSegments=j,!StringUtils.isEmpty($.QueryString)&&$.QueryString.endsWith("/")&&($.QueryString=$.QueryString.substring(0,$.QueryString.length-1)),$},a.getDomainFromUrl=function(o){var s=RegExp("^([^:/?#]+://)?([^/?#]*)"),$=o.match(s);if(!$)throw ClientConfigurationError.createUrlParseError("Given url string: "+o);return $[2]},a.getAbsoluteUrl=function(o,s){if(o[0]===Constants.FORWARD_SLASH){var $=new a(s),j=$.getUrlComponents();return j.Protocol+"//"+j.HostNameAndPort+o}return o},a.parseHash=function(o){var s=o.indexOf("#"),$=o.indexOf("#/");return $>-1?o.substring($+2):s>-1?o.substring(s+1):Constants.EMPTY_STRING},a.parseQueryString=function(o){var s=o.indexOf("?"),$=o.indexOf("/?");return $>-1?o.substring($+2):s>-1?o.substring(s+1):Constants.EMPTY_STRING},a.constructAuthorityUriFromObject=function(o){return new a(o.Protocol+"//"+o.HostNameAndPort+"/"+o.PathSegments.join("/"))},a.getDeserializedHash=function(o){if(StringUtils.isEmpty(o))return{};var s=a.parseHash(o),$=StringUtils.queryStringToObject(StringUtils.isEmpty(s)?o:s);if(!$)throw ClientAuthError.createHashNotDeserializedError(JSON.stringify($));return $},a.getDeserializedQueryString=function(o){if(StringUtils.isEmpty(o))return{};var s=a.parseQueryString(o),$=StringUtils.queryStringToObject(StringUtils.isEmpty(s)?o:s);if(!$)throw ClientAuthError.createHashNotDeserializedError(JSON.stringify($));return $},a.hashContainsKnownProperties=function(o){if(StringUtils.isEmpty(o)||o.indexOf("=")<0)return!1;var s=a.getDeserializedHash(o);return!!(s.code||s.error_description||s.error||s.state)},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var PerformanceEvents;(function(a){a.AcquireTokenByCode="acquireTokenByCode",a.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",a.AcquireTokenSilent="acquireTokenSilent",a.AcquireTokenSilentAsync="acquireTokenSilentAsync",a.AcquireTokenPopup="acquireTokenPopup",a.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",a.CryptoOptsSignJwt="cryptoOptsSignJwt",a.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",a.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",a.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",a.SsoSilent="ssoSilent",a.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",a.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",a.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",a.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",a.BrokerHandhshake="brokerHandshake",a.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",a.AcquireTokenByBroker="acquireTokenByBroker",a.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",a.RefreshTokenClientAcquireToken="refreshTokenClientAcquireToken",a.RefreshTokenClientAcquireTokenWithCachedRefreshToken="refreshTokenClientAcquireTokenWithCachedRefreshToken",a.RefreshTokenClientAcquireTokenByRefreshToken="refreshTokenClientAcquireTokenByRefreshToken",a.RefreshTokenClientCreateTokenRequestBody="refreshTokenClientCreateTokenRequestBody",a.AcquireTokenFromCache="acquireTokenFromCache",a.AcquireTokenBySilentIframe="acquireTokenBySilentIframe",a.InitializeBaseRequest="initializeBaseRequest",a.InitializeSilentRequest="initializeSilentRequest",a.InitializeClientApplication="initializeClientApplication",a.SilentIframeClientTokenHelper="silentIframeClientTokenHelper",a.SilentHandlerInitiateAuthRequest="silentHandlerInitiateAuthRequest",a.SilentHandlerMonitorIframeForHash="silentHandlerMonitorIframeForHash",a.SilentHandlerLoadFrame="silentHandlerLoadFrame",a.StandardInteractionClientCreateAuthCodeClient="standardInteractionClientCreateAuthCodeClient",a.StandardInteractionClientGetClientConfiguration="standardInteractionClientGetClientConfiguration",a.StandardInteractionClientInitializeAuthorizationRequest="standardInteractionClientInitializeAuthorizationRequest",a.StandardInteractionClientInitializeAuthorizationCodeRequest="standardInteractionClientInitializeAuthorizationCodeRequest",a.GetAuthCodeUrl="getAuthCodeUrl",a.HandleCodeResponseFromServer="handleCodeResponseFromServer",a.HandleCodeResponseFromHash="handleCodeResponseFromHash",a.UpdateTokenEndpointAuthority="updateTokenEndpointAuthority",a.AuthClientAcquireToken="authClientAcquireToken",a.AuthClientExecuteTokenRequest="authClientExecuteTokenRequest",a.AuthClientCreateTokenRequestBody="authClientCreateTokenRequestBody",a.AuthClientCreateQueryString="authClientCreateQueryString",a.PopTokenGenerateCnf="popTokenGenerateCnf",a.PopTokenGenerateKid="popTokenGenerateKid",a.HandleServerTokenResponse="handleServerTokenResponse",a.AuthorityFactoryCreateDiscoveredInstance="authorityFactoryCreateDiscoveredInstance",a.AuthorityResolveEndpointsAsync="authorityResolveEndpointsAsync",a.AuthorityGetCloudDiscoveryMetadataFromNetwork="authorityGetCloudDiscoveryMetadataFromNetwork",a.AuthorityUpdateCloudDiscoveryMetadata="authorityUpdateCloudDiscoveryMetadata",a.AuthorityGetEndpointMetadataFromNetwork="authorityGetEndpointMetadataFromNetwork",a.AuthorityUpdateEndpointMetadata="authorityUpdateEndpointMetadata",a.AuthorityUpdateMetadataWithRegionalInformation="authorityUpdateMetadataWithRegionalInformation",a.RegionDiscoveryDetectRegion="regionDiscoveryDetectRegion",a.RegionDiscoveryGetRegionFromIMDS="regionDiscoveryGetRegionFromIMDS",a.RegionDiscoveryGetCurrentVersion="regionDiscoveryGetCurrentVersion",a.AcquireTokenByCodeAsync="acquireTokenByCodeAsync",a.GetEndpointMetadataFromNetwork="getEndpointMetadataFromNetwork",a.GetCloudDiscoveryMetadataFromNetworkMeasurement="getCloudDiscoveryMetadataFromNetworkMeasurement",a.HandleRedirectPromiseMeasurement="handleRedirectPromiseMeasurement",a.UpdateCloudDiscoveryMetadataMeasurement="updateCloudDiscoveryMetadataMeasurement",a.UsernamePasswordClientAcquireToken="usernamePasswordClientAcquireToken",a.NativeMessageHandlerHandshake="nativeMessageHandlerHandshake"})(PerformanceEvents||(PerformanceEvents={}));var PerformanceEventStatus;(function(a){a[a.NotStarted=0]="NotStarted",a[a.InProgress=1]="InProgress",a[a.Completed=2]="Completed"})(PerformanceEventStatus||(PerformanceEventStatus={}));var IntFields=new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status"]);/*! @azure/msal-common v13.0.0 2023-05-01 */var KeyLocation;(function(a){a.SW="sw",a.UHW="uhw"})(KeyLocation||(KeyLocation={}));var PopTokenGenerator=function(){function a(o,s){this.cryptoUtils=o,this.performanceClient=s}return a.prototype.generateCnf=function(o){var s,$;return __awaiter(this,void 0,void 0,function(){var j,_e,et;return __generator(this,function(tt){switch(tt.label){case 0:return(s=this.performanceClient)===null||s===void 0||s.addQueueMeasurement(PerformanceEvents.PopTokenGenerateCnf,o.correlationId),($=this.performanceClient)===null||$===void 0||$.setPreQueueTime(PerformanceEvents.PopTokenGenerateKid,o.correlationId),[4,this.generateKid(o)];case 1:return j=tt.sent(),_e=this.cryptoUtils.base64Encode(JSON.stringify(j)),et={kid:j.kid,reqCnfString:_e},[4,this.cryptoUtils.hashString(_e)];case 2:return[2,(et.reqCnfHash=tt.sent(),et)]}})})},a.prototype.generateKid=function(o){var s;return __awaiter(this,void 0,void 0,function(){var $;return __generator(this,function(j){switch(j.label){case 0:return(s=this.performanceClient)===null||s===void 0||s.addQueueMeasurement(PerformanceEvents.PopTokenGenerateKid,o.correlationId),[4,this.cryptoUtils.getPublicKeyThumbprint(o)];case 1:return $=j.sent(),[2,{kid:$,xms_ksl:KeyLocation.SW}]}})})},a.prototype.signPopToken=function(o,s,$){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(j){return[2,this.signPayload(o,s,$)]})})},a.prototype.signPayload=function(o,s,$,j){return __awaiter(this,void 0,void 0,function(){var _e,et,tt,rt,nt,it;return __generator(this,function(ot){switch(ot.label){case 0:return _e=$.resourceRequestMethod,et=$.resourceRequestUri,tt=$.shrClaims,rt=$.shrNonce,nt=et?new UrlString(et):void 0,it=nt==null?void 0:nt.getUrlComponents(),[4,this.cryptoUtils.signJwt(__assign({at:o,ts:TimeUtils.nowSeconds(),m:_e==null?void 0:_e.toUpperCase(),u:it==null?void 0:it.HostNameAndPort,nonce:rt||this.cryptoUtils.createNewGuid(),p:it==null?void 0:it.AbsolutePath,q:it!=null&&it.QueryString?[[],it.QueryString]:void 0,client_claims:tt||void 0},j),s,$.correlationId)];case 1:return[2,ot.sent()]}})})},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var AppMetadataEntity=function(){function a(){}return a.prototype.generateAppMetadataKey=function(){return a.generateAppMetadataCacheKey(this.environment,this.clientId)},a.generateAppMetadataCacheKey=function(o,s){var $=[APP_METADATA,o,s];return $.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},a.createAppMetadataEntity=function(o,s,$){var j=new a;return j.clientId=o,j.environment=s,$&&(j.familyId=$),j},a.isAppMetadataEntity=function(o,s){return s?o.indexOf(APP_METADATA)===0&&s.hasOwnProperty("clientId")&&s.hasOwnProperty("environment"):!1},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var TokenCacheContext=function(){function a(o,s){this.cache=o,this.hasChanged=s}return Object.defineProperty(a.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var ResponseHandler=function(){function a(o,s,$,j,_e,et,tt){this.clientId=o,this.cacheStorage=s,this.cryptoObj=$,this.logger=j,this.serializableCache=_e,this.persistencePlugin=et,this.performanceClient=tt}return a.prototype.validateServerAuthorizationCodeResponse=function(o,s,$){if(!o.state||!s)throw o.state?ClientAuthError.createStateNotFoundError("Cached State"):ClientAuthError.createStateNotFoundError("Server State");if(decodeURIComponent(o.state)!==decodeURIComponent(s))throw ClientAuthError.createStateMismatchError();if(o.error||o.error_description||o.suberror)throw InteractionRequiredAuthError.isInteractionRequiredError(o.error,o.error_description,o.suberror)?new InteractionRequiredAuthError(o.error||Constants.EMPTY_STRING,o.error_description,o.suberror,o.timestamp||Constants.EMPTY_STRING,o.trace_id||Constants.EMPTY_STRING,o.correlation_id||Constants.EMPTY_STRING,o.claims||Constants.EMPTY_STRING):new ServerError(o.error||Constants.EMPTY_STRING,o.error_description,o.suberror);o.client_info&&buildClientInfo(o.client_info,$)},a.prototype.validateTokenResponse=function(o){if(o.error||o.error_description||o.suberror){if(InteractionRequiredAuthError.isInteractionRequiredError(o.error,o.error_description,o.suberror))throw new InteractionRequiredAuthError(o.error,o.error_description,o.suberror,o.timestamp||Constants.EMPTY_STRING,o.trace_id||Constants.EMPTY_STRING,o.correlation_id||Constants.EMPTY_STRING,o.claims||Constants.EMPTY_STRING);var s=o.error_codes+" - ["+o.timestamp+"]: "+o.error_description+" - Correlation ID: "+o.correlation_id+" - Trace ID: "+o.trace_id;throw new ServerError(o.error,s,o.suberror)}},a.prototype.handleServerTokenResponse=function(o,s,$,j,_e,et,tt,rt,nt){var it;return __awaiter(this,void 0,void 0,function(){var ot,at,ut,ht,pt,Ct,lt;return __generator(this,function(ft){switch(ft.label){case 0:if((it=this.performanceClient)===null||it===void 0||it.addQueueMeasurement(PerformanceEvents.HandleServerTokenResponse,o.correlation_id),o.id_token){if(ot=new AuthToken(o.id_token||Constants.EMPTY_STRING,this.cryptoObj),_e&&!StringUtils.isEmpty(_e.nonce)&&ot.claims.nonce!==_e.nonce)throw ClientAuthError.createNonceMismatchError();if(j.maxAge||j.maxAge===0){if(at=ot.claims.auth_time,!at)throw ClientAuthError.createAuthTimeNotFoundError();AuthToken.checkMaxAge(at,j.maxAge)}}this.homeAccountIdentifier=AccountEntity.generateHomeAccountId(o.client_info||Constants.EMPTY_STRING,s.authorityType,this.logger,this.cryptoObj,ot),_e&&_e.state&&(ut=ProtocolUtils.parseRequestState(this.cryptoObj,_e.state)),o.key_id=o.key_id||j.sshKid||void 0,ht=this.generateCacheRecord(o,s,$,j,ot,et,_e),ft.label=1;case 1:return ft.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),pt=new TokenCacheContext(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(pt)]):[3,3];case 2:ft.sent(),ft.label=3;case 3:return tt&&!rt&&ht.account&&(Ct=ht.account.generateAccountKey(),lt=this.cacheStorage.getAccount(Ct),!lt)?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,a.generateAuthenticationResult(this.cryptoObj,s,ht,!1,j,ot,ut,void 0,nt)]):[4,this.cacheStorage.saveCacheRecord(ht)];case 4:return ft.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&pt?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(pt)]):[3,7];case 6:ft.sent(),ft.label=7;case 7:return[7];case 8:return[2,a.generateAuthenticationResult(this.cryptoObj,s,ht,!1,j,ot,ut,o,nt)]}})})},a.prototype.generateCacheRecord=function(o,s,$,j,_e,et,tt){var rt=s.getPreferredCache();if(StringUtils.isEmpty(rt))throw ClientAuthError.createInvalidCacheEnvironmentError();var nt,it;!StringUtils.isEmpty(o.id_token)&&_e&&(nt=IdTokenEntity.createIdTokenEntity(this.homeAccountIdentifier,rt,o.id_token||Constants.EMPTY_STRING,this.clientId,_e.claims.tid||Constants.EMPTY_STRING),it=this.generateAccountEntity(o,_e,s,tt));var ot=null;if(!StringUtils.isEmpty(o.access_token)){var at=o.scope?ScopeSet.fromString(o.scope):new ScopeSet(j.scopes||[]),ut=(typeof o.expires_in=="string"?parseInt(o.expires_in,10):o.expires_in)||0,ht=(typeof o.ext_expires_in=="string"?parseInt(o.ext_expires_in,10):o.ext_expires_in)||0,pt=(typeof o.refresh_in=="string"?parseInt(o.refresh_in,10):o.refresh_in)||void 0,Ct=$+ut,lt=Ct+ht,ft=pt&&pt>0?$+pt:void 0;ot=AccessTokenEntity.createAccessTokenEntity(this.homeAccountIdentifier,rt,o.access_token||Constants.EMPTY_STRING,this.clientId,_e?_e.claims.tid||Constants.EMPTY_STRING:s.tenant,at.printScopes(),Ct,lt,this.cryptoObj,ft,o.token_type,et,o.key_id,j.claims,j.requestedClaimsHash)}var gt=null;StringUtils.isEmpty(o.refresh_token)||(gt=RefreshTokenEntity.createRefreshTokenEntity(this.homeAccountIdentifier,rt,o.refresh_token||Constants.EMPTY_STRING,this.clientId,o.foci,et));var St=null;return StringUtils.isEmpty(o.foci)||(St=AppMetadataEntity.createAppMetadataEntity(this.clientId,rt,o.foci)),new CacheRecord(it,nt,ot,gt,St)},a.prototype.generateAccountEntity=function(o,s,$,j){var _e=$.authorityType,et=j?j.cloud_graph_host_name:Constants.EMPTY_STRING,tt=j?j.msgraph_host:Constants.EMPTY_STRING;if(_e===AuthorityType.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),AccountEntity.createGenericAccount(this.homeAccountIdentifier,s,$,et,tt);if(StringUtils.isEmpty(o.client_info)&&$.protocolMode==="AAD")throw ClientAuthError.createClientInfoEmptyError();return o.client_info?AccountEntity.createAccount(o.client_info,this.homeAccountIdentifier,s,$,et,tt):AccountEntity.createGenericAccount(this.homeAccountIdentifier,s,$,et,tt)},a.generateAuthenticationResult=function(o,s,$,j,_e,et,tt,rt,nt){var it,ot,at;return __awaiter(this,void 0,void 0,function(){var ut,ht,pt,Ct,lt,ft,gt,St,It,vt,dt;return __generator(this,function(yt){switch(yt.label){case 0:if(ut=Constants.EMPTY_STRING,ht=[],pt=null,lt=Constants.EMPTY_STRING,!$.accessToken)return[3,4];if($.accessToken.tokenType!==AuthenticationScheme.POP)return[3,2];if(ft=new PopTokenGenerator(o),gt=$.accessToken,St=gt.secret,It=gt.keyId,!It)throw ClientAuthError.createKeyIdMissingError();return[4,ft.signPopToken(St,It,_e)];case 1:return ut=yt.sent(),[3,3];case 2:ut=$.accessToken.secret,yt.label=3;case 3:ht=ScopeSet.fromString($.accessToken.target).asArray(),pt=new Date(Number($.accessToken.expiresOn)*1e3),Ct=new Date(Number($.accessToken.extendedExpiresOn)*1e3),yt.label=4;case 4:return $.appMetadata&&(lt=$.appMetadata.familyId===THE_FAMILY_ID?THE_FAMILY_ID:Constants.EMPTY_STRING),vt=(et==null?void 0:et.claims.oid)||(et==null?void 0:et.claims.sub)||Constants.EMPTY_STRING,dt=(et==null?void 0:et.claims.tid)||Constants.EMPTY_STRING,rt!=null&&rt.spa_accountid&&$.account&&($.account.nativeAccountId=rt==null?void 0:rt.spa_accountid),[2,{authority:s.canonicalAuthority,uniqueId:vt,tenantId:dt,scopes:ht,account:$.account?$.account.getAccountInfo():null,idToken:et?et.rawToken:Constants.EMPTY_STRING,idTokenClaims:et?et.claims:{},accessToken:ut,fromCache:j,expiresOn:pt,correlationId:_e.correlationId,requestId:nt||Constants.EMPTY_STRING,extExpiresOn:Ct,familyId:lt,tokenType:((it=$.accessToken)===null||it===void 0?void 0:it.tokenType)||Constants.EMPTY_STRING,state:tt?tt.userRequestState:Constants.EMPTY_STRING,cloudGraphHostName:((ot=$.account)===null||ot===void 0?void 0:ot.cloudGraphHostName)||Constants.EMPTY_STRING,msGraphHost:((at=$.account)===null||at===void 0?void 0:at.msGraphHost)||Constants.EMPTY_STRING,code:rt==null?void 0:rt.spa_code,fromNativeBroker:!1}]}})})},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var AuthorizationCodeClient=function(a){__extends(o,a);function o(s,$){var j=a.call(this,s,$)||this;return j.includeRedirectUri=!0,j}return o.prototype.getAuthCodeUrl=function(s){var $,j;return __awaiter(this,void 0,void 0,function(){var _e;return __generator(this,function(et){switch(et.label){case 0:return($=this.performanceClient)===null||$===void 0||$.addQueueMeasurement(PerformanceEvents.GetAuthCodeUrl,s.correlationId),(j=this.performanceClient)===null||j===void 0||j.setPreQueueTime(PerformanceEvents.AuthClientCreateQueryString,s.correlationId),[4,this.createAuthCodeUrlQueryString(s)];case 1:return _e=et.sent(),[2,UrlString.appendQueryString(this.authority.authorizationEndpoint,_e)]}})})},o.prototype.acquireToken=function(s,$){var j,_e,et,tt,rt,nt;return __awaiter(this,void 0,void 0,function(){var it,ot,at,ut,ht,pt,Ct=this;return __generator(this,function(lt){switch(lt.label){case 0:if(!s||!s.code)throw ClientAuthError.createTokenRequestCannotBeMadeError();return(j=this.performanceClient)===null||j===void 0||j.addQueueMeasurement(PerformanceEvents.AuthClientAcquireToken,s.correlationId),it=(_e=this.performanceClient)===null||_e===void 0?void 0:_e.startMeasurement("AuthCodeClientAcquireToken",s.correlationId),this.logger.info("in acquireToken call in auth-code client"),ot=TimeUtils.nowSeconds(),(et=this.performanceClient)===null||et===void 0||et.setPreQueueTime(PerformanceEvents.AuthClientExecuteTokenRequest,s.correlationId),[4,this.executeTokenRequest(this.authority,s)];case 1:return at=lt.sent(),ut=(tt=at.headers)===null||tt===void 0?void 0:tt[HeaderNames.X_MS_REQUEST_ID],ht=(rt=at.headers)===null||rt===void 0?void 0:rt[HeaderNames.X_MS_HTTP_VERSION],ht&&(it==null||it.addStaticFields({httpVerAuthority:ht})),pt=new ResponseHandler(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient),pt.validateTokenResponse(at.body),(nt=this.performanceClient)===null||nt===void 0||nt.setPreQueueTime(PerformanceEvents.HandleServerTokenResponse,s.correlationId),[2,pt.handleServerTokenResponse(at.body,this.authority,ot,s,$,void 0,void 0,void 0,ut).then(function(ft){return it==null||it.endMeasurement({success:!0}),ft}).catch(function(ft){throw Ct.logger.verbose("Error in fetching token in ACC",s.correlationId),it==null||it.endMeasurement({errorCode:ft.errorCode,subErrorCode:ft.subError,success:!1}),ft})]}})})},o.prototype.handleFragmentResponse=function(s,$){var j=new ResponseHandler(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),_e=new UrlString(s),et=UrlString.getDeserializedHash(_e.getHash());if(j.validateServerAuthorizationCodeResponse(et,$,this.cryptoUtils),!et.code)throw ClientAuthError.createNoAuthCodeInServerResponseError();return __assign(__assign({},et),{code:et.code})},o.prototype.getLogoutUri=function(s){if(!s)throw ClientConfigurationError.createEmptyLogoutRequestError();var $=this.createLogoutUrlQueryString(s);return UrlString.appendQueryString(this.authority.endSessionEndpoint,$)},o.prototype.executeTokenRequest=function(s,$){var j,_e;return __awaiter(this,void 0,void 0,function(){var et,tt,rt,nt,it,ot,at;return __generator(this,function(ut){switch(ut.label){case 0:return(j=this.performanceClient)===null||j===void 0||j.addQueueMeasurement(PerformanceEvents.AuthClientExecuteTokenRequest,$.correlationId),(_e=this.performanceClient)===null||_e===void 0||_e.setPreQueueTime(PerformanceEvents.AuthClientCreateTokenRequestBody,$.correlationId),et=this.createTokenQueryParameters($),tt=UrlString.appendQueryString(s.tokenEndpoint,et),[4,this.createTokenRequestBody($)];case 1:if(rt=ut.sent(),nt=void 0,$.clientInfo)try{it=buildClientInfo($.clientInfo,this.cryptoUtils),nt={credential:""+it.uid+Separators.CLIENT_INFO_SEPARATOR+it.utid,type:CcsCredentialType.HOME_ACCOUNT_ID}}catch(ht){this.logger.verbose("Could not parse client info for CCS Header: "+ht)}return ot=this.createTokenRequestHeaders(nt||$.ccsCredential),at={clientId:this.config.authOptions.clientId,authority:s.canonicalAuthority,scopes:$.scopes,claims:$.claims,authenticationScheme:$.authenticationScheme,resourceRequestMethod:$.resourceRequestMethod,resourceRequestUri:$.resourceRequestUri,shrClaims:$.shrClaims,sshKid:$.sshKid},[2,this.executePostToTokenEndpoint(tt,rt,ot,at)]}})})},o.prototype.createTokenRequestBody=function(s){var $,j;return __awaiter(this,void 0,void 0,function(){var _e,et,tt,rt,nt,it,ot,ot,at;return __generator(this,function(ut){switch(ut.label){case 0:return($=this.performanceClient)===null||$===void 0||$.addQueueMeasurement(PerformanceEvents.AuthClientCreateTokenRequestBody,s.correlationId),_e=new RequestParameterBuilder,_e.addClientId(this.config.authOptions.clientId),this.includeRedirectUri?_e.addRedirectUri(s.redirectUri):RequestValidator.validateRedirectUri(s.redirectUri),_e.addScopes(s.scopes),_e.addAuthorizationCode(s.code),_e.addLibraryInfo(this.config.libraryInfo),_e.addApplicationTelemetry(this.config.telemetry.application),_e.addThrottling(),this.serverTelemetryManager&&_e.addServerTelemetry(this.serverTelemetryManager),s.codeVerifier&&_e.addCodeVerifier(s.codeVerifier),this.config.clientCredentials.clientSecret&&_e.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(et=this.config.clientCredentials.clientAssertion,_e.addClientAssertion(et.assertion),_e.addClientAssertionType(et.assertionType)),_e.addGrantType(GrantType.AUTHORIZATION_CODE_GRANT),_e.addClientInfo(),s.authenticationScheme!==AuthenticationScheme.POP?[3,2]:(tt=new PopTokenGenerator(this.cryptoUtils,this.performanceClient),(j=this.performanceClient)===null||j===void 0||j.setPreQueueTime(PerformanceEvents.PopTokenGenerateCnf,s.correlationId),[4,tt.generateCnf(s)]);case 1:return rt=ut.sent(),_e.addPopToken(rt.reqCnfString),[3,3];case 2:if(s.authenticationScheme===AuthenticationScheme.SSH)if(s.sshJwk)_e.addSshJwk(s.sshJwk);else throw ClientConfigurationError.createMissingSshJwkError();ut.label=3;case 3:if(nt=s.correlationId||this.config.cryptoInterface.createNewGuid(),_e.addCorrelationId(nt),(!StringUtils.isEmptyObj(s.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&_e.addClaims(s.claims,this.config.authOptions.clientCapabilities),it=void 0,s.clientInfo)try{ot=buildClientInfo(s.clientInfo,this.cryptoUtils),it={credential:""+ot.uid+Separators.CLIENT_INFO_SEPARATOR+ot.utid,type:CcsCredentialType.HOME_ACCOUNT_ID}}catch(ht){this.logger.verbose("Could not parse client info for CCS Header: "+ht)}else it=s.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&it)switch(it.type){case CcsCredentialType.HOME_ACCOUNT_ID:try{ot=buildClientInfoFromHomeAccountId(it.credential),_e.addCcsOid(ot)}catch(ht){this.logger.verbose("Could not parse home account ID for CCS Header: "+ht)}break;case CcsCredentialType.UPN:_e.addCcsUpn(it.credential);break}return s.tokenBodyParameters&&_e.addExtraQueryParameters(s.tokenBodyParameters),s.enableSpaAuthorizationCode&&(!s.tokenBodyParameters||!s.tokenBodyParameters[AADServerParamKeys.RETURN_SPA_CODE])&&_e.addExtraQueryParameters((at={},at[AADServerParamKeys.RETURN_SPA_CODE]="1",at)),[2,_e.createQueryString()]}})})},o.prototype.createAuthCodeUrlQueryString=function(s){var $;return __awaiter(this,void 0,void 0,function(){var j,_e,et,tt,rt,nt,nt,nt,it,ot;return __generator(this,function(at){switch(at.label){case 0:if(($=this.performanceClient)===null||$===void 0||$.addQueueMeasurement(PerformanceEvents.AuthClientCreateQueryString,s.correlationId),j=new RequestParameterBuilder,j.addClientId(this.config.authOptions.clientId),_e=__spreadArrays(s.scopes||[],s.extraScopesToConsent||[]),j.addScopes(_e),j.addRedirectUri(s.redirectUri),et=s.correlationId||this.config.cryptoInterface.createNewGuid(),j.addCorrelationId(et),j.addResponseMode(s.responseMode),j.addResponseTypeCode(),j.addLibraryInfo(this.config.libraryInfo),j.addApplicationTelemetry(this.config.telemetry.application),j.addClientInfo(),s.codeChallenge&&s.codeChallengeMethod&&j.addCodeChallengeParams(s.codeChallenge,s.codeChallengeMethod),s.prompt&&j.addPrompt(s.prompt),s.domainHint&&j.addDomainHint(s.domainHint),s.prompt!==PromptValue.SELECT_ACCOUNT)if(s.sid&&s.prompt===PromptValue.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),j.addSid(s.sid);else if(s.account){if(tt=this.extractAccountSid(s.account),rt=this.extractLoginHint(s.account),rt){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),j.addLoginHint(rt);try{nt=buildClientInfoFromHomeAccountId(s.account.homeAccountId),j.addCcsOid(nt)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(tt&&s.prompt===PromptValue.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),j.addSid(tt);try{nt=buildClientInfoFromHomeAccountId(s.account.homeAccountId),j.addCcsOid(nt)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(s.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),j.addLoginHint(s.loginHint),j.addCcsUpn(s.loginHint);else if(s.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),j.addLoginHint(s.account.username);try{nt=buildClientInfoFromHomeAccountId(s.account.homeAccountId),j.addCcsOid(nt)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else s.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),j.addLoginHint(s.loginHint),j.addCcsUpn(s.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return s.nonce&&j.addNonce(s.nonce),s.state&&j.addState(s.state),(!StringUtils.isEmpty(s.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&j.addClaims(s.claims,this.config.authOptions.clientCapabilities),s.extraQueryParameters&&j.addExtraQueryParameters(s.extraQueryParameters),s.nativeBroker?(j.addNativeBroker(),s.authenticationScheme!==AuthenticationScheme.POP?[3,2]:(it=new PopTokenGenerator(this.cryptoUtils),[4,it.generateCnf(s)])):[3,2];case 1:ot=at.sent(),j.addPopToken(ot.reqCnfHash),at.label=2;case 2:return[2,j.createQueryString()]}})})},o.prototype.createLogoutUrlQueryString=function(s){var $=new RequestParameterBuilder;return s.postLogoutRedirectUri&&$.addPostLogoutRedirectUri(s.postLogoutRedirectUri),s.correlationId&&$.addCorrelationId(s.correlationId),s.idTokenHint&&$.addIdTokenHint(s.idTokenHint),s.state&&$.addState(s.state),s.logoutHint&&$.addLogoutHint(s.logoutHint),s.extraQueryParameters&&$.addExtraQueryParameters(s.extraQueryParameters),$.createQueryString()},o.prototype.extractAccountSid=function(s){var $;return(($=s.idTokenClaims)===null||$===void 0?void 0:$.sid)||null},o.prototype.extractLoginHint=function(s){var $;return(($=s.idTokenClaims)===null||$===void 0?void 0:$.login_hint)||null},o}(BaseClient);/*! @azure/msal-common v13.0.0 2023-05-01 */var RefreshTokenClient=function(a){__extends(o,a);function o(s,$){return a.call(this,s,$)||this}return o.prototype.acquireToken=function(s){var $,j,_e,et,tt,rt,nt;return __awaiter(this,void 0,void 0,function(){var it,ot,at,ut,ht,pt,Ct=this;return __generator(this,function(lt){switch(lt.label){case 0:return($=this.performanceClient)===null||$===void 0||$.addQueueMeasurement(PerformanceEvents.RefreshTokenClientAcquireToken,s.correlationId),it=(j=this.performanceClient)===null||j===void 0?void 0:j.startMeasurement(PerformanceEvents.RefreshTokenClientAcquireToken,s.correlationId),this.logger.verbose("RefreshTokenClientAcquireToken called",s.correlationId),ot=TimeUtils.nowSeconds(),(_e=this.performanceClient)===null||_e===void 0||_e.setPreQueueTime(PerformanceEvents.RefreshTokenClientExecuteTokenRequest,s.correlationId),[4,this.executeTokenRequest(s,this.authority)];case 1:return at=lt.sent(),ut=(et=at.headers)===null||et===void 0?void 0:et[HeaderNames.X_MS_HTTP_VERSION],it==null||it.addStaticFields({refreshTokenSize:((tt=at.body.refresh_token)===null||tt===void 0?void 0:tt.length)||0}),ut&&(it==null||it.addStaticFields({httpVerToken:ut})),ht=(rt=at.headers)===null||rt===void 0?void 0:rt[HeaderNames.X_MS_REQUEST_ID],pt=new ResponseHandler(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin),pt.validateTokenResponse(at.body),(nt=this.performanceClient)===null||nt===void 0||nt.setPreQueueTime(PerformanceEvents.HandleServerTokenResponse,s.correlationId),[2,pt.handleServerTokenResponse(at.body,this.authority,ot,s,void 0,void 0,!0,s.forceCache,ht).then(function(ft){return it==null||it.endMeasurement({success:!0}),ft}).catch(function(ft){throw Ct.logger.verbose("Error in fetching refresh token",s.correlationId),it==null||it.endMeasurement({errorCode:ft.errorCode,subErrorCode:ft.subError,success:!1}),ft})]}})})},o.prototype.acquireTokenByRefreshToken=function(s){var $,j,_e,et;return __awaiter(this,void 0,void 0,function(){var tt,rt,nt;return __generator(this,function(it){if(!s)throw ClientConfigurationError.createEmptyTokenRequestError();if(($=this.performanceClient)===null||$===void 0||$.addQueueMeasurement(PerformanceEvents.RefreshTokenClientAcquireTokenByRefreshToken,s.correlationId),!s.account)throw ClientAuthError.createNoAccountInSilentRequestError();if(tt=this.cacheManager.isAppMetadataFOCI(s.account.environment),tt)try{return(j=this.performanceClient)===null||j===void 0||j.setPreQueueTime(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,s.correlationId),[2,this.acquireTokenWithCachedRefreshToken(s,!0)]}catch(ot){if(rt=ot instanceof InteractionRequiredAuthError&&ot.errorCode===InteractionRequiredAuthErrorMessage.noTokensFoundError.code,nt=ot instanceof ServerError&&ot.errorCode===Errors.INVALID_GRANT_ERROR&&ot.subError===Errors.CLIENT_MISMATCH_ERROR,rt||nt)return(_e=this.performanceClient)===null||_e===void 0||_e.setPreQueueTime(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,s.correlationId),[2,this.acquireTokenWithCachedRefreshToken(s,!1)];throw ot}return(et=this.performanceClient)===null||et===void 0||et.setPreQueueTime(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,s.correlationId),[2,this.acquireTokenWithCachedRefreshToken(s,!1)]})})},o.prototype.acquireTokenWithCachedRefreshToken=function(s,$){var j,_e,et;return __awaiter(this,void 0,void 0,function(){var tt,rt,nt;return __generator(this,function(it){if((j=this.performanceClient)===null||j===void 0||j.addQueueMeasurement(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,s.correlationId),tt=(_e=this.performanceClient)===null||_e===void 0?void 0:_e.startMeasurement(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,s.correlationId),this.logger.verbose("RefreshTokenClientAcquireTokenWithCachedRefreshToken called",s.correlationId),rt=this.cacheManager.getRefreshToken(s.account,$),!rt)throw tt==null||tt.discardMeasurement(),InteractionRequiredAuthError.createNoTokensFoundError();return tt==null||tt.endMeasurement({success:!0}),nt=__assign(__assign({},s),{refreshToken:rt.secret,authenticationScheme:s.authenticationScheme||AuthenticationScheme.BEARER,ccsCredential:{credential:s.account.homeAccountId,type:CcsCredentialType.HOME_ACCOUNT_ID}}),(et=this.performanceClient)===null||et===void 0||et.setPreQueueTime(PerformanceEvents.RefreshTokenClientAcquireToken,s.correlationId),[2,this.acquireToken(nt)]})})},o.prototype.executeTokenRequest=function(s,$){var j,_e,et;return __awaiter(this,void 0,void 0,function(){var tt,rt,nt,it,ot,at;return __generator(this,function(ut){switch(ut.label){case 0:return(j=this.performanceClient)===null||j===void 0||j.addQueueMeasurement(PerformanceEvents.RefreshTokenClientExecuteTokenRequest,s.correlationId),tt=(_e=this.performanceClient)===null||_e===void 0?void 0:_e.startMeasurement(PerformanceEvents.RefreshTokenClientExecuteTokenRequest,s.correlationId),(et=this.performanceClient)===null||et===void 0||et.setPreQueueTime(PerformanceEvents.RefreshTokenClientCreateTokenRequestBody,s.correlationId),rt=this.createTokenQueryParameters(s),nt=UrlString.appendQueryString($.tokenEndpoint,rt),[4,this.createTokenRequestBody(s)];case 1:return it=ut.sent(),ot=this.createTokenRequestHeaders(s.ccsCredential),at={clientId:this.config.authOptions.clientId,authority:$.canonicalAuthority,scopes:s.scopes,claims:s.claims,authenticationScheme:s.authenticationScheme,resourceRequestMethod:s.resourceRequestMethod,resourceRequestUri:s.resourceRequestUri,shrClaims:s.shrClaims,sshKid:s.sshKid},[2,this.executePostToTokenEndpoint(nt,it,ot,at).then(function(ht){return tt==null||tt.endMeasurement({success:!0}),ht}).catch(function(ht){throw tt==null||tt.endMeasurement({success:!1}),ht})]}})})},o.prototype.createTokenRequestBody=function(s){var $,j,_e;return __awaiter(this,void 0,void 0,function(){var et,tt,rt,nt,it,ot,at;return __generator(this,function(ut){switch(ut.label){case 0:return($=this.performanceClient)===null||$===void 0||$.addQueueMeasurement(PerformanceEvents.RefreshTokenClientCreateTokenRequestBody,s.correlationId),et=s.correlationId,tt=(j=this.performanceClient)===null||j===void 0?void 0:j.startMeasurement(PerformanceEvents.BaseClientCreateTokenRequestHeaders,et),rt=new RequestParameterBuilder,rt.addClientId(this.config.authOptions.clientId),rt.addScopes(s.scopes),rt.addGrantType(GrantType.REFRESH_TOKEN_GRANT),rt.addClientInfo(),rt.addLibraryInfo(this.config.libraryInfo),rt.addApplicationTelemetry(this.config.telemetry.application),rt.addThrottling(),this.serverTelemetryManager&&rt.addServerTelemetry(this.serverTelemetryManager),rt.addCorrelationId(et),rt.addRefreshToken(s.refreshToken),this.config.clientCredentials.clientSecret&&rt.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(nt=this.config.clientCredentials.clientAssertion,rt.addClientAssertion(nt.assertion),rt.addClientAssertionType(nt.assertionType)),s.authenticationScheme!==AuthenticationScheme.POP?[3,2]:(it=new PopTokenGenerator(this.cryptoUtils,this.performanceClient),(_e=this.performanceClient)===null||_e===void 0||_e.setPreQueueTime(PerformanceEvents.PopTokenGenerateCnf,s.correlationId),[4,it.generateCnf(s)]);case 1:return ot=ut.sent(),rt.addPopToken(ot.reqCnfString),[3,3];case 2:if(s.authenticationScheme===AuthenticationScheme.SSH)if(s.sshJwk)rt.addSshJwk(s.sshJwk);else throw tt==null||tt.endMeasurement({success:!1}),ClientConfigurationError.createMissingSshJwkError();ut.label=3;case 3:if((!StringUtils.isEmptyObj(s.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&rt.addClaims(s.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&s.ccsCredential)switch(s.ccsCredential.type){case CcsCredentialType.HOME_ACCOUNT_ID:try{at=buildClientInfoFromHomeAccountId(s.ccsCredential.credential),rt.addCcsOid(at)}catch(ht){this.logger.verbose("Could not parse home account ID for CCS Header: "+ht)}break;case CcsCredentialType.UPN:rt.addCcsUpn(s.ccsCredential.credential);break}return tt==null||tt.endMeasurement({success:!0}),[2,rt.createQueryString()]}})})},o}(BaseClient);/*! @azure/msal-common v13.0.0 2023-05-01 */var SilentFlowClient=function(a){__extends(o,a);function o(s,$){return a.call(this,s,$)||this}return o.prototype.acquireToken=function(s){return __awaiter(this,void 0,void 0,function(){var $,j;return __generator(this,function(_e){switch(_e.label){case 0:return _e.trys.push([0,2,,3]),[4,this.acquireCachedToken(s)];case 1:return[2,_e.sent()];case 2:if($=_e.sent(),$ instanceof ClientAuthError&&$.errorCode===ClientAuthErrorMessage.tokenRefreshRequired.code)return j=new RefreshTokenClient(this.config,this.performanceClient),[2,j.acquireTokenByRefreshToken(s)];throw $;case 3:return[2]}})})},o.prototype.acquireCachedToken=function(s){var $,j,_e,et;return __awaiter(this,void 0,void 0,function(){var tt,rt;return __generator(this,function(nt){switch(nt.label){case 0:if(!s)throw ClientConfigurationError.createEmptyTokenRequestError();if(s.forceRefresh)throw($=this.serverTelemetryManager)===null||$===void 0||$.setCacheOutcome(CacheOutcome.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),ClientAuthError.createRefreshRequiredError();if(!s.account)throw ClientAuthError.createNoAccountInSilentRequestError();if(tt=s.authority||this.authority.getPreferredCache(),rt=this.cacheManager.readCacheRecord(s.account,s,tt),rt.accessToken){if(TimeUtils.wasClockTurnedBack(rt.accessToken.cachedAt)||TimeUtils.isTokenExpired(rt.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw(_e=this.serverTelemetryManager)===null||_e===void 0||_e.setCacheOutcome(CacheOutcome.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),ClientAuthError.createRefreshRequiredError();if(rt.accessToken.refreshOn&&TimeUtils.isTokenExpired(rt.accessToken.refreshOn,0))throw(et=this.serverTelemetryManager)===null||et===void 0||et.setCacheOutcome(CacheOutcome.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),ClientAuthError.createRefreshRequiredError()}else throw(j=this.serverTelemetryManager)===null||j===void 0||j.setCacheOutcome(CacheOutcome.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),ClientAuthError.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(rt,s)];case 1:return[2,nt.sent()]}})})},o.prototype.generateResultFromCacheRecord=function(s,$){return __awaiter(this,void 0,void 0,function(){var j,_e;return __generator(this,function(et){switch(et.label){case 0:if(s.idToken&&(j=new AuthToken(s.idToken.secret,this.config.cryptoInterface)),$.maxAge||$.maxAge===0){if(_e=j==null?void 0:j.claims.auth_time,!_e)throw ClientAuthError.createAuthTimeNotFoundError();AuthToken.checkMaxAge(_e,$.maxAge)}return[4,ResponseHandler.generateAuthenticationResult(this.cryptoUtils,this.authority,s,!0,$,j)];case 1:return[2,et.sent()]}})})},o}(BaseClient);/*! @azure/msal-common v13.0.0 2023-05-01 */function isOpenIdConfigResponse(a){return a.hasOwnProperty("authorization_endpoint")&&a.hasOwnProperty("token_endpoint")&&a.hasOwnProperty("issuer")&&a.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v13.0.0 2023-05-01 */var rawMetdataJSON={endpointMetadata:{"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},instanceDiscoveryMetadata:{"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}}},EndpointMetadata=rawMetdataJSON.endpointMetadata,InstanceDiscoveryMetadata=rawMetdataJSON.instanceDiscoveryMetadata;/*! @azure/msal-common v13.0.0 2023-05-01 */var ProtocolMode;(function(a){a.AAD="AAD",a.OIDC="OIDC"})(ProtocolMode||(ProtocolMode={}));/*! @azure/msal-common v13.0.0 2023-05-01 */var AuthorityMetadataEntity=function(){function a(){this.expiresAt=TimeUtils.nowSeconds()+AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS}return a.prototype.updateCloudDiscoveryMetadata=function(o,s){this.aliases=o.aliases,this.preferred_cache=o.preferred_cache,this.preferred_network=o.preferred_network,this.aliasesFromNetwork=s},a.prototype.updateEndpointMetadata=function(o,s){this.authorization_endpoint=o.authorization_endpoint,this.token_endpoint=o.token_endpoint,this.end_session_endpoint=o.end_session_endpoint,this.issuer=o.issuer,this.endpointsFromNetwork=s,this.jwks_uri=o.jwks_uri},a.prototype.updateCanonicalAuthority=function(o){this.canonical_authority=o},a.prototype.resetExpiresAt=function(){this.expiresAt=TimeUtils.nowSeconds()+AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS},a.prototype.isExpired=function(){return this.expiresAt<=TimeUtils.nowSeconds()},a.isAuthorityMetadataEntity=function(o,s){return s?o.indexOf(AUTHORITY_METADATA_CONSTANTS.CACHE_KEY)===0&&s.hasOwnProperty("aliases")&&s.hasOwnProperty("preferred_cache")&&s.hasOwnProperty("preferred_network")&&s.hasOwnProperty("canonical_authority")&&s.hasOwnProperty("authorization_endpoint")&&s.hasOwnProperty("token_endpoint")&&s.hasOwnProperty("issuer")&&s.hasOwnProperty("aliasesFromNetwork")&&s.hasOwnProperty("endpointsFromNetwork")&&s.hasOwnProperty("expiresAt")&&s.hasOwnProperty("jwks_uri"):!1},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */function isCloudInstanceDiscoveryResponse(a){return a.hasOwnProperty("tenant_discovery_endpoint")&&a.hasOwnProperty("metadata")}/*! @azure/msal-common v13.0.0 2023-05-01 */function isCloudInstanceDiscoveryErrorResponse(a){return a.hasOwnProperty("error")&&a.hasOwnProperty("error_description")}/*! @azure/msal-common v13.0.0 2023-05-01 */var RegionDiscovery=function(){function a(o,s,$){this.networkInterface=o,this.performanceClient=s,this.correlationId=$}return a.prototype.detectRegion=function(o,s){var $,j,_e,et;return __awaiter(this,void 0,void 0,function(){var tt,rt,nt,it,ot;return __generator(this,function(at){switch(at.label){case 0:if(($=this.performanceClient)===null||$===void 0||$.addQueueMeasurement(PerformanceEvents.RegionDiscoveryDetectRegion,this.correlationId),tt=o,tt)return[3,8];rt=a.IMDS_OPTIONS,at.label=1;case 1:return at.trys.push([1,6,,7]),(j=this.performanceClient)===null||j===void 0||j.setPreQueueTime(PerformanceEvents.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(Constants.IMDS_VERSION,rt)];case 2:return nt=at.sent(),nt.status===ResponseCodes.httpSuccess&&(tt=nt.body,s.region_source=RegionDiscoverySources.IMDS),nt.status!==ResponseCodes.httpBadRequest?[3,5]:((_e=this.performanceClient)===null||_e===void 0||_e.setPreQueueTime(PerformanceEvents.RegionDiscoveryGetCurrentVersion,this.correlationId),[4,this.getCurrentVersion(rt)]);case 3:return it=at.sent(),it?((et=this.performanceClient)===null||et===void 0||et.setPreQueueTime(PerformanceEvents.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(it,rt)]):(s.region_source=RegionDiscoverySources.FAILED_AUTO_DETECTION,[2,null]);case 4:ot=at.sent(),ot.status===ResponseCodes.httpSuccess&&(tt=ot.body,s.region_source=RegionDiscoverySources.IMDS),at.label=5;case 5:return[3,7];case 6:return at.sent(),s.region_source=RegionDiscoverySources.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:s.region_source=RegionDiscoverySources.ENVIRONMENT_VARIABLE,at.label=9;case 9:return tt||(s.region_source=RegionDiscoverySources.FAILED_AUTO_DETECTION),[2,tt||null]}})})},a.prototype.getRegionFromIMDS=function(o,s){var $;return __awaiter(this,void 0,void 0,function(){return __generator(this,function(j){return($=this.performanceClient)===null||$===void 0||$.addQueueMeasurement(PerformanceEvents.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[2,this.networkInterface.sendGetRequestAsync(Constants.IMDS_ENDPOINT+"?api-version="+o+"&format=text",s,Constants.IMDS_TIMEOUT)]})})},a.prototype.getCurrentVersion=function(o){var s;return __awaiter(this,void 0,void 0,function(){var $;return __generator(this,function(j){switch(j.label){case 0:(s=this.performanceClient)===null||s===void 0||s.addQueueMeasurement(PerformanceEvents.RegionDiscoveryGetCurrentVersion,this.correlationId),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(Constants.IMDS_ENDPOINT+"?format=json",o)];case 2:return $=j.sent(),$.status===ResponseCodes.httpBadRequest&&$.body&&$.body["newest-versions"]&&$.body["newest-versions"].length>0?[2,$.body["newest-versions"][0]]:[2,null];case 3:return j.sent(),[2,null];case 4:return[2]}})})},a.IMDS_OPTIONS={headers:{Metadata:"true"}},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var Authority=function(){function a(o,s,$,j,_e,et,tt){this.canonicalAuthority=o,this._canonicalAuthority.validateAsUri(),this.networkInterface=s,this.cacheManager=$,this.authorityOptions=j,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=_e,this.performanceClient=et,this.correlationId=tt,this.regionDiscovery=new RegionDiscovery(s,this.performanceClient,this.correlationId)}return Object.defineProperty(a.prototype,"authorityType",{get:function(){if(this.canonicalAuthorityUrlComponents.HostNameAndPort.endsWith(Constants.CIAM_AUTH_URL))return AuthorityType.Ciam;var o=this.canonicalAuthorityUrlComponents.PathSegments;if(o.length)switch(o[0].toLowerCase()){case Constants.ADFS:return AuthorityType.Adfs;case Constants.DSTS:return AuthorityType.Dsts}return AuthorityType.Default},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(o){this._canonicalAuthority=new UrlString(o),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var o=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(o)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var o=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(o)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var o=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(o)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw ClientAuthError.createLogoutNotSupportedError();var o=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(o)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var o=this.replacePath(this.metadata.issuer);return this.replaceTenant(o)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"jwksUri",{get:function(){if(this.discoveryComplete()){var o=this.replacePath(this.metadata.jwks_uri);return this.replaceTenant(o)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),a.prototype.replaceTenant=function(o){return o.replace(/{tenant}|{tenantid}/g,this.tenant)},a.prototype.replacePath=function(o){var s=o,$=new UrlString(this.metadata.canonical_authority),j=$.getUrlComponents().PathSegments,_e=this.canonicalAuthorityUrlComponents.PathSegments;return _e.forEach(function(et,tt){var rt=j[tt];et!==rt&&(s=s.replace("/"+rt+"/","/"+et+"/"))}),s},Object.defineProperty(a.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===AuthorityType.Adfs||this.authorityType===AuthorityType.Dsts||this.protocolMode===ProtocolMode.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),a.prototype.discoveryComplete=function(){return!!this.metadata},a.prototype.resolveEndpointsAsync=function(){var o,s,$;return __awaiter(this,void 0,void 0,function(){var j,_e,et,tt;return __generator(this,function(rt){switch(rt.label){case 0:return(o=this.performanceClient)===null||o===void 0||o.addQueueMeasurement(PerformanceEvents.AuthorityResolveEndpointsAsync,this.correlationId),j=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort),j||(j=new AuthorityMetadataEntity,j.updateCanonicalAuthority(this.canonicalAuthority)),(s=this.performanceClient)===null||s===void 0||s.setPreQueueTime(PerformanceEvents.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),[4,this.updateCloudDiscoveryMetadata(j)];case 1:return _e=rt.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,j.preferred_network),($=this.performanceClient)===null||$===void 0||$.setPreQueueTime(PerformanceEvents.AuthorityUpdateEndpointMetadata,this.correlationId),[4,this.updateEndpointMetadata(j)];case 2:return et=rt.sent(),_e!==AuthorityMetadataSource.CACHE&&et!==AuthorityMetadataSource.CACHE&&(j.resetExpiresAt(),j.updateCanonicalAuthority(this.canonicalAuthority)),tt=this.cacheManager.generateAuthorityMetadataCacheKey(j.preferred_cache),this.cacheManager.setAuthorityMetadata(tt,j),this.metadata=j,[2]}})})},a.prototype.updateEndpointMetadata=function(o){var s,$,j,_e,et,tt;return __awaiter(this,void 0,void 0,function(){var rt,nt;return __generator(this,function(it){switch(it.label){case 0:return(s=this.performanceClient)===null||s===void 0||s.addQueueMeasurement(PerformanceEvents.AuthorityUpdateEndpointMetadata,this.correlationId),rt=this.getEndpointMetadataFromConfig(),rt?(o.updateEndpointMetadata(rt,!1),[2,AuthorityMetadataSource.CONFIG]):this.isAuthoritySameType(o)&&o.endpointsFromNetwork&&!o.isExpired()?[2,AuthorityMetadataSource.CACHE]:(($=this.performanceClient)===null||$===void 0||$.setPreQueueTime(PerformanceEvents.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),[4,this.getEndpointMetadataFromNetwork()]);case 1:return rt=it.sent(),rt?!((j=this.authorityOptions.azureRegionConfiguration)===null||j===void 0)&&j.azureRegion?((_e=this.performanceClient)===null||_e===void 0||_e.setPreQueueTime(PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(rt)]):[3,3]:[3,4];case 2:rt=it.sent(),it.label=3;case 3:return o.updateEndpointMetadata(rt,!0),[2,AuthorityMetadataSource.NETWORK];case 4:return nt=this.getEndpointMetadataFromHardcodedValues(),nt&&!this.authorityOptions.skipAuthorityMetadataCache?!((et=this.authorityOptions.azureRegionConfiguration)===null||et===void 0)&&et.azureRegion?((tt=this.performanceClient)===null||tt===void 0||tt.setPreQueueTime(PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(nt)]):[3,6]:[3,7];case 5:nt=it.sent(),it.label=6;case 6:return o.updateEndpointMetadata(nt,!1),[2,AuthorityMetadataSource.HARDCODED_VALUES];case 7:throw ClientAuthError.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},a.prototype.isAuthoritySameType=function(o){var s=new UrlString(o.canonical_authority),$=s.getUrlComponents().PathSegments;return $.length===this.canonicalAuthorityUrlComponents.PathSegments.length},a.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw ClientConfigurationError.createInvalidAuthorityMetadataError()}return null},a.prototype.getEndpointMetadataFromNetwork=function(){var o;return __awaiter(this,void 0,void 0,function(){var s,$;return __generator(this,function(j){switch(j.label){case 0:(o=this.performanceClient)===null||o===void 0||o.addQueueMeasurement(PerformanceEvents.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),s={},j.label=1;case 1:return j.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,s)];case 2:return $=j.sent(),[2,isOpenIdConfigResponse($.body)?$.body:null];case 3:return j.sent(),[2,null];case 4:return[2]}})})},a.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in EndpointMetadata?EndpointMetadata[this.canonicalAuthority]:null},a.prototype.updateMetadataWithRegionalInformation=function(o){var s,$,j,_e,et,tt,rt;return __awaiter(this,void 0,void 0,function(){var nt,it;return __generator(this,function(ot){switch(ot.label){case 0:return(s=this.performanceClient)===null||s===void 0||s.addQueueMeasurement(PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),($=this.performanceClient)===null||$===void 0||$.setPreQueueTime(PerformanceEvents.RegionDiscoveryDetectRegion,this.correlationId),[4,this.regionDiscovery.detectRegion((j=this.authorityOptions.azureRegionConfiguration)===null||j===void 0?void 0:j.environmentRegion,this.regionDiscoveryMetadata)];case 1:return nt=ot.sent(),it=((_e=this.authorityOptions.azureRegionConfiguration)===null||_e===void 0?void 0:_e.azureRegion)===Constants.AZURE_REGION_AUTO_DISCOVER_FLAG?nt:(et=this.authorityOptions.azureRegionConfiguration)===null||et===void 0?void 0:et.azureRegion,((tt=this.authorityOptions.azureRegionConfiguration)===null||tt===void 0?void 0:tt.azureRegion)===Constants.AZURE_REGION_AUTO_DISCOVER_FLAG?this.regionDiscoveryMetadata.region_outcome=nt?RegionDiscoveryOutcomes.AUTO_DETECTION_REQUESTED_SUCCESSFUL:RegionDiscoveryOutcomes.AUTO_DETECTION_REQUESTED_FAILED:nt?this.regionDiscoveryMetadata.region_outcome=((rt=this.authorityOptions.azureRegionConfiguration)===null||rt===void 0?void 0:rt.azureRegion)===nt?RegionDiscoveryOutcomes.CONFIGURED_MATCHES_DETECTED:RegionDiscoveryOutcomes.CONFIGURED_NOT_DETECTED:this.regionDiscoveryMetadata.region_outcome=RegionDiscoveryOutcomes.CONFIGURED_NO_AUTO_DETECTION,it?(this.regionDiscoveryMetadata.region_used=it,[2,a.replaceWithRegionalInformation(o,it)]):[2,o]}})})},a.prototype.updateCloudDiscoveryMetadata=function(o){var s,$;return __awaiter(this,void 0,void 0,function(){var j,_e,et;return __generator(this,function(tt){switch(tt.label){case 0:return(s=this.performanceClient)===null||s===void 0||s.addQueueMeasurement(PerformanceEvents.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),this.logger.verbose("Attempting to get cloud discovery metadata in the config"),this.logger.verbosePii("Known Authorities: "+(this.authorityOptions.knownAuthorities||Constants.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: "+(this.authorityOptions.authorityMetadata||Constants.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: "+(o.canonical_authority||Constants.NOT_APPLICABLE)),j=this.getCloudDiscoveryMetadataFromConfig(),j?(this.logger.verbose("Found cloud discovery metadata in the config."),o.updateCloudDiscoveryMetadata(j,!1),[2,AuthorityMetadataSource.CONFIG]):(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the cache."),_e=o.isExpired(),this.isAuthoritySameType(o)&&o.aliasesFromNetwork&&!_e?(this.logger.verbose("Found metadata in the cache."),[2,AuthorityMetadataSource.CACHE]):(_e&&this.logger.verbose("The metadata entity is expired."),this.logger.verbose("Did not find cloud discovery metadata in the cache... Attempting to get cloud discovery metadata from the network."),($=this.performanceClient)===null||$===void 0||$.setPreQueueTime(PerformanceEvents.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),[4,this.getCloudDiscoveryMetadataFromNetwork()]));case 1:if(j=tt.sent(),j)return this.logger.verbose("cloud discovery metadata was successfully returned from getCloudDiscoveryMetadataFromNetwork()"),o.updateCloudDiscoveryMetadata(j,!0),[2,AuthorityMetadataSource.NETWORK];if(this.logger.verbose("Did not find cloud discovery metadata from the network... Attempting to get cloud discovery metadata from hardcoded values."),et=this.getCloudDiscoveryMetadataFromHarcodedValues(),et&&!this.options.skipAuthorityMetadataCache)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),o.updateCloudDiscoveryMetadata(et,!1),[2,AuthorityMetadataSource.HARDCODED_VALUES];throw this.logger.error("Did not find cloud discovery metadata from hardcoded values... Metadata could not be obtained from config, cache, network or hardcoded values. Throwing Untrusted Authority Error."),ClientConfigurationError.createUntrustedAuthorityError()}})})},a.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityType===AuthorityType.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),a.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var o=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),s=a.getCloudDiscoveryMetadataFromNetworkResponse(o.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),s)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),s;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),ClientConfigurationError.createInvalidCloudDiscoveryMetadataError()}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),a.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null},a.prototype.getCloudDiscoveryMetadataFromNetwork=function(){var o;return __awaiter(this,void 0,void 0,function(){var s,$,j,_e,et,tt,rt,nt;return __generator(this,function(it){switch(it.label){case 0:(o=this.performanceClient)===null||o===void 0||o.addQueueMeasurement(PerformanceEvents.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),s=""+Constants.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",$={},j=null,it.label=1;case 1:return it.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(s,$)];case 2:if(_e=it.sent(),et=void 0,tt=void 0,isCloudInstanceDiscoveryResponse(_e.body))et=_e.body,tt=et.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: "+et.tenant_discovery_endpoint);else if(isCloudInstanceDiscoveryErrorResponse(_e.body)){if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: "+_e.status),et=_e.body,et.error===Constants.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),[2,null];this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is "+et.error),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is "+et.error_description),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),tt=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),[2,null];return this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),j=a.getCloudDiscoveryMetadataFromNetworkResponse(tt,this.hostnameAndPort),[3,4];case 3:return rt=it.sent(),rt instanceof AuthError?this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: `+rt.errorCode+`
Error Description: `+rt.errorMessage):(nt=rt,this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: `+nt.name+`
Error Description: `+nt.message)),[2,null];case 4:return j||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),j=a.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,j]}})})},a.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in InstanceDiscoveryMetadata?InstanceDiscoveryMetadata[this.canonicalAuthority]:null},a.prototype.isInKnownAuthorities=function(){var o=this,s=this.authorityOptions.knownAuthorities.filter(function($){return UrlString.getDomainFromUrl($).toLowerCase()===o.hostnameAndPort});return s.length>0},a.generateAuthority=function(o,s){var $;if(s&&s.azureCloudInstance!==AzureCloudInstance.None){var j=s.tenant?s.tenant:Constants.DEFAULT_COMMON_TENANT;$=s.azureCloudInstance+"/"+j+"/"}return $||o},a.createCloudDiscoveryMetadataFromHost=function(o){return{preferred_network:o,preferred_cache:o,aliases:[o]}},a.getCloudDiscoveryMetadataFromNetworkResponse=function(o,s){for(var $=0;$<o.length;$++){var j=o[$];if(j.aliases.indexOf(s)>-1)return j}return null},a.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},a.prototype.isAlias=function(o){return this.metadata.aliases.indexOf(o)>-1},a.isPublicCloudAuthority=function(o){return Constants.KNOWN_PUBLIC_CLOUDS.indexOf(o)>=0},a.buildRegionalAuthorityString=function(o,s,$){var j=new UrlString(o);j.validateAsUri();var _e=j.getUrlComponents(),et=s+"."+_e.HostNameAndPort;this.isPublicCloudAuthority(_e.HostNameAndPort)&&(et=s+"."+Constants.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var tt=UrlString.constructAuthorityUriFromObject(__assign(__assign({},j.getUrlComponents()),{HostNameAndPort:et})).urlString;return $?tt+"?"+$:tt},a.replaceWithRegionalInformation=function(o,s){return o.authorization_endpoint=a.buildRegionalAuthorityString(o.authorization_endpoint,s),o.token_endpoint=a.buildRegionalAuthorityString(o.token_endpoint,s,Constants.REGIONAL_AUTH_NON_MSI_QUERY_STRING),o.end_session_endpoint&&(o.end_session_endpoint=a.buildRegionalAuthorityString(o.end_session_endpoint,s)),o},a.transformCIAMAuthority=function(o){var s=o.endsWith(Constants.FORWARD_SLASH)?o:""+o+Constants.FORWARD_SLASH,$=new UrlString(o),j=$.getUrlComponents();if(j.PathSegments.length===0&&j.HostNameAndPort.endsWith(Constants.CIAM_AUTH_URL)){var _e=j.HostNameAndPort.split(".")[0];s=""+s+_e+Constants.AAD_TENANT_DOMAIN_SUFFIX}return s},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var AuthorityFactory=function(){function a(){}return a.createDiscoveredInstance=function(o,s,$,j,_e,et,tt){return __awaiter(this,void 0,void 0,function(){var rt,nt,it;return __generator(this,function(ot){switch(ot.label){case 0:et==null||et.addQueueMeasurement(PerformanceEvents.AuthorityFactoryCreateDiscoveredInstance,tt),rt=Authority.transformCIAMAuthority(o),nt=a.createInstance(rt,s,$,j,_e,et,tt),ot.label=1;case 1:return ot.trys.push([1,3,,4]),et==null||et.setPreQueueTime(PerformanceEvents.AuthorityResolveEndpointsAsync,tt),[4,nt.resolveEndpointsAsync()];case 2:return ot.sent(),[2,nt];case 3:throw it=ot.sent(),ClientAuthError.createEndpointDiscoveryIncompleteError(it);case 4:return[2]}})})},a.createInstance=function(o,s,$,j,_e,et,tt){if(StringUtils.isEmpty(o))throw ClientConfigurationError.createUrlEmptyError();return new Authority(o,s,$,j,_e,et,tt)},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var ServerTelemetryEntity=function(){function a(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return a.isServerTelemetryEntity=function(o,s){var $=o.indexOf(SERVER_TELEM_CONSTANTS.CACHE_KEY)===0,j=!0;return s&&(j=s.hasOwnProperty("failedRequests")&&s.hasOwnProperty("errors")&&s.hasOwnProperty("cacheHits")),$&&j},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var ThrottlingEntity=function(){function a(){}return a.isThrottlingEntity=function(o,s){var $=!1;o&&($=o.indexOf(ThrottlingConstants.THROTTLING_PREFIX)===0);var j=!0;return s&&(j=s.hasOwnProperty("throttleTime")),$&&j},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var StubbedNetworkModule={sendGetRequestAsync:function(){var a="Network interface - sendGetRequestAsync() has not been implemented for the Network interface.";return Promise.reject(AuthError.createUnexpectedError(a))},sendPostRequestAsync:function(){var a="Network interface - sendPostRequestAsync() has not been implemented for the Network interface.";return Promise.reject(AuthError.createUnexpectedError(a))}};/*! @azure/msal-common v13.0.0 2023-05-01 */var JoseHeaderErrorMessage={missingKidError:{code:"missing_kid_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided."},missingAlgError:{code:"missing_alg_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."}},JoseHeaderError=function(a){__extends(o,a);function o(s,$){var j=a.call(this,s,$)||this;return j.name="JoseHeaderError",Object.setPrototypeOf(j,o.prototype),j}return o.createMissingKidError=function(){return new o(JoseHeaderErrorMessage.missingKidError.code,JoseHeaderErrorMessage.missingKidError.desc)},o.createMissingAlgError=function(){return new o(JoseHeaderErrorMessage.missingAlgError.code,JoseHeaderErrorMessage.missingAlgError.desc)},o}(AuthError);/*! @azure/msal-common v13.0.0 2023-05-01 */var JoseHeader=function(){function a(o){this.typ=o.typ,this.alg=o.alg,this.kid=o.kid}return a.getShrHeaderString=function(o){if(!o.kid)throw JoseHeaderError.createMissingKidError();if(!o.alg)throw JoseHeaderError.createMissingAlgError();var s=new a({typ:o.typ||JsonTypes.Pop,kid:o.kid,alg:o.alg});return JSON.stringify(s)},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var ServerTelemetryManager=function(){function a(o,s){this.cacheOutcome=CacheOutcome.NO_CACHE_HIT,this.cacheManager=s,this.apiId=o.apiId,this.correlationId=o.correlationId,this.wrapperSKU=o.wrapperSKU||Constants.EMPTY_STRING,this.wrapperVer=o.wrapperVer||Constants.EMPTY_STRING,this.telemetryCacheKey=SERVER_TELEM_CONSTANTS.CACHE_KEY+Separators.CACHE_KEY_SEPARATOR+o.clientId}return a.prototype.generateCurrentRequestHeaderValue=function(){var o=""+this.apiId+SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR+this.cacheOutcome,s=[this.wrapperSKU,this.wrapperVer].join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR),$=this.getRegionDiscoveryFields(),j=[o,$].join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);return[SERVER_TELEM_CONSTANTS.SCHEMA_VERSION,j,s].join(SERVER_TELEM_CONSTANTS.CATEGORY_SEPARATOR)},a.prototype.generateLastRequestHeaderValue=function(){var o=this.getLastRequests(),s=a.maxErrorsToSend(o),$=o.failedRequests.slice(0,2*s).join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR),j=o.errors.slice(0,s).join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR),_e=o.errors.length,et=s<_e?SERVER_TELEM_CONSTANTS.OVERFLOW_TRUE:SERVER_TELEM_CONSTANTS.OVERFLOW_FALSE,tt=[_e,et].join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);return[SERVER_TELEM_CONSTANTS.SCHEMA_VERSION,o.cacheHits,$,j,tt].join(SERVER_TELEM_CONSTANTS.CATEGORY_SEPARATOR)},a.prototype.cacheFailedRequest=function(o){var s=this.getLastRequests();s.errors.length>=SERVER_TELEM_CONSTANTS.MAX_CACHED_ERRORS&&(s.failedRequests.shift(),s.failedRequests.shift(),s.errors.shift()),s.failedRequests.push(this.apiId,this.correlationId),StringUtils.isEmpty(o.subError)?StringUtils.isEmpty(o.errorCode)?o&&o.toString()?s.errors.push(o.toString()):s.errors.push(SERVER_TELEM_CONSTANTS.UNKNOWN_ERROR):s.errors.push(o.errorCode):s.errors.push(o.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,s)},a.prototype.incrementCacheHits=function(){var o=this.getLastRequests();return o.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o),o.cacheHits},a.prototype.getLastRequests=function(){var o=new ServerTelemetryEntity,s=this.cacheManager.getServerTelemetry(this.telemetryCacheKey);return s||o},a.prototype.clearTelemetryCache=function(){var o=this.getLastRequests(),s=a.maxErrorsToSend(o),$=o.errors.length;if(s===$)this.cacheManager.removeItem(this.telemetryCacheKey);else{var j=new ServerTelemetryEntity;j.failedRequests=o.failedRequests.slice(s*2),j.errors=o.errors.slice(s),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,j)}},a.maxErrorsToSend=function(o){var s,$=0,j=0,_e=o.errors.length;for(s=0;s<_e;s++){var et=o.failedRequests[2*s]||Constants.EMPTY_STRING,tt=o.failedRequests[2*s+1]||Constants.EMPTY_STRING,rt=o.errors[s]||Constants.EMPTY_STRING;if(j+=et.toString().length+tt.toString().length+rt.length+3,j<SERVER_TELEM_CONSTANTS.MAX_LAST_HEADER_BYTES)$+=1;else break}return $},a.prototype.getRegionDiscoveryFields=function(){var o=[];return o.push(this.regionUsed||Constants.EMPTY_STRING),o.push(this.regionSource||Constants.EMPTY_STRING),o.push(this.regionOutcome||Constants.EMPTY_STRING),o.join(",")},a.prototype.updateRegionDiscoveryMetadata=function(o){this.regionUsed=o.region_used,this.regionSource=o.region_source,this.regionOutcome=o.region_outcome},a.prototype.setCacheOutcome=function(o){this.cacheOutcome=o},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var PerformanceClient=function(){function a(o,s,$,j,_e,et){this.authority=s,this.libraryName=j,this.libraryVersion=_e,this.applicationTelemetry=et,this.clientId=o,this.logger=$,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.queueMeasurements=new Map,this.preQueueTimeByCorrelationId=new Map}return a.prototype.startPerformanceMeasurement=function(o,s){return{}},a.prototype.startPerformanceMeasuremeant=function(o,s){return{}},a.prototype.getIntFields=function(){return IntFields},a.prototype.getPreQueueTime=function(o,s){var $=this.preQueueTimeByCorrelationId.get(s);if($){if($.name!==o){this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue time found for "+o+", unable to add queue measurement");return}}else{this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue times found for correlationId: "+s+", unable to add queue measurement");return}return $.time},a.prototype.calculateQueuedTime=function(o,s){return o<1?(this.logger.trace("PerformanceClient: preQueueTime should be a positive integer and not "+o),0):s<1?(this.logger.trace("PerformanceClient: currentTime should be a positive integer and not "+s),0):s<o?(this.logger.trace("PerformanceClient: currentTime is less than preQueueTime, check how time is being retrieved"),0):s-o},a.prototype.addQueueMeasurement=function(o,s,$,j){if(!s){this.logger.trace("PerformanceClient.addQueueMeasurement: correlationId not provided for "+o+", cannot add queue measurement");return}if($===0)this.logger.trace("PerformanceClient.addQueueMeasurement: queue time provided for "+o+" is "+$);else if(!$){this.logger.trace("PerformanceClient.addQueueMeasurement: no queue time provided for "+o);return}var _e={eventName:o,queueTime:$,manuallyCompleted:j},et=this.queueMeasurements.get(s);if(et)et.push(_e),this.queueMeasurements.set(s,et);else{this.logger.trace("PerformanceClient.addQueueMeasurement: adding correlationId "+s+" to queue measurements");var tt=[_e];this.queueMeasurements.set(s,tt)}this.preQueueTimeByCorrelationId.delete(s)},a.prototype.startMeasurement=function(o,s){var $=this,j,_e,et=s||this.generateId();s||this.logger.info("PerformanceClient: No correlation id provided for "+o+", generating",et),this.logger.trace("PerformanceClient: Performance measurement started for "+o,et);var tt=this.startPerformanceMeasuremeant(o,et);tt.startMeasurement();var rt={eventId:this.generateId(),status:PerformanceEventStatus.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:o,startTimeMs:Date.now(),correlationId:et,appName:(j=this.applicationTelemetry)===null||j===void 0?void 0:j.appName,appVersion:(_e=this.applicationTelemetry)===null||_e===void 0?void 0:_e.appVersion};return this.cacheEventByCorrelationId(rt),{endMeasurement:function(nt){return $.endMeasurement(__assign(__assign({},rt),nt),tt)},discardMeasurement:function(){return $.discardMeasurements(rt.correlationId)},addStaticFields:function(nt){return $.addStaticFields(nt,rt.correlationId)},increment:function(nt){return $.increment(nt,rt.correlationId)},measurement:tt,event:rt}},a.prototype.endMeasurement=function(o,s){var $=this,j,_e,et=this.eventsByCorrelationId.get(o.correlationId);if(!et)return this.logger.trace("PerformanceClient: Measurement not found for "+o.eventId,o.correlationId),null;var tt=o.eventId===et.eventId,rt={totalQueueTime:0,totalQueueCount:0,manuallyCompletedCount:0};tt?(rt=this.getQueueInfo(o.correlationId),this.discardCache(et.correlationId)):(j=et.incompleteSubMeasurements)===null||j===void 0||j.delete(o.eventId),s==null||s.endMeasurement();var nt=s==null?void 0:s.flushMeasurement();if(!nt)return this.logger.trace("PerformanceClient: Performance measurement not taken",et.correlationId),null;if(this.logger.trace("PerformanceClient: Performance measurement ended for "+o.name+": "+nt+" ms",o.correlationId),!tt)return et[o.name+"DurationMs"]=Math.floor(nt),__assign({},et);var it=__assign(__assign({},et),o),ot=0;return(_e=it.incompleteSubMeasurements)===null||_e===void 0||_e.forEach(function(at){$.logger.trace("PerformanceClient: Incomplete submeasurement "+at.name+" found for "+o.name,it.correlationId),ot++}),it.incompleteSubMeasurements=void 0,it=__assign(__assign({},it),{durationMs:Math.round(nt),queuedTimeMs:rt.totalQueueTime,queuedCount:rt.totalQueueCount,queuedManuallyCompletedCount:rt.manuallyCompletedCount,status:PerformanceEventStatus.Completed,incompleteSubsCount:ot}),this.truncateIntegralFields(it,this.getIntFields()),this.emitEvents([it],o.correlationId),it},a.prototype.addStaticFields=function(o,s){this.logger.trace("PerformanceClient: Updating static fields");var $=this.eventsByCorrelationId.get(s);$?this.eventsByCorrelationId.set(s,__assign(__assign({},$),o)):this.logger.trace("PerformanceClient: Event not found for",s)},a.prototype.increment=function(o,s){this.logger.trace("PerformanceClient: Updating counters");var $=this.eventsByCorrelationId.get(s);if($)for(var j in o)$.hasOwnProperty(j)||($[j]=0),$[j]+=o[j];else this.logger.trace("PerformanceClient: Event not found for",s)},a.prototype.cacheEventByCorrelationId=function(o){var s=this.eventsByCorrelationId.get(o.correlationId);s?(this.logger.trace("PerformanceClient: Performance measurement for "+o.name+" added/updated",o.correlationId),s.incompleteSubMeasurements=s.incompleteSubMeasurements||new Map,s.incompleteSubMeasurements.set(o.eventId,{name:o.name,startTimeMs:o.startTimeMs})):(this.logger.trace("PerformanceClient: Performance measurement for "+o.name+" started",o.correlationId),this.eventsByCorrelationId.set(o.correlationId,__assign({},o)))},a.prototype.getQueueInfo=function(o){var s=this.queueMeasurements.get(o);s||this.logger.trace("PerformanceClient: no queue measurements found for for correlationId: "+o);var $=0,j=0,_e=0;return s==null||s.forEach(function(et){$+=et.queueTime,j++,_e+=et.manuallyCompleted?1:0}),{totalQueueTime:$,totalQueueCount:j,manuallyCompletedCount:_e}},a.prototype.discardMeasurements=function(o){this.logger.trace("PerformanceClient: Performance measurements discarded",o),this.eventsByCorrelationId.delete(o)},a.prototype.discardCache=function(o){this.discardMeasurements(o),this.logger.trace("PerformanceClient: QueueMeasurements discarded",o),this.queueMeasurements.delete(o),this.logger.trace("PerformanceClient: Pre-queue times discarded",o),this.preQueueTimeByCorrelationId.delete(o)},a.prototype.addPerformanceCallback=function(o){var s=this.generateId();return this.callbacks.set(s,o),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+s),s},a.prototype.removePerformanceCallback=function(o){var s=this.callbacks.delete(o);return s?this.logger.verbose("PerformanceClient: Performance callback "+o+" removed."):this.logger.verbose("PerformanceClient: Performance callback "+o+" not removed."),s},a.prototype.emitEvents=function(o,s){var $=this;this.logger.verbose("PerformanceClient: Emitting performance events",s),this.callbacks.forEach(function(j,_e){$.logger.trace("PerformanceClient: Emitting event to callback "+_e,s),j.apply(null,[o])})},a.prototype.truncateIntegralFields=function(o,s){s.forEach(function($){$ in o&&typeof o[$]=="number"&&(o[$]=Math.floor(o[$]))})},a}();/*! @azure/msal-common v13.0.0 2023-05-01 */var StubPerformanceMeasurement=function(){function a(){}return a.prototype.startMeasurement=function(){},a.prototype.endMeasurement=function(){},a.prototype.flushMeasurement=function(){return null},a}(),StubPerformanceClient=function(a){__extends(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.generateId=function(){return"callback-id"},o.prototype.startPerformanceMeasuremeant=function(){return new StubPerformanceMeasurement},o.prototype.startPerformanceMeasurement=function(){return new StubPerformanceMeasurement},o.prototype.calculateQueuedTime=function(s,$){return 0},o.prototype.addQueueMeasurement=function(s,$,j){},o.prototype.setPreQueueTime=function(s,$){},o}(PerformanceClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var BrowserAuthErrorMessage={pkceNotGenerated:{code:"pkce_not_created",desc:"The PKCE code challenge and verifier could not be generated."},cryptoDoesNotExist:{code:"crypto_nonexistent",desc:"The crypto object or function is not available."},httpMethodNotImplementedError:{code:"http_method_not_implemented",desc:"The HTTP method given has not been implemented in this library."},emptyNavigateUriError:{code:"empty_navigate_uri",desc:"Navigation URI is empty. Please check stack trace for more info."},hashEmptyError:{code:"hash_empty_error",desc:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors."},hashDoesNotContainStateError:{code:"no_state_in_hash",desc:"Hash does not contain state. Please verify that the request originated from msal."},hashDoesNotContainKnownPropertiesError:{code:"hash_does_not_contain_known_properties",desc:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors."},unableToParseStateError:{code:"unable_to_parse_state",desc:"Unable to parse state. Please verify that the request originated from msal."},stateInteractionTypeMismatchError:{code:"state_interaction_type_mismatch",desc:"Hash contains state but the interaction type does not match the caller."},interactionInProgress:{code:"interaction_in_progress",desc:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors."},popupWindowError:{code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},emptyWindowError:{code:"empty_window_error",desc:"window.open returned null or undefined window object."},userCancelledError:{code:"user_cancelled",desc:"User cancelled the flow."},monitorPopupTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},monitorIframeTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},redirectInIframeError:{code:"redirect_in_iframe",desc:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs."},blockTokenRequestsInHiddenIframeError:{code:"block_iframe_reload",desc:"Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors"},blockAcquireTokenInPopupsError:{code:"block_nested_popups",desc:"Request was blocked inside a popup because MSAL detected it was running in a popup."},iframeClosedPrematurelyError:{code:"iframe_closed_prematurely",desc:"The iframe being monitored was closed prematurely."},silentLogoutUnsupportedError:{code:"silent_logout_unsupported",desc:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead."},noAccountError:{code:"no_account_error",desc:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request."},silentPromptValueError:{code:"silent_prompt_value_error",desc:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'."},noTokenRequestCacheError:{code:"no_token_request_cache_error",desc:"No token request found in cache."},unableToParseTokenRequestCacheError:{code:"unable_to_parse_token_request_cache_error",desc:"The cached token request could not be parsed."},noCachedAuthorityError:{code:"no_cached_authority_error",desc:"No cached authority found."},authRequestNotSet:{code:"auth_request_not_set_error",desc:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler"},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},notInBrowserEnvironment:{code:"non_browser_environment",desc:"Login and token requests are not supported in non-browser environments."},databaseNotOpen:{code:"database_not_open",desc:"Database is not open!"},noNetworkConnectivity:{code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},postRequestFailed:{code:"post_request_failed",desc:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'"},getRequestFailed:{code:"get_request_failed",desc:"Network request failed. Please check the network trace to determine root cause."},failedToParseNetworkResponse:{code:"failed_to_parse_response",desc:"Failed to parse network response. Check network trace."},unableToLoadTokenError:{code:"unable_to_load_token",desc:"Error loading token to cache."},signingKeyNotFoundInStorage:{code:"crypto_key_not_found",desc:"Cryptographic Key or Keypair not found in browser storage."},authCodeRequired:{code:"auth_code_required",desc:"An authorization code must be provided (as the `code` property on the request) to this flow."},authCodeOrNativeAccountRequired:{code:"auth_code_or_nativeAccountId_required",desc:"An authorization code or nativeAccountId must be provided to this flow."},spaCodeAndNativeAccountPresent:{code:"spa_code_and_nativeAccountId_present",desc:"Request cannot contain both spa code and native account id."},databaseUnavailable:{code:"database_unavailable",desc:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts."},unableToAcquireTokenFromNativePlatform:{code:"unable_to_acquire_token_from_native_platform",desc:"Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors."},nativeHandshakeTimeout:{code:"native_handshake_timeout",desc:"Timed out while attempting to establish connection to browser extension"},nativeExtensionNotInstalled:{code:"native_extension_not_installed",desc:"Native extension is not installed. If you think this is a mistake call the initialize function."},nativeConnectionNotEstablished:{code:"native_connection_not_established",desc:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors."},nativeBrokerCalledBeforeInitialize:{code:"native_broker_called_before_initialize",desc:"You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors."},nativePromptNotSupported:{code:"native_prompt_not_supported",desc:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow."}},BrowserAuthError=function(a){__extends$1(o,a);function o(s,$){var j=a.call(this,s,$)||this;return Object.setPrototypeOf(j,o.prototype),j.name="BrowserAuthError",j}return o.createPkceNotGeneratedError=function(s){return new o(BrowserAuthErrorMessage.pkceNotGenerated.code,BrowserAuthErrorMessage.pkceNotGenerated.desc+" Detail:"+s)},o.createCryptoNotAvailableError=function(s){return new o(BrowserAuthErrorMessage.cryptoDoesNotExist.code,BrowserAuthErrorMessage.cryptoDoesNotExist.desc+" Detail:"+s)},o.createHttpMethodNotImplementedError=function(s){return new o(BrowserAuthErrorMessage.httpMethodNotImplementedError.code,BrowserAuthErrorMessage.httpMethodNotImplementedError.desc+" Given Method: "+s)},o.createEmptyNavigationUriError=function(){return new o(BrowserAuthErrorMessage.emptyNavigateUriError.code,BrowserAuthErrorMessage.emptyNavigateUriError.desc)},o.createEmptyHashError=function(s){return new o(BrowserAuthErrorMessage.hashEmptyError.code,BrowserAuthErrorMessage.hashEmptyError.desc+" Given Url: "+s)},o.createHashDoesNotContainStateError=function(){return new o(BrowserAuthErrorMessage.hashDoesNotContainStateError.code,BrowserAuthErrorMessage.hashDoesNotContainStateError.desc)},o.createHashDoesNotContainKnownPropertiesError=function(){return new o(BrowserAuthErrorMessage.hashDoesNotContainKnownPropertiesError.code,BrowserAuthErrorMessage.hashDoesNotContainKnownPropertiesError.desc)},o.createUnableToParseStateError=function(){return new o(BrowserAuthErrorMessage.unableToParseStateError.code,BrowserAuthErrorMessage.unableToParseStateError.desc)},o.createStateInteractionTypeMismatchError=function(){return new o(BrowserAuthErrorMessage.stateInteractionTypeMismatchError.code,BrowserAuthErrorMessage.stateInteractionTypeMismatchError.desc)},o.createInteractionInProgressError=function(){return new o(BrowserAuthErrorMessage.interactionInProgress.code,BrowserAuthErrorMessage.interactionInProgress.desc)},o.createPopupWindowError=function(s){var $=BrowserAuthErrorMessage.popupWindowError.desc;return $=StringUtils.isEmpty(s)?$:$+" Details: "+s,new o(BrowserAuthErrorMessage.popupWindowError.code,$)},o.createEmptyWindowCreatedError=function(){return new o(BrowserAuthErrorMessage.emptyWindowError.code,BrowserAuthErrorMessage.emptyWindowError.desc)},o.createUserCancelledError=function(){return new o(BrowserAuthErrorMessage.userCancelledError.code,BrowserAuthErrorMessage.userCancelledError.desc)},o.createMonitorPopupTimeoutError=function(){return new o(BrowserAuthErrorMessage.monitorPopupTimeoutError.code,BrowserAuthErrorMessage.monitorPopupTimeoutError.desc)},o.createMonitorIframeTimeoutError=function(){return new o(BrowserAuthErrorMessage.monitorIframeTimeoutError.code,BrowserAuthErrorMessage.monitorIframeTimeoutError.desc)},o.createRedirectInIframeError=function(s){return new o(BrowserAuthErrorMessage.redirectInIframeError.code,BrowserAuthErrorMessage.redirectInIframeError.desc+" (window.parent !== window) => "+s)},o.createBlockReloadInHiddenIframeError=function(){return new o(BrowserAuthErrorMessage.blockTokenRequestsInHiddenIframeError.code,BrowserAuthErrorMessage.blockTokenRequestsInHiddenIframeError.desc)},o.createBlockAcquireTokenInPopupsError=function(){return new o(BrowserAuthErrorMessage.blockAcquireTokenInPopupsError.code,BrowserAuthErrorMessage.blockAcquireTokenInPopupsError.desc)},o.createIframeClosedPrematurelyError=function(){return new o(BrowserAuthErrorMessage.iframeClosedPrematurelyError.code,BrowserAuthErrorMessage.iframeClosedPrematurelyError.desc)},o.createSilentLogoutUnsupportedError=function(){return new o(BrowserAuthErrorMessage.silentLogoutUnsupportedError.code,BrowserAuthErrorMessage.silentLogoutUnsupportedError.desc)},o.createNoAccountError=function(){return new o(BrowserAuthErrorMessage.noAccountError.code,BrowserAuthErrorMessage.noAccountError.desc)},o.createSilentPromptValueError=function(s){return new o(BrowserAuthErrorMessage.silentPromptValueError.code,BrowserAuthErrorMessage.silentPromptValueError.desc+" Given value: "+s)},o.createUnableToParseTokenRequestCacheError=function(){return new o(BrowserAuthErrorMessage.unableToParseTokenRequestCacheError.code,BrowserAuthErrorMessage.unableToParseTokenRequestCacheError.desc)},o.createNoTokenRequestCacheError=function(){return new o(BrowserAuthErrorMessage.noTokenRequestCacheError.code,BrowserAuthErrorMessage.noTokenRequestCacheError.desc)},o.createAuthRequestNotSetError=function(){return new o(BrowserAuthErrorMessage.authRequestNotSet.code,BrowserAuthErrorMessage.authRequestNotSet.desc)},o.createNoCachedAuthorityError=function(){return new o(BrowserAuthErrorMessage.noCachedAuthorityError.code,BrowserAuthErrorMessage.noCachedAuthorityError.desc)},o.createInvalidCacheTypeError=function(){return new o(BrowserAuthErrorMessage.invalidCacheType.code,""+BrowserAuthErrorMessage.invalidCacheType.desc)},o.createNonBrowserEnvironmentError=function(){return new o(BrowserAuthErrorMessage.notInBrowserEnvironment.code,BrowserAuthErrorMessage.notInBrowserEnvironment.desc)},o.createDatabaseNotOpenError=function(){return new o(BrowserAuthErrorMessage.databaseNotOpen.code,BrowserAuthErrorMessage.databaseNotOpen.desc)},o.createNoNetworkConnectivityError=function(){return new o(BrowserAuthErrorMessage.noNetworkConnectivity.code,BrowserAuthErrorMessage.noNetworkConnectivity.desc)},o.createPostRequestFailedError=function(s,$){return new o(BrowserAuthErrorMessage.postRequestFailed.code,BrowserAuthErrorMessage.postRequestFailed.desc+" | Network client threw: "+s+" | Attempted to reach: "+$.split("?")[0])},o.createGetRequestFailedError=function(s,$){return new o(BrowserAuthErrorMessage.getRequestFailed.code,BrowserAuthErrorMessage.getRequestFailed.desc+" | Network client threw: "+s+" | Attempted to reach: "+$.split("?")[0])},o.createFailedToParseNetworkResponseError=function(s){return new o(BrowserAuthErrorMessage.failedToParseNetworkResponse.code,BrowserAuthErrorMessage.failedToParseNetworkResponse.desc+" | Attempted to reach: "+s.split("?")[0])},o.createUnableToLoadTokenError=function(s){return new o(BrowserAuthErrorMessage.unableToLoadTokenError.code,BrowserAuthErrorMessage.unableToLoadTokenError.desc+" | "+s)},o.createSigningKeyNotFoundInStorageError=function(s){return new o(BrowserAuthErrorMessage.signingKeyNotFoundInStorage.code,BrowserAuthErrorMessage.signingKeyNotFoundInStorage.desc+" | No match found for KeyId: "+s)},o.createAuthCodeRequiredError=function(){return new o(BrowserAuthErrorMessage.authCodeRequired.code,BrowserAuthErrorMessage.authCodeRequired.desc)},o.createAuthCodeOrNativeAccountIdRequiredError=function(){return new o(BrowserAuthErrorMessage.authCodeOrNativeAccountRequired.code,BrowserAuthErrorMessage.authCodeOrNativeAccountRequired.desc)},o.createSpaCodeAndNativeAccountIdPresentError=function(){return new o(BrowserAuthErrorMessage.spaCodeAndNativeAccountPresent.code,BrowserAuthErrorMessage.spaCodeAndNativeAccountPresent.desc)},o.createDatabaseUnavailableError=function(){return new o(BrowserAuthErrorMessage.databaseUnavailable.code,BrowserAuthErrorMessage.databaseUnavailable.desc)},o.createUnableToAcquireTokenFromNativePlatformError=function(){return new o(BrowserAuthErrorMessage.unableToAcquireTokenFromNativePlatform.code,BrowserAuthErrorMessage.unableToAcquireTokenFromNativePlatform.desc)},o.createNativeHandshakeTimeoutError=function(){return new o(BrowserAuthErrorMessage.nativeHandshakeTimeout.code,BrowserAuthErrorMessage.nativeHandshakeTimeout.desc)},o.createNativeExtensionNotInstalledError=function(){return new o(BrowserAuthErrorMessage.nativeExtensionNotInstalled.code,BrowserAuthErrorMessage.nativeExtensionNotInstalled.desc)},o.createNativeConnectionNotEstablishedError=function(){return new o(BrowserAuthErrorMessage.nativeConnectionNotEstablished.code,BrowserAuthErrorMessage.nativeConnectionNotEstablished.desc)},o.createNativeBrokerCalledBeforeInitialize=function(){return new o(BrowserAuthErrorMessage.nativeBrokerCalledBeforeInitialize.code,BrowserAuthErrorMessage.nativeBrokerCalledBeforeInitialize.desc)},o.createNativePromptParameterNotSupportedError=function(){return new o(BrowserAuthErrorMessage.nativePromptNotSupported.code,BrowserAuthErrorMessage.nativePromptNotSupported.desc)},o}(AuthError);/*! @azure/msal-browser v2.37.0 2023-05-01 */var BrowserConstants={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},NativeConstants={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},NativeExtensionMethod;(function(a){a.HandshakeRequest="Handshake",a.HandshakeResponse="HandshakeResponse",a.GetToken="GetToken",a.Response="Response"})(NativeExtensionMethod||(NativeExtensionMethod={}));var BrowserCacheLocation;(function(a){a.LocalStorage="localStorage",a.SessionStorage="sessionStorage",a.MemoryStorage="memoryStorage"})(BrowserCacheLocation||(BrowserCacheLocation={}));var HTTP_REQUEST_TYPE;(function(a){a.GET="GET",a.POST="POST"})(HTTP_REQUEST_TYPE||(HTTP_REQUEST_TYPE={}));var TemporaryCacheKeys;(function(a){a.AUTHORITY="authority",a.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",a.SESSION_STATE="session.state",a.REQUEST_STATE="request.state",a.NONCE_IDTOKEN="nonce.id_token",a.ORIGIN_URI="request.origin",a.RENEW_STATUS="token.renew.status",a.URL_HASH="urlHash",a.REQUEST_PARAMS="request.params",a.SCOPES="scopes",a.INTERACTION_STATUS_KEY="interaction.status",a.CCS_CREDENTIAL="ccs.credential",a.CORRELATION_ID="request.correlationId",a.NATIVE_REQUEST="request.native",a.REDIRECT_CONTEXT="request.redirect.context"})(TemporaryCacheKeys||(TemporaryCacheKeys={}));var StaticCacheKeys;(function(a){a.ACCOUNT_KEYS="msal.account.keys",a.TOKEN_KEYS="msal.token.keys"})(StaticCacheKeys||(StaticCacheKeys={}));var InMemoryCacheKeys;(function(a){a.WRAPPER_SKU="wrapper.sku",a.WRAPPER_VER="wrapper.version"})(InMemoryCacheKeys||(InMemoryCacheKeys={}));var ApiId;(function(a){a[a.acquireTokenRedirect=861]="acquireTokenRedirect",a[a.acquireTokenPopup=862]="acquireTokenPopup",a[a.ssoSilent=863]="ssoSilent",a[a.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",a[a.handleRedirectPromise=865]="handleRedirectPromise",a[a.acquireTokenByCode=866]="acquireTokenByCode",a[a.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",a[a.logout=961]="logout",a[a.logoutPopup=962]="logoutPopup"})(ApiId||(ApiId={}));var InteractionType;(function(a){a.Redirect="redirect",a.Popup="popup",a.Silent="silent",a.None="none"})(InteractionType||(InteractionType={}));var InteractionStatus;(function(a){a.Startup="startup",a.Login="login",a.Logout="logout",a.AcquireToken="acquireToken",a.SsoSilent="ssoSilent",a.HandleRedirect="handleRedirect",a.None="none"})(InteractionStatus||(InteractionStatus={}));var DEFAULT_REQUEST={scopes:OIDC_DEFAULT_SCOPES},KEY_FORMAT_JWK="jwk",WrapperSKU;(function(a){a.React="@azure/msal-react",a.Angular="@azure/msal-angular"})(WrapperSKU||(WrapperSKU={}));var DB_NAME="msal.db",DB_VERSION=1,DB_TABLE_NAME=DB_NAME+".keys",CacheLookupPolicy;(function(a){a[a.Default=0]="Default",a[a.AccessToken=1]="AccessToken",a[a.AccessTokenAndRefreshToken=2]="AccessTokenAndRefreshToken",a[a.RefreshToken=3]="RefreshToken",a[a.RefreshTokenAndNetwork=4]="RefreshTokenAndNetwork",a[a.Skip=5]="Skip"})(CacheLookupPolicy||(CacheLookupPolicy={}));/*! @azure/msal-browser v2.37.0 2023-05-01 */var BrowserConfigurationAuthErrorMessage={redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},storageNotSupportedError:{code:"storage_not_supported",desc:"Given storage configuration option was not supported."},noRedirectCallbacksSet:{code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},invalidCallbackObject:{code:"invalid_callback_object",desc:"The object passed for the callback was invalid. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},stubPcaInstanceCalled:{code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},inMemRedirectUnavailable:{code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},entropyNotProvided:{code:"entropy_not_provided",desc:"The available browser crypto interface requires entropy set via system.cryptoOptions.entropy configuration option."}},BrowserConfigurationAuthError=function(a){__extends$1(o,a);function o(s,$){var j=a.call(this,s,$)||this;return j.name="BrowserConfigurationAuthError",Object.setPrototypeOf(j,o.prototype),j}return o.createRedirectUriEmptyError=function(){return new o(BrowserConfigurationAuthErrorMessage.redirectUriNotSet.code,BrowserConfigurationAuthErrorMessage.redirectUriNotSet.desc)},o.createPostLogoutRedirectUriEmptyError=function(){return new o(BrowserConfigurationAuthErrorMessage.postLogoutUriNotSet.code,BrowserConfigurationAuthErrorMessage.postLogoutUriNotSet.desc)},o.createStorageNotSupportedError=function(s){return new o(BrowserConfigurationAuthErrorMessage.storageNotSupportedError.code,BrowserConfigurationAuthErrorMessage.storageNotSupportedError.desc+" Given Location: "+s)},o.createRedirectCallbacksNotSetError=function(){return new o(BrowserConfigurationAuthErrorMessage.noRedirectCallbacksSet.code,BrowserConfigurationAuthErrorMessage.noRedirectCallbacksSet.desc)},o.createStubPcaInstanceCalledError=function(){return new o(BrowserConfigurationAuthErrorMessage.stubPcaInstanceCalled.code,BrowserConfigurationAuthErrorMessage.stubPcaInstanceCalled.desc)},o.createInMemoryRedirectUnavailableError=function(){return new o(BrowserConfigurationAuthErrorMessage.inMemRedirectUnavailable.code,BrowserConfigurationAuthErrorMessage.inMemRedirectUnavailable.desc)},o.createEntropyNotProvided=function(){return new o(BrowserConfigurationAuthErrorMessage.entropyNotProvided.code,BrowserConfigurationAuthErrorMessage.entropyNotProvided.desc)},o}(AuthError);/*! @azure/msal-browser v2.37.0 2023-05-01 */var BrowserStorage=function(){function a(o){this.validateWindowStorage(o),this.windowStorage=window[o]}return a.prototype.validateWindowStorage=function(o){if(o!==BrowserCacheLocation.LocalStorage&&o!==BrowserCacheLocation.SessionStorage)throw BrowserConfigurationAuthError.createStorageNotSupportedError(o);var s=!!window[o];if(!s)throw BrowserConfigurationAuthError.createStorageNotSupportedError(o)},a.prototype.getItem=function(o){return this.windowStorage.getItem(o)},a.prototype.setItem=function(o,s){this.windowStorage.setItem(o,s)},a.prototype.removeItem=function(o){this.windowStorage.removeItem(o)},a.prototype.getKeys=function(){return Object.keys(this.windowStorage)},a.prototype.containsKey=function(o){return this.windowStorage.hasOwnProperty(o)},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var MemoryStorage=function(){function a(){this.cache=new Map}return a.prototype.getItem=function(o){return this.cache.get(o)||null},a.prototype.setItem=function(o,s){this.cache.set(o,s)},a.prototype.removeItem=function(o){this.cache.delete(o)},a.prototype.getKeys=function(){var o=[];return this.cache.forEach(function(s,$){o.push($)}),o},a.prototype.containsKey=function(o){return this.cache.has(o)},a.prototype.clear=function(){this.cache.clear()},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var BrowserProtocolUtils=function(){function a(){}return a.extractBrowserRequestState=function(o,s){if(StringUtils.isEmpty(s))return null;try{var $=ProtocolUtils.parseRequestState(o,s);return $.libraryState.meta}catch(j){throw ClientAuthError.createInvalidStateError(s,j)}},a.parseServerResponseFromHash=function(o){if(!o)return{};var s=new UrlString(o);return UrlString.getDeserializedHash(s.getHash())},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var BrowserCacheManager=function(a){__extends$1(o,a);function o(s,$,j,_e){var et=a.call(this,s,j,_e)||this;return et.COOKIE_LIFE_MULTIPLIER=24*60*60*1e3,et.cacheConfig=$,et.logger=_e,et.internalStorage=new MemoryStorage,et.browserStorage=et.setupBrowserStorage(et.cacheConfig.cacheLocation),et.temporaryCacheStorage=et.setupTemporaryCacheStorage(et.cacheConfig.temporaryCacheLocation,et.cacheConfig.cacheLocation),$.cacheMigrationEnabled&&(et.migrateCacheEntries(),et.createKeyMaps()),et}return o.prototype.setupBrowserStorage=function(s){switch(s){case BrowserCacheLocation.LocalStorage:case BrowserCacheLocation.SessionStorage:try{return new BrowserStorage(s)}catch($){this.logger.verbose($);break}}return this.cacheConfig.cacheLocation=BrowserCacheLocation.MemoryStorage,new MemoryStorage},o.prototype.setupTemporaryCacheStorage=function(s,$){switch($){case BrowserCacheLocation.LocalStorage:case BrowserCacheLocation.SessionStorage:try{return new BrowserStorage(s||BrowserCacheLocation.SessionStorage)}catch(j){return this.logger.verbose(j),this.internalStorage}case BrowserCacheLocation.MemoryStorage:default:return this.internalStorage}},o.prototype.migrateCacheEntries=function(){var s=this,$=Constants.CACHE_PREFIX+"."+PersistentCacheKeys.ID_TOKEN,j=Constants.CACHE_PREFIX+"."+PersistentCacheKeys.CLIENT_INFO,_e=Constants.CACHE_PREFIX+"."+PersistentCacheKeys.ERROR,et=Constants.CACHE_PREFIX+"."+PersistentCacheKeys.ERROR_DESC,tt=this.browserStorage.getItem($),rt=this.browserStorage.getItem(j),nt=this.browserStorage.getItem(_e),it=this.browserStorage.getItem(et),ot=[tt,rt,nt,it],at=[PersistentCacheKeys.ID_TOKEN,PersistentCacheKeys.CLIENT_INFO,PersistentCacheKeys.ERROR,PersistentCacheKeys.ERROR_DESC];at.forEach(function(ut,ht){return s.migrateCacheEntry(ut,ot[ht])})},o.prototype.migrateCacheEntry=function(s,$){$&&this.setTemporaryCache(s,$,!0)},o.prototype.createKeyMaps=function(){var s=this;this.logger.trace("BrowserCacheManager - createKeyMaps called.");var $=this.getItem(StaticCacheKeys.ACCOUNT_KEYS),j=this.getItem(StaticCacheKeys.TOKEN_KEYS+"."+this.clientId);if($&&j){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}var _e=this.browserStorage.getKeys();_e.forEach(function(et){if(s.isCredentialKey(et)){var tt=s.getItem(et);if(tt){var rt=s.validateAndParseJson(tt);if(rt&&rt.hasOwnProperty("credentialType"))switch(rt.credentialType){case CredentialType.ID_TOKEN:if(IdTokenEntity.isIdTokenEntity(rt)){s.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),s.logger.tracePii("BrowserCacheManager:createKeyMaps - idToken with key: "+et+" found, saving key to token key map");var nt=CacheManager.toObject(new IdTokenEntity,rt),it=s.updateCredentialCacheKey(et,nt);s.addTokenKey(it,CredentialType.ID_TOKEN);return}else s.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),s.logger.tracePii("BrowserCacheManager:createKeyMaps - failed idToken validation on key: "+et);break;case CredentialType.ACCESS_TOKEN:case CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(AccessTokenEntity.isAccessTokenEntity(rt)){s.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),s.logger.tracePii("BrowserCacheManager:createKeyMaps - accessToken with key: "+et+" found, saving key to token key map");var ot=CacheManager.toObject(new AccessTokenEntity,rt),it=s.updateCredentialCacheKey(et,ot);s.addTokenKey(it,CredentialType.ACCESS_TOKEN);return}else s.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),s.logger.tracePii("BrowserCacheManager:createKeyMaps - failed accessToken validation on key: "+et);break;case CredentialType.REFRESH_TOKEN:if(RefreshTokenEntity.isRefreshTokenEntity(rt)){s.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),s.logger.tracePii("BrowserCacheManager:createKeyMaps - refreshToken with key: "+et+" found, saving key to token key map");var at=CacheManager.toObject(new RefreshTokenEntity,rt),it=s.updateCredentialCacheKey(et,at);s.addTokenKey(it,CredentialType.REFRESH_TOKEN);return}else s.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),s.logger.tracePii("BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: "+et);break}}}if(s.isAccountKey(et)){var tt=s.getItem(et);if(tt){var ut=s.validateAndParseJson(tt);ut&&AccountEntity.isAccountEntity(ut)&&(s.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),s.logger.tracePii("BrowserCacheManager:createKeyMaps - account with key: "+et+" found, saving key to account key map"),s.addAccountKeyToMap(et))}}})},o.prototype.validateAndParseJson=function(s){try{var $=JSON.parse(s);return $&&typeof $=="object"?$:null}catch{return null}},o.prototype.getItem=function(s){return this.browserStorage.getItem(s)},o.prototype.setItem=function(s,$){this.browserStorage.setItem(s,$)},o.prototype.getAccount=function(s){this.logger.trace("BrowserCacheManager.getAccount called");var $=this.getItem(s);if(!$)return this.removeAccountKeyFromMap(s),null;var j=this.validateAndParseJson($);return!j||!AccountEntity.isAccountEntity(j)?(this.removeAccountKeyFromMap(s),null):CacheManager.toObject(new AccountEntity,j)},o.prototype.setAccount=function(s){this.logger.trace("BrowserCacheManager.setAccount called");var $=s.generateAccountKey();this.setItem($,JSON.stringify(s)),this.addAccountKeyToMap($)},o.prototype.getAccountKeys=function(){this.logger.trace("BrowserCacheManager.getAccountKeys called");var s=this.getItem(StaticCacheKeys.ACCOUNT_KEYS);return s?JSON.parse(s):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])},o.prototype.addAccountKeyToMap=function(s){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: "+s);var $=this.getAccountKeys();$.indexOf(s)===-1?($.push(s),this.setItem(StaticCacheKeys.ACCOUNT_KEYS,JSON.stringify($)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")},o.prototype.removeAccountKeyFromMap=function(s){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: "+s);var $=this.getAccountKeys(),j=$.indexOf(s);j>-1?($.splice(j,1),this.setItem(StaticCacheKeys.ACCOUNT_KEYS,JSON.stringify($)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")},o.prototype.removeAccount=function(s){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function($){return a.prototype.removeAccount.call(this,s),this.removeAccountKeyFromMap(s),[2]})})},o.prototype.removeIdToken=function(s){a.prototype.removeIdToken.call(this,s),this.removeTokenKey(s,CredentialType.ID_TOKEN)},o.prototype.removeAccessToken=function(s){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function($){return a.prototype.removeAccessToken.call(this,s),this.removeTokenKey(s,CredentialType.ACCESS_TOKEN),[2]})})},o.prototype.removeRefreshToken=function(s){a.prototype.removeRefreshToken.call(this,s),this.removeTokenKey(s,CredentialType.REFRESH_TOKEN)},o.prototype.getTokenKeys=function(){this.logger.trace("BrowserCacheManager.getTokenKeys called");var s=this.getItem(StaticCacheKeys.TOKEN_KEYS+"."+this.clientId);if(s){var $=this.validateAndParseJson(s);if($&&$.hasOwnProperty("idToken")&&$.hasOwnProperty("accessToken")&&$.hasOwnProperty("refreshToken"))return $;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}},o.prototype.addTokenKey=function(s,$){this.logger.trace("BrowserCacheManager addTokenKey called");var j=this.getTokenKeys();switch($){case CredentialType.ID_TOKEN:j.idToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),j.idToken.push(s));break;case CredentialType.ACCESS_TOKEN:j.accessToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),j.accessToken.push(s));break;case CredentialType.REFRESH_TOKEN:j.refreshToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),j.refreshToken.push(s));break;default:this.logger.error("BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: "+$),ClientAuthError.createUnexpectedCredentialTypeError()}this.setItem(StaticCacheKeys.TOKEN_KEYS+"."+this.clientId,JSON.stringify(j))},o.prototype.removeTokenKey=function(s,$){this.logger.trace("BrowserCacheManager removeTokenKey called");var j=this.getTokenKeys();switch($){case CredentialType.ID_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: "+s+" from map");var _e=j.idToken.indexOf(s);_e>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),j.idToken.splice(_e,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case CredentialType.ACCESS_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: "+s+" from map");var et=j.accessToken.indexOf(s);et>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),j.accessToken.splice(et,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case CredentialType.REFRESH_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: "+s+" from map");var tt=j.refreshToken.indexOf(s);tt>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),j.refreshToken.splice(tt,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:this.logger.error("BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: "+$),ClientAuthError.createUnexpectedCredentialTypeError()}this.setItem(StaticCacheKeys.TOKEN_KEYS+"."+this.clientId,JSON.stringify(j))},o.prototype.getIdTokenCredential=function(s){var $=this.getItem(s);if(!$)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(s,CredentialType.ID_TOKEN),null;var j=this.validateAndParseJson($);return!j||!IdTokenEntity.isIdTokenEntity(j)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(s,CredentialType.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),CacheManager.toObject(new IdTokenEntity,j))},o.prototype.setIdTokenCredential=function(s){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var $=s.generateCredentialKey();this.setItem($,JSON.stringify(s)),this.addTokenKey($,CredentialType.ID_TOKEN)},o.prototype.getAccessTokenCredential=function(s){var $=this.getItem(s);if(!$)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(s,CredentialType.ACCESS_TOKEN),null;var j=this.validateAndParseJson($);return!j||!AccessTokenEntity.isAccessTokenEntity(j)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(s,CredentialType.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),CacheManager.toObject(new AccessTokenEntity,j))},o.prototype.setAccessTokenCredential=function(s){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var $=s.generateCredentialKey();this.setItem($,JSON.stringify(s)),this.addTokenKey($,CredentialType.ACCESS_TOKEN)},o.prototype.getRefreshTokenCredential=function(s){var $=this.getItem(s);if(!$)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(s,CredentialType.REFRESH_TOKEN),null;var j=this.validateAndParseJson($);return!j||!RefreshTokenEntity.isRefreshTokenEntity(j)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(s,CredentialType.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),CacheManager.toObject(new RefreshTokenEntity,j))},o.prototype.setRefreshTokenCredential=function(s){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var $=s.generateCredentialKey();this.setItem($,JSON.stringify(s)),this.addTokenKey($,CredentialType.REFRESH_TOKEN)},o.prototype.getAppMetadata=function(s){var $=this.getItem(s);if(!$)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var j=this.validateAndParseJson($);return!j||!AppMetadataEntity.isAppMetadataEntity(s,j)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),CacheManager.toObject(new AppMetadataEntity,j))},o.prototype.setAppMetadata=function(s){this.logger.trace("BrowserCacheManager.setAppMetadata called");var $=s.generateAppMetadataKey();this.setItem($,JSON.stringify(s))},o.prototype.getServerTelemetry=function(s){var $=this.getItem(s);if(!$)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var j=this.validateAndParseJson($);return!j||!ServerTelemetryEntity.isServerTelemetryEntity(s,j)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),CacheManager.toObject(new ServerTelemetryEntity,j))},o.prototype.setServerTelemetry=function(s,$){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(s,JSON.stringify($))},o.prototype.getAuthorityMetadata=function(s){var $=this.internalStorage.getItem(s);if(!$)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var j=this.validateAndParseJson($);return j&&AuthorityMetadataEntity.isAuthorityMetadataEntity(s,j)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),CacheManager.toObject(new AuthorityMetadataEntity,j)):null},o.prototype.getAuthorityMetadataKeys=function(){var s=this,$=this.internalStorage.getKeys();return $.filter(function(j){return s.isAuthorityMetadata(j)})},o.prototype.setWrapperMetadata=function(s,$){this.internalStorage.setItem(InMemoryCacheKeys.WRAPPER_SKU,s),this.internalStorage.setItem(InMemoryCacheKeys.WRAPPER_VER,$)},o.prototype.getWrapperMetadata=function(){var s=this.internalStorage.getItem(InMemoryCacheKeys.WRAPPER_SKU)||Constants.EMPTY_STRING,$=this.internalStorage.getItem(InMemoryCacheKeys.WRAPPER_VER)||Constants.EMPTY_STRING;return[s,$]},o.prototype.setAuthorityMetadata=function(s,$){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(s,JSON.stringify($))},o.prototype.getActiveAccount=function(){var s=this.generateCacheKey(PersistentCacheKeys.ACTIVE_ACCOUNT_FILTERS),$=this.getItem(s);if(!$){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");var j=this.generateCacheKey(PersistentCacheKeys.ACTIVE_ACCOUNT),_e=this.getItem(j);if(!_e)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;var et=this.getAccountInfoByFilter({localAccountId:_e})[0]||null;return et?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(et),et):null}var tt=this.validateAndParseJson($);return tt?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:tt.homeAccountId,localAccountId:tt.localAccountId})[0]||null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)},o.prototype.setActiveAccount=function(s){var $=this.generateCacheKey(PersistentCacheKeys.ACTIVE_ACCOUNT_FILTERS),j=this.generateCacheKey(PersistentCacheKeys.ACTIVE_ACCOUNT);if(s){this.logger.verbose("setActiveAccount: Active account set");var _e={homeAccountId:s.homeAccountId,localAccountId:s.localAccountId};this.browserStorage.setItem($,JSON.stringify(_e)),this.browserStorage.setItem(j,s.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem($),this.browserStorage.removeItem(j)},o.prototype.getAccountInfoByFilter=function(s){var $=this.getAllAccounts();return this.logger.trace("BrowserCacheManager.getAccountInfoByFilter: total "+$.length+" accounts found"),$.filter(function(j){return!(s.username&&s.username.toLowerCase()!==j.username.toLowerCase()||s.homeAccountId&&s.homeAccountId!==j.homeAccountId||s.localAccountId&&s.localAccountId!==j.localAccountId||s.tenantId&&s.tenantId!==j.tenantId||s.environment&&s.environment!==j.environment)})},o.prototype.getAccountInfoByHints=function(s,$){var j=this.getAllAccounts().filter(function(_e){if($){var et=_e.idTokenClaims&&_e.idTokenClaims.sid;return $===et}return s?s===_e.username:!1});if(j.length===1)return j[0];if(j.length>1)throw ClientAuthError.createMultipleMatchingAccountsInCacheError();return null},o.prototype.getThrottlingCache=function(s){var $=this.getItem(s);if(!$)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var j=this.validateAndParseJson($);return!j||!ThrottlingEntity.isThrottlingEntity(s,j)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),CacheManager.toObject(new ThrottlingEntity,j))},o.prototype.setThrottlingCache=function(s,$){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(s,JSON.stringify($))},o.prototype.getTemporaryCache=function(s,$){var j=$?this.generateCacheKey(s):s;if(this.cacheConfig.storeAuthStateInCookie){var _e=this.getItemCookie(j);if(_e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),_e}var et=this.temporaryCacheStorage.getItem(j);if(!et){if(this.cacheConfig.cacheLocation===BrowserCacheLocation.LocalStorage){var tt=this.browserStorage.getItem(j);if(tt)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),tt}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),et},o.prototype.setTemporaryCache=function(s,$,j){var _e=j?this.generateCacheKey(s):s;this.temporaryCacheStorage.setItem(_e,$),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(_e,$))},o.prototype.removeItem=function(s){this.browserStorage.removeItem(s),this.temporaryCacheStorage.removeItem(s),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(s))},o.prototype.containsKey=function(s){return this.browserStorage.containsKey(s)||this.temporaryCacheStorage.containsKey(s)},o.prototype.getKeys=function(){return __spread(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},o.prototype.clear=function(){return __awaiter$1(this,void 0,void 0,function(){var s=this;return __generator$1(this,function($){switch($.label){case 0:return[4,this.removeAllAccounts()];case 1:return $.sent(),this.removeAppMetadata(),this.getKeys().forEach(function(j){(s.browserStorage.containsKey(j)||s.temporaryCacheStorage.containsKey(j))&&(j.indexOf(Constants.CACHE_PREFIX)!==-1||j.indexOf(s.clientId)!==-1)&&s.removeItem(j)}),this.internalStorage.clear(),[2]}})})},o.prototype.setItemCookie=function(s,$,j){var _e=encodeURIComponent(s)+"="+encodeURIComponent($)+";path=/;SameSite=Lax;";if(j){var et=this.getCookieExpirationTime(j);_e+="expires="+et+";"}this.cacheConfig.secureCookies&&(_e+="Secure;"),document.cookie=_e},o.prototype.getItemCookie=function(s){for(var $=encodeURIComponent(s)+"=",j=document.cookie.split(";"),_e=0;_e<j.length;_e++){for(var et=j[_e];et.charAt(0)===" ";)et=et.substring(1);if(et.indexOf($)===0)return decodeURIComponent(et.substring($.length,et.length))}return Constants.EMPTY_STRING},o.prototype.clearMsalCookies=function(){var s=this,$=Constants.CACHE_PREFIX+"."+this.clientId,j=document.cookie.split(";");j.forEach(function(_e){for(;_e.charAt(0)===" ";)_e=_e.substring(1);if(_e.indexOf($)===0){var et=_e.split("=")[0];s.clearItemCookie(et)}})},o.prototype.clearItemCookie=function(s){this.setItemCookie(s,Constants.EMPTY_STRING,-1)},o.prototype.getCookieExpirationTime=function(s){var $=new Date,j=new Date($.getTime()+s*this.COOKIE_LIFE_MULTIPLIER);return j.toUTCString()},o.prototype.getCache=function(){return this.browserStorage},o.prototype.setCache=function(){},o.prototype.generateCacheKey=function(s){var $=this.validateAndParseJson(s);return $?JSON.stringify(s):StringUtils.startsWith(s,Constants.CACHE_PREFIX)||StringUtils.startsWith(s,PersistentCacheKeys.ADAL_ID_TOKEN)?s:Constants.CACHE_PREFIX+"."+this.clientId+"."+s},o.prototype.generateAuthorityKey=function(s){var $=ProtocolUtils.parseRequestState(this.cryptoImpl,s).libraryState.id;return this.generateCacheKey(TemporaryCacheKeys.AUTHORITY+"."+$)},o.prototype.generateNonceKey=function(s){var $=ProtocolUtils.parseRequestState(this.cryptoImpl,s).libraryState.id;return this.generateCacheKey(TemporaryCacheKeys.NONCE_IDTOKEN+"."+$)},o.prototype.generateStateKey=function(s){var $=ProtocolUtils.parseRequestState(this.cryptoImpl,s).libraryState.id;return this.generateCacheKey(TemporaryCacheKeys.REQUEST_STATE+"."+$)},o.prototype.getCachedAuthority=function(s){var $=this.generateStateKey(s),j=this.getTemporaryCache($);if(!j)return null;var _e=this.generateAuthorityKey(j);return this.getTemporaryCache(_e)},o.prototype.updateCacheEntries=function(s,$,j,_e,et){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var tt=this.generateStateKey(s);this.setTemporaryCache(tt,s,!1);var rt=this.generateNonceKey(s);this.setTemporaryCache(rt,$,!1);var nt=this.generateAuthorityKey(s);if(this.setTemporaryCache(nt,j,!1),et){var it={credential:et.homeAccountId,type:CcsCredentialType.HOME_ACCOUNT_ID};this.setTemporaryCache(TemporaryCacheKeys.CCS_CREDENTIAL,JSON.stringify(it),!0)}else if(!StringUtils.isEmpty(_e)){var it={credential:_e,type:CcsCredentialType.UPN};this.setTemporaryCache(TemporaryCacheKeys.CCS_CREDENTIAL,JSON.stringify(it),!0)}},o.prototype.resetRequestCache=function(s){var $=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),StringUtils.isEmpty(s)||this.getKeys().forEach(function(j){j.indexOf(s)!==-1&&$.removeItem(j)}),s&&(this.removeItem(this.generateStateKey(s)),this.removeItem(this.generateNonceKey(s)),this.removeItem(this.generateAuthorityKey(s))),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.ORIGIN_URI)),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.URL_HASH)),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.CORRELATION_ID)),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},o.prototype.cleanRequestByState=function(s){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),s){var $=this.generateStateKey(s),j=this.temporaryCacheStorage.getItem($);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+j),this.resetRequestCache(j||Constants.EMPTY_STRING)}this.clearMsalCookies()},o.prototype.cleanRequestByInteractionType=function(s){var $=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(j){if(j.indexOf(TemporaryCacheKeys.REQUEST_STATE)!==-1){var _e=$.temporaryCacheStorage.getItem(j);if(_e){var et=BrowserProtocolUtils.extractBrowserRequestState($.cryptoImpl,_e);et&&et.interactionType===s&&($.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+_e),$.resetRequestCache(_e))}}}),this.clearMsalCookies(),this.setInteractionInProgress(!1)},o.prototype.cacheCodeRequest=function(s,$){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var j=$.base64Encode(JSON.stringify(s));this.setTemporaryCache(TemporaryCacheKeys.REQUEST_PARAMS,j,!0)},o.prototype.getCachedRequest=function(s,$){this.logger.trace("BrowserCacheManager.getCachedRequest called");var j=this.getTemporaryCache(TemporaryCacheKeys.REQUEST_PARAMS,!0);if(!j)throw BrowserAuthError.createNoTokenRequestCacheError();var _e=this.validateAndParseJson($.base64Decode(j));if(!_e)throw BrowserAuthError.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(TemporaryCacheKeys.REQUEST_PARAMS)),StringUtils.isEmpty(_e.authority)){var et=this.generateAuthorityKey(s),tt=this.getTemporaryCache(et);if(!tt)throw BrowserAuthError.createNoCachedAuthorityError();_e.authority=tt}return _e},o.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var s=this.getTemporaryCache(TemporaryCacheKeys.NATIVE_REQUEST,!0);if(!s)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;var $=this.validateAndParseJson(s);return $||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)},o.prototype.isInteractionInProgress=function(s){var $=this.getInteractionInProgress();return s?$===this.clientId:!!$},o.prototype.getInteractionInProgress=function(){var s=Constants.CACHE_PREFIX+"."+TemporaryCacheKeys.INTERACTION_STATUS_KEY;return this.getTemporaryCache(s,!1)},o.prototype.setInteractionInProgress=function(s){var $=Constants.CACHE_PREFIX+"."+TemporaryCacheKeys.INTERACTION_STATUS_KEY;if(s){if(this.getInteractionInProgress())throw BrowserAuthError.createInteractionInProgressError();this.setTemporaryCache($,this.clientId,!1)}else!s&&this.getInteractionInProgress()===this.clientId&&this.removeItem($)},o.prototype.getLegacyLoginHint=function(){var s=this.getTemporaryCache(PersistentCacheKeys.ADAL_ID_TOKEN);s&&(this.browserStorage.removeItem(PersistentCacheKeys.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var $=this.getTemporaryCache(PersistentCacheKeys.ID_TOKEN,!0);$&&(this.removeItem(this.generateCacheKey(PersistentCacheKeys.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var j=$||s;if(j){var _e=new AuthToken(j,this.cryptoImpl);if(_e.claims&&_e.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),_e.claims.preferred_username;if(_e.claims&&_e.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),_e.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},o.prototype.updateCredentialCacheKey=function(s,$){var j=$.generateCredentialKey();if(s!==j){var _e=this.getItem(s);if(_e)return this.removeItem(s),this.setItem(j,_e),this.logger.verbose("Updated an outdated "+$.credentialType+" cache key"),j;this.logger.error("Attempted to update an outdated "+$.credentialType+" cache key but no item matching the outdated key was found in storage")}return s},o.prototype.getRedirectRequestContext=function(){return this.getTemporaryCache(TemporaryCacheKeys.REDIRECT_CONTEXT,!0)},o.prototype.setRedirectRequestContext=function(s){this.setTemporaryCache(TemporaryCacheKeys.REDIRECT_CONTEXT,s,!0)},o}(CacheManager),DEFAULT_BROWSER_CACHE_MANAGER=function(a,o){var s={cacheLocation:BrowserCacheLocation.MemoryStorage,temporaryCacheLocation:BrowserCacheLocation.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1};return new BrowserCacheManager(a,s,DEFAULT_CRYPTO_IMPLEMENTATION,o)};/*! @azure/msal-browser v2.37.0 2023-05-01 */var name$1="@azure/msal-browser",version$2="2.37.0";/*! @azure/msal-browser v2.37.0 2023-05-01 */var FetchClient=function(){function a(){}return a.prototype.sendGetRequestAsync=function(o,s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e;return __generator$1(this,function(et){switch(et.label){case 0:return et.trys.push([0,2,,3]),[4,fetch(o,{method:HTTP_REQUEST_TYPE.GET,headers:this.getFetchHeaders(s)})];case 1:return $=et.sent(),[3,3];case 2:throw j=et.sent(),window.navigator.onLine?BrowserAuthError.createGetRequestFailedError(j,o):BrowserAuthError.createNoNetworkConnectivityError();case 3:return et.trys.push([3,5,,6]),_e={headers:this.getHeaderDict($.headers)},[4,$.json()];case 4:return[2,(_e.body=et.sent(),_e.status=$.status,_e)];case 5:throw et.sent(),BrowserAuthError.createFailedToParseNetworkResponseError(o);case 6:return[2]}})})},a.prototype.sendPostRequestAsync=function(o,s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et;return __generator$1(this,function(tt){switch(tt.label){case 0:$=s&&s.body||Constants.EMPTY_STRING,tt.label=1;case 1:return tt.trys.push([1,3,,4]),[4,fetch(o,{method:HTTP_REQUEST_TYPE.POST,headers:this.getFetchHeaders(s),body:$})];case 2:return j=tt.sent(),[3,4];case 3:throw _e=tt.sent(),window.navigator.onLine?BrowserAuthError.createPostRequestFailedError(_e,o):BrowserAuthError.createNoNetworkConnectivityError();case 4:return tt.trys.push([4,6,,7]),et={headers:this.getHeaderDict(j.headers)},[4,j.json()];case 5:return[2,(et.body=tt.sent(),et.status=j.status,et)];case 6:throw tt.sent(),BrowserAuthError.createFailedToParseNetworkResponseError(o);case 7:return[2]}})})},a.prototype.getFetchHeaders=function(o){var s=new Headers;if(!(o&&o.headers))return s;var $=o.headers;return Object.keys($).forEach(function(j){s.append(j,$[j])}),s},a.prototype.getHeaderDict=function(o){var s={};return o.forEach(function($,j){s[j]=$}),s},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var XhrClient=function(){function a(){}return a.prototype.sendGetRequestAsync=function(o,s){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function($){return[2,this.sendRequestAsync(o,HTTP_REQUEST_TYPE.GET,s)]})})},a.prototype.sendPostRequestAsync=function(o,s){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function($){return[2,this.sendRequestAsync(o,HTTP_REQUEST_TYPE.POST,s)]})})},a.prototype.sendRequestAsync=function(o,s,$){var j=this;return new Promise(function(_e,et){var tt=new XMLHttpRequest;if(tt.open(s,o,!0),j.setXhrHeaders(tt,$),tt.onload=function(){(tt.status<200||tt.status>=300)&&(s===HTTP_REQUEST_TYPE.POST?et(BrowserAuthError.createPostRequestFailedError("Failed with status "+tt.status,o)):et(BrowserAuthError.createGetRequestFailedError("Failed with status "+tt.status,o)));try{var rt=JSON.parse(tt.responseText),nt={headers:j.getHeaderDict(tt),body:rt,status:tt.status};_e(nt)}catch{et(BrowserAuthError.createFailedToParseNetworkResponseError(o))}},tt.onerror=function(){window.navigator.onLine?s===HTTP_REQUEST_TYPE.POST?et(BrowserAuthError.createPostRequestFailedError("Failed with status "+tt.status,o)):et(BrowserAuthError.createGetRequestFailedError("Failed with status "+tt.status,o)):et(BrowserAuthError.createNoNetworkConnectivityError())},s===HTTP_REQUEST_TYPE.POST&&$&&$.body)tt.send($.body);else if(s===HTTP_REQUEST_TYPE.GET)tt.send();else throw BrowserAuthError.createHttpMethodNotImplementedError(s)})},a.prototype.setXhrHeaders=function(o,s){if(s&&s.headers){var $=s.headers;Object.keys($).forEach(function(j){o.setRequestHeader(j,$[j])})}},a.prototype.getHeaderDict=function(o){var s=o.getAllResponseHeaders(),$=s.trim().split(/[\r\n]+/),j={};return $.forEach(function(_e){var et=_e.split(": "),tt=et.shift(),rt=et.join(": ");tt&&rt&&(j[tt]=rt)}),j},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var BrowserUtils=function(){function a(){}return a.clearHash=function(o){o.location.hash=Constants.EMPTY_STRING,typeof o.history.replaceState=="function"&&o.history.replaceState(null,Constants.EMPTY_STRING,""+o.location.origin+o.location.pathname+o.location.search)},a.replaceHash=function(o){var s=o.split("#");s.shift(),window.location.hash=s.length>0?s.join("#"):Constants.EMPTY_STRING},a.isInIframe=function(){return window.parent!==window},a.isInPopup=function(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(BrowserConstants.POPUP_NAME_PREFIX+".")===0},a.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},a.getHomepage=function(){var o=new UrlString(window.location.href),s=o.getUrlComponents();return s.Protocol+"//"+s.HostNameAndPort+"/"},a.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new FetchClient:new XhrClient},a.blockReloadInHiddenIframes=function(){var o=UrlString.hashContainsKnownProperties(window.location.hash);if(o&&a.isInIframe())throw BrowserAuthError.createBlockReloadInHiddenIframeError()},a.blockRedirectInIframe=function(o,s){var $=a.isInIframe();if(o===InteractionType.Redirect&&$&&!s)throw BrowserAuthError.createRedirectInIframeError($)},a.blockAcquireTokenInPopups=function(){if(a.isInPopup())throw BrowserAuthError.createBlockAcquireTokenInPopupsError()},a.blockNonBrowserEnvironment=function(o){if(!o)throw BrowserAuthError.createNonBrowserEnvironmentError()},a.blockNativeBrokerCalledBeforeInitialized=function(o,s){if(o&&!s)throw BrowserAuthError.createNativeBrokerCalledBeforeInitialize()},a.detectIEOrEdge=function(){var o=window.navigator.userAgent,s=o.indexOf("MSIE "),$=o.indexOf("Trident/"),j=o.indexOf("Edge/"),_e=s>0||$>0,et=j>0;return _e||et},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var BaseInteractionClient=function(){function a(o,s,$,j,_e,et,tt,rt,nt){this.config=o,this.browserStorage=s,this.browserCrypto=$,this.networkClient=this.config.system.networkClient,this.eventHandler=_e,this.navigationClient=et,this.nativeMessageHandler=rt,this.correlationId=nt||this.browserCrypto.createNewGuid(),this.logger=j.clone(BrowserConstants.MSAL_SKU,version$2,this.correlationId),this.performanceClient=tt}return a.prototype.clearCacheOnLogout=function(o){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(s){switch(s.label){case 0:if(!o)return[3,5];AccountEntity.accountInfoIsEqual(o,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(AccountEntity.generateAccountCacheKey(o))];case 2:return s.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return s.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return s.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return s.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return s.sent(),[3,9];case 8:return s.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}})})},a.prototype.initializeBaseRequest=function(o){return __awaiter$1(this,void 0,void 0,function(){var s,$,j,_e;return __generator$1(this,function(et){switch(et.label){case 0:if(this.performanceClient.addQueueMeasurement(PerformanceEvents.InitializeBaseRequest,o.correlationId),this.logger.verbose("Initializing BaseAuthRequest"),s=o.authority||this.config.auth.authority,$=__spread(o&&o.scopes||[]),j=__assign$1(__assign$1({},o),{correlationId:this.correlationId,authority:s,scopes:$}),!j.authenticationScheme)j.authenticationScheme=AuthenticationScheme.BEARER,this.logger.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(j.authenticationScheme===AuthenticationScheme.SSH){if(!o.sshJwk)throw ClientConfigurationError.createMissingSshJwkError();if(!o.sshKid)throw ClientConfigurationError.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+j.authenticationScheme+'" as configured in Auth request')}return o.claims&&!StringUtils.isEmpty(o.claims)?(_e=j,[4,this.browserCrypto.hashString(o.claims)]):[3,2];case 1:_e.requestedClaimsHash=et.sent(),et.label=2;case 2:return[2,j]}})})},a.prototype.getRedirectUri=function(o){this.logger.verbose("getRedirectUri called");var s=o||this.config.auth.redirectUri||BrowserUtils.getCurrentUri();return UrlString.getAbsoluteUrl(s,BrowserUtils.getCurrentUri())},a.prototype.initializeServerTelemetryManager=function(o,s){this.logger.verbose("initializeServerTelemetryManager called");var $={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:o,forceRefresh:s||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new ServerTelemetryManager($,this.browserStorage)},a.prototype.getDiscoveredAuthority=function(o){return __awaiter$1(this,void 0,void 0,function(){var s;return __generator$1(this,function($){switch($.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},o?(this.logger.verbose("Creating discovered authority with request authority"),[4,AuthorityFactory.createDiscoveredInstance(o,this.config.system.networkClient,this.browserStorage,s,this.logger)]):[3,2];case 1:return[2,$.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,AuthorityFactory.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,s,this.logger)];case 3:return[2,$.sent()]}})})},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var StandardInteractionClient=function(a){__extends$1(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.initializeAuthorizationCodeRequest=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j;return __generator$1(this,function(_e){switch(_e.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest,s.correlationId),this.logger.verbose("initializeAuthorizationRequest called",s.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return $=_e.sent(),j=__assign$1(__assign$1({},s),{redirectUri:s.redirectUri,code:Constants.EMPTY_STRING,codeVerifier:$.verifier}),s.codeChallenge=$.challenge,s.codeChallengeMethod=Constants.S256_CODE_CHALLENGE_METHOD,[2,j]}})})},o.prototype.initializeLogoutRequest=function(s){this.logger.verbose("initializeLogoutRequest called",s==null?void 0:s.correlationId);var $=__assign$1({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},s);if(s)if(s.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(s.account){var j=this.getLogoutHintFromIdTokenClaims(s.account);j&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),$.logoutHint=j)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!s||s.postLogoutRedirectUri!==null?s&&s.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",$.correlationId),$.postLogoutRedirectUri=UrlString.getAbsoluteUrl(s.postLogoutRedirectUri,BrowserUtils.getCurrentUri())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",$.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",$.correlationId),$.postLogoutRedirectUri=UrlString.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,BrowserUtils.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",$.correlationId),$.postLogoutRedirectUri=UrlString.getAbsoluteUrl(BrowserUtils.getCurrentUri(),BrowserUtils.getCurrentUri())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",$.correlationId),$},o.prototype.getLogoutHintFromIdTokenClaims=function(s){var $=s.idTokenClaims;if($){if($.login_hint)return $.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},o.prototype.createAuthCodeClient=function(s,$,j){return __awaiter$1(this,void 0,void 0,function(){var _e;return __generator$1(this,function(et){switch(et.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,this.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(s,$,j)];case 1:return _e=et.sent(),[2,new AuthorizationCodeClient(_e,this.performanceClient)]}})})},o.prototype.getClientConfiguration=function(s,$,j){return __awaiter$1(this,void 0,void 0,function(){var _e,et;return __generator$1(this,function(tt){switch(tt.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.StandardInteractionClientGetClientConfiguration,this.correlationId),this.logger.verbose("getClientConfiguration called",this.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),[4,this.getDiscoveredAuthority($,j)];case 1:return _e=tt.sent(),et=this.config.system.loggerOptions,[2,{authOptions:{clientId:this.config.auth.clientId,authority:_e,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:et.loggerCallback,piiLoggingEnabled:et.piiLoggingEnabled,logLevel:et.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:s,libraryInfo:{sku:BrowserConstants.MSAL_SKU,version:version$2,cpu:Constants.EMPTY_STRING,os:Constants.EMPTY_STRING},telemetry:this.config.telemetry}]}})})},o.prototype.validateAndExtractStateFromHash=function(s,$,j){if(this.logger.verbose("validateAndExtractStateFromHash called",j),!s.state)throw BrowserAuthError.createHashDoesNotContainStateError();var _e=BrowserProtocolUtils.extractBrowserRequestState(this.browserCrypto,s.state);if(!_e)throw BrowserAuthError.createUnableToParseStateError();if(_e.interactionType!==$)throw BrowserAuthError.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",j),s.state},o.prototype.getDiscoveredAuthority=function(s,$){var j;return __awaiter$1(this,void 0,void 0,function(){var _e,et,tt,rt;return __generator$1(this,function(nt){switch(nt.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),this.logger.verbose("getDiscoveredAuthority called",this.correlationId),_e=(j=this.performanceClient)===null||j===void 0?void 0:j.startMeasurement(PerformanceEvents.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),et={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},tt=s||this.config.auth.authority,rt=Authority.generateAuthority(tt,$||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.AuthorityFactoryCreateDiscoveredInstance,this.correlationId),[4,AuthorityFactory.createDiscoveredInstance(rt,this.config.system.networkClient,this.browserStorage,et,this.logger,this.performanceClient,this.correlationId).then(function(it){return _e.endMeasurement({success:!0}),it}).catch(function(it){throw _e.endMeasurement({errorCode:it.errorCode,subErrorCode:it.subError,success:!1}),it})];case 1:return[2,nt.sent()]}})})},o.prototype.initializeAuthorizationRequest=function(s,$){return __awaiter$1(this,void 0,void 0,function(){var j,_e,et,tt,rt,nt,it;return __generator$1(this,function(ot){switch(ot.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId),this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),j=this.getRedirectUri(s.redirectUri),_e={interactionType:$},et=ProtocolUtils.setRequestState(this.browserCrypto,s&&s.state||Constants.EMPTY_STRING,_e),this.performanceClient.setPreQueueTime(PerformanceEvents.InitializeBaseRequest,this.correlationId),rt=[{}],[4,this.initializeBaseRequest(s)];case 1:return tt=__assign$1.apply(void 0,[__assign$1.apply(void 0,rt.concat([ot.sent()])),{redirectUri:j,state:et,nonce:s.nonce||this.browserCrypto.createNewGuid(),responseMode:ResponseMode.FRAGMENT}]),nt=s.account||this.browserStorage.getActiveAccount(),nt&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+nt.homeAccountId,this.correlationId),tt.account=nt),StringUtils.isEmpty(tt.loginHint)&&!nt&&(it=this.browserStorage.getLegacyLoginHint(),it&&(tt.loginHint=it)),[2,tt]}})})},o}(BaseInteractionClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var InteractionHandler=function(){function a(o,s,$,j,_e){this.authModule=o,this.browserStorage=s,this.authCodeRequest=$,this.logger=j,this.performanceClient=_e}return a.prototype.handleCodeResponseFromHash=function(o,s,$,j){return __awaiter$1(this,void 0,void 0,function(){var _e,et,tt;return __generator$1(this,function(rt){if(this.performanceClient.addQueueMeasurement(PerformanceEvents.HandleCodeResponseFromHash,this.authCodeRequest.correlationId),this.logger.verbose("InteractionHandler.handleCodeResponse called"),StringUtils.isEmpty(o))throw BrowserAuthError.createEmptyHashError(o);if(_e=this.browserStorage.generateStateKey(s),et=this.browserStorage.getTemporaryCache(_e),!et)throw ClientAuthError.createStateNotFoundError("Cached State");try{tt=this.authModule.handleFragmentResponse(o,et)}catch(nt){throw nt instanceof ServerError&&nt.subError===BrowserAuthErrorMessage.userCancelledError.code?BrowserAuthError.createUserCancelledError():nt}return this.performanceClient.setPreQueueTime(PerformanceEvents.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),[2,this.handleCodeResponseFromServer(tt,s,$,j)]})})},a.prototype.handleCodeResponseFromServer=function(o,s,$,j,_e){return _e===void 0&&(_e=!0),__awaiter$1(this,void 0,void 0,function(){var et,tt,rt,nt,it,ot;return __generator$1(this,function(at){switch(at.label){case 0:if(this.performanceClient.addQueueMeasurement(PerformanceEvents.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),et=this.browserStorage.generateStateKey(s),tt=this.browserStorage.getTemporaryCache(et),!tt)throw ClientAuthError.createStateNotFoundError("Cached State");return rt=this.browserStorage.generateNonceKey(tt),nt=this.browserStorage.getTemporaryCache(rt),this.authCodeRequest.code=o.code,o.cloud_instance_host_name?(this.performanceClient.setPreQueueTime(PerformanceEvents.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),[4,this.updateTokenEndpointAuthority(o.cloud_instance_host_name,$,j)]):[3,2];case 1:at.sent(),at.label=2;case 2:return _e&&(o.nonce=nt||void 0),o.state=tt,o.client_info?this.authCodeRequest.clientInfo=o.client_info:(it=this.checkCcsCredentials(),it&&(this.authCodeRequest.ccsCredential=it)),this.performanceClient.setPreQueueTime(PerformanceEvents.AuthClientAcquireToken,this.authCodeRequest.correlationId),[4,this.authModule.acquireToken(this.authCodeRequest,o)];case 3:return ot=at.sent(),this.browserStorage.cleanRequestByState(s),[2,ot]}})})},a.prototype.updateTokenEndpointAuthority=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){var j,_e;return __generator$1(this,function(et){switch(et.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),j="https://"+o+"/"+s.tenant+"/",[4,AuthorityFactory.createDiscoveredInstance(j,$,this.browserStorage,s.options,this.logger,this.performanceClient,this.authCodeRequest.correlationId)];case 1:return _e=et.sent(),this.authModule.updateAuthority(_e),[2]}})})},a.prototype.checkCcsCredentials=function(){var o=this.browserStorage.getTemporaryCache(TemporaryCacheKeys.CCS_CREDENTIAL,!0);if(o)try{return JSON.parse(o)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+o)}return null},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var RedirectHandler=function(a){__extends$1(o,a);function o(s,$,j,_e,et,tt){var rt=a.call(this,s,$,j,_e,tt)||this;return rt.browserCrypto=et,rt}return o.prototype.initiateAuthRequest=function(s,$){return __awaiter$1(this,void 0,void 0,function(){var j,_e;return __generator$1(this,function(et){switch(et.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),StringUtils.isEmpty(s)?[3,7]:($.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(TemporaryCacheKeys.ORIGIN_URI,$.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(TemporaryCacheKeys.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+s),j={apiId:ApiId.acquireTokenRedirect,timeout:$.redirectTimeout,noHistory:!1},typeof $.onRedirectNavigate!="function"?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),_e=$.onRedirectNavigate(s),_e===!1?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,$.navigationClient.navigateExternal(s,j)])));case 1:return et.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,$.navigationClient.navigateExternal(s,j)];case 5:return et.sent(),[2];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),BrowserAuthError.createEmptyNavigationUriError();case 8:return[2]}})})},o.prototype.handleCodeResponseFromHash=function(s,$,j,_e){return __awaiter$1(this,void 0,void 0,function(){var et,tt,rt,nt,it,ot,at;return __generator$1(this,function(ut){switch(ut.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),StringUtils.isEmpty(s))throw BrowserAuthError.createEmptyHashError(s);if(this.browserStorage.setInteractionInProgress(!1),et=this.browserStorage.generateStateKey($),tt=this.browserStorage.getTemporaryCache(et),!tt)throw ClientAuthError.createStateNotFoundError("Cached State");try{rt=this.authModule.handleFragmentResponse(s,tt)}catch(ht){throw ht instanceof ServerError&&ht.subError===BrowserAuthErrorMessage.userCancelledError.code?BrowserAuthError.createUserCancelledError():ht}return nt=this.browserStorage.generateNonceKey(tt),it=this.browserStorage.getTemporaryCache(nt),this.authCodeRequest.code=rt.code,rt.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(rt.cloud_instance_host_name,j,_e)]:[3,2];case 1:ut.sent(),ut.label=2;case 2:return rt.nonce=it||void 0,rt.state=tt,rt.client_info?this.authCodeRequest.clientInfo=rt.client_info:(ot=this.checkCcsCredentials(),ot&&(this.authCodeRequest.ccsCredential=ot)),[4,this.authModule.acquireToken(this.authCodeRequest,rt)];case 3:return at=ut.sent(),this.browserStorage.cleanRequestByState($),[2,at]}})})},o}(InteractionHandler);/*! @azure/msal-browser v2.37.0 2023-05-01 */var EventType;(function(a){a.INITIALIZE_START="msal:initializeStart",a.INITIALIZE_END="msal:initializeEnd",a.ACCOUNT_ADDED="msal:accountAdded",a.ACCOUNT_REMOVED="msal:accountRemoved",a.LOGIN_START="msal:loginStart",a.LOGIN_SUCCESS="msal:loginSuccess",a.LOGIN_FAILURE="msal:loginFailure",a.ACQUIRE_TOKEN_START="msal:acquireTokenStart",a.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",a.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",a.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",a.SSO_SILENT_START="msal:ssoSilentStart",a.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",a.SSO_SILENT_FAILURE="msal:ssoSilentFailure",a.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",a.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",a.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",a.HANDLE_REDIRECT_START="msal:handleRedirectStart",a.HANDLE_REDIRECT_END="msal:handleRedirectEnd",a.POPUP_OPENED="msal:popupOpened",a.LOGOUT_START="msal:logoutStart",a.LOGOUT_SUCCESS="msal:logoutSuccess",a.LOGOUT_FAILURE="msal:logoutFailure",a.LOGOUT_END="msal:logoutEnd"})(EventType||(EventType={}));/*! @azure/msal-browser v2.37.0 2023-05-01 */var NativeStatusCode;(function(a){a.USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",a.USER_CANCEL="USER_CANCEL",a.NO_NETWORK="NO_NETWORK",a.TRANSIENT_ERROR="TRANSIENT_ERROR",a.PERSISTENT_ERROR="PERSISTENT_ERROR",a.DISABLED="DISABLED",a.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE"})(NativeStatusCode||(NativeStatusCode={}));var NativeAuthErrorMessage={extensionError:{code:"ContentError"},userSwitch:{code:"user_switch",desc:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},tokensNotFoundInCache:{code:"tokens_not_found_in_internal_memory_cache",desc:"Tokens not cached in MSAL JS internal memory, please make the WAM request"}},NativeAuthError=function(a){__extends$1(o,a);function o(s,$,j){var _e=a.call(this,s,$)||this;return Object.setPrototypeOf(_e,o.prototype),_e.name="NativeAuthError",_e.ext=j,_e}return o.prototype.isFatal=function(){if(this.ext&&this.ext.status&&(this.ext.status===NativeStatusCode.PERSISTENT_ERROR||this.ext.status===NativeStatusCode.DISABLED))return!0;switch(this.errorCode){case NativeAuthErrorMessage.extensionError.code:return!0;default:return!1}},o.createError=function(s,$,j){if(j&&j.status)switch(j.status){case NativeStatusCode.ACCOUNT_UNAVAILABLE:return InteractionRequiredAuthError.createNativeAccountUnavailableError();case NativeStatusCode.USER_INTERACTION_REQUIRED:return new InteractionRequiredAuthError(s,$);case NativeStatusCode.USER_CANCEL:return BrowserAuthError.createUserCancelledError();case NativeStatusCode.NO_NETWORK:return BrowserAuthError.createNoNetworkConnectivityError()}return new o(s,$,j)},o.createUserSwitchError=function(){return new o(NativeAuthErrorMessage.userSwitch.code,NativeAuthErrorMessage.userSwitch.desc)},o.createTokensNotFoundInCacheError=function(){return new o(NativeAuthErrorMessage.tokensNotFoundInCache.code,NativeAuthErrorMessage.tokensNotFoundInCache.desc)},o}(AuthError);/*! @azure/msal-browser v2.37.0 2023-05-01 */var SilentCacheClient=function(a){__extends$1(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.acquireToken=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt;return __generator$1(this,function(rt){switch(rt.label){case 0:return $=this.performanceClient.startMeasurement(PerformanceEvents.SilentCacheClientAcquireToken,s.correlationId),j=this.initializeServerTelemetryManager(ApiId.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(j,s.authority,s.azureCloudOptions)];case 1:_e=rt.sent(),this.logger.verbose("Silent auth client created"),rt.label=2;case 2:return rt.trys.push([2,4,,5]),[4,_e.acquireCachedToken(s)];case 3:return et=rt.sent(),$.endMeasurement({success:!0,fromCache:!0}),[2,et];case 4:throw tt=rt.sent(),tt instanceof BrowserAuthError&&tt.errorCode===BrowserAuthErrorMessage.signingKeyNotFoundInStorage.code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),$.endMeasurement({errorCode:tt instanceof AuthError&&tt.errorCode||void 0,subErrorCode:tt instanceof AuthError&&tt.subError||void 0,success:!1}),tt;case 5:return[2]}})})},o.prototype.logout=function(){return Promise.reject(BrowserAuthError.createSilentLogoutUnsupportedError())},o.prototype.createSilentFlowClient=function(s,$,j){return __awaiter$1(this,void 0,void 0,function(){var _e;return __generator$1(this,function(et){switch(et.label){case 0:return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(s,$,j)];case 1:return _e=et.sent(),[2,new SilentFlowClient(_e,this.performanceClient)]}})})},o.prototype.initializeSilentRequest=function(s,$){return __awaiter$1(this,void 0,void 0,function(){var j;return __generator$1(this,function(_e){switch(_e.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.InitializeSilentRequest,this.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.InitializeBaseRequest,this.correlationId),j=[__assign$1({},s)],[4,this.initializeBaseRequest(s)];case 1:return[2,__assign$1.apply(void 0,[__assign$1.apply(void 0,j.concat([_e.sent()])),{account:$,forceRefresh:s.forceRefresh||!1}])]}})})},o}(StandardInteractionClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var NativeInteractionClient=function(a){__extends$1(o,a);function o(s,$,j,_e,et,tt,rt,nt,it,ot,at,ut){var ht=a.call(this,s,$,j,_e,et,tt,nt,it,ut)||this;return ht.apiId=rt,ht.accountId=ot,ht.nativeMessageHandler=it,ht.nativeStorageManager=at,ht.silentCacheClient=new SilentCacheClient(s,ht.nativeStorageManager,j,_e,et,tt,nt,it,ut),ht}return o.prototype.acquireToken=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt,rt,nt;return __generator$1(this,function(it){switch(it.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),$=this.performanceClient.startMeasurement(PerformanceEvents.NativeInteractionClientAcquireToken,s.correlationId),j=TimeUtils.nowSeconds(),[4,this.initializeNativeRequest(s)];case 1:_e=it.sent(),it.label=2;case 2:return it.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,_e)];case 3:return et=it.sent(),$.endMeasurement({success:!0,isNativeBroker:!1,fromCache:!0}),[2,et];case 4:return it.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return tt={method:NativeExtensionMethod.GetToken,request:_e},[4,this.nativeMessageHandler.sendMessage(tt)];case 6:return rt=it.sent(),nt=this.validateNativeResponse(rt),[2,this.handleNativeResponse(nt,_e,j).then(function(ot){return $.endMeasurement({success:!0,isNativeBroker:!0,requestId:ot.requestId}),ot}).catch(function(ot){throw $.endMeasurement({success:!1,errorCode:ot.errorCode,subErrorCode:ot.subError,isNativeBroker:!0}),ot})]}})})},o.prototype.createSilentCacheRequest=function(s,$){return{authority:s.authority,correlationId:this.correlationId,scopes:ScopeSet.fromString(s.scope).asArray(),account:$,forceRefresh:!1}},o.prototype.acquireTokensFromCache=function(s,$){return __awaiter$1(this,void 0,void 0,function(){var j,_e,et,tt;return __generator$1(this,function(rt){switch(rt.label){case 0:if(!s)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),ClientAuthError.createNoAccountFoundError();if(j=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:s}),!j)throw ClientAuthError.createNoAccountFoundError();rt.label=1;case 1:return rt.trys.push([1,3,,4]),_e=this.createSilentCacheRequest($,j),[4,this.silentCacheClient.acquireToken(_e)];case 2:return et=rt.sent(),[2,et];case 3:throw tt=rt.sent(),tt;case 4:return[2]}})})},o.prototype.acquireTokenRedirect=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt,rt;return __generator$1(this,function(nt){switch(nt.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(s)];case 1:$=nt.sent(),j={method:NativeExtensionMethod.GetToken,request:$},nt.label=2;case 2:return nt.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(j)];case 3:return _e=nt.sent(),this.validateNativeResponse(_e),[3,5];case 4:if(et=nt.sent(),et instanceof NativeAuthError&&et.isFatal())throw et;return[3,5];case 5:return this.browserStorage.setTemporaryCache(TemporaryCacheKeys.NATIVE_REQUEST,JSON.stringify($),!0),tt={apiId:ApiId.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},rt=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(s.redirectUri),[4,this.navigationClient.navigateExternal(rt,tt)];case 6:return nt.sent(),[2]}})})},o.prototype.handleRedirectPromise=function(){return __awaiter$1(this,void 0,void 0,function(){var s,$,j,_e,et,tt,rt,nt;return __generator$1(this,function(it){switch(it.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(s=this.browserStorage.getCachedNativeRequest(),!s)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];$=s.prompt,j=__rest(s,["prompt"]),$&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(TemporaryCacheKeys.NATIVE_REQUEST)),_e={method:NativeExtensionMethod.GetToken,request:j},et=TimeUtils.nowSeconds(),it.label=1;case 1:return it.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(_e)];case 2:return tt=it.sent(),this.validateNativeResponse(tt),rt=this.handleNativeResponse(tt,j,et),this.browserStorage.setInteractionInProgress(!1),[2,rt];case 3:throw nt=it.sent(),this.browserStorage.setInteractionInProgress(!1),nt;case 4:return[2]}})})},o.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},o.prototype.handleNativeResponse=function(s,$,j){return __awaiter$1(this,void 0,void 0,function(){var _e,et,tt,rt,nt,it;return __generator$1(this,function(ot){switch(ot.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),s.account.id!==$.accountId)throw NativeAuthError.createUserSwitchError();return[4,this.getDiscoveredAuthority($.authority)];case 1:return _e=ot.sent(),et=_e.getPreferredCache(),tt=this.createIdTokenObj(s),rt=this.createHomeAccountIdentifier(s,tt),nt=this.createAccountEntity(s,rt,tt,et),[4,this.generateAuthenticationResult(s,$,tt,nt,_e.canonicalAuthority,j)];case 2:return it=ot.sent(),this.cacheAccount(nt),this.cacheNativeTokens(s,$,rt,tt,it.accessToken,it.tenantId,j),[2,it]}})})},o.prototype.createIdTokenObj=function(s){return new AuthToken(s.id_token||Constants.EMPTY_STRING,this.browserCrypto)},o.prototype.createHomeAccountIdentifier=function(s,$){var j=AccountEntity.generateHomeAccountId(s.client_info||Constants.EMPTY_STRING,AuthorityType.Default,this.logger,this.browserCrypto,$);return j},o.prototype.createAccountEntity=function(s,$,j,_e){return AccountEntity.createAccount(s.client_info,$,j,void 0,void 0,void 0,_e,s.account.id)},o.prototype.generateScopes=function(s,$){return s.scope?ScopeSet.fromString(s.scope):ScopeSet.fromString($.scope)},o.prototype.generatePopAccessToken=function(s,$){return __awaiter$1(this,void 0,void 0,function(){var j,_e;return __generator$1(this,function(et){switch(et.label){case 0:if($.tokenType!==AuthenticationScheme.POP)return[3,2];if(s.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),[2,s.shr];if(j=new PopTokenGenerator(this.browserCrypto),_e={resourceRequestMethod:$.resourceRequestMethod,resourceRequestUri:$.resourceRequestUri,shrClaims:$.shrClaims,shrNonce:$.shrNonce},!$.keyId)throw ClientAuthError.createKeyIdMissingError();return[4,j.signPopToken(s.access_token,$.keyId,_e)];case 1:return[2,et.sent()];case 2:return[2,s.access_token]}})})},o.prototype.generateAuthenticationResult=function(s,$,j,_e,et,tt){return __awaiter$1(this,void 0,void 0,function(){var rt,nt,it,ot,at,ut,ht,pt;return __generator$1(this,function(Ct){switch(Ct.label){case 0:return rt=this.addTelemetryFromNativeResponse(s),nt=s.scope?ScopeSet.fromString(s.scope):ScopeSet.fromString($.scope),it=s.account.properties||{},ot=it.UID||j.claims.oid||j.claims.sub||Constants.EMPTY_STRING,at=it.TenantId||j.claims.tid||Constants.EMPTY_STRING,[4,this.generatePopAccessToken(s,$)];case 1:return ut=Ct.sent(),ht=$.tokenType===AuthenticationScheme.POP?AuthenticationScheme.POP:AuthenticationScheme.BEARER,pt={authority:et,uniqueId:ot,tenantId:at,scopes:nt.asArray(),account:_e.getAccountInfo(),idToken:s.id_token,idTokenClaims:j.claims,accessToken:ut,fromCache:rt?this.isResponseFromCache(rt):!1,expiresOn:new Date(Number(tt+s.expires_in)*1e3),tokenType:ht,correlationId:this.correlationId,state:s.state,fromNativeBroker:!0},[2,pt]}})})},o.prototype.cacheAccount=function(s){var $=this;this.browserStorage.setAccount(s),this.browserStorage.removeAccountContext(s).catch(function(j){$.logger.error("Error occurred while removing account context from browser storage. "+j)})},o.prototype.cacheNativeTokens=function(s,$,j,_e,et,tt,rt){var nt=IdTokenEntity.createIdTokenEntity(j,$.authority,s.id_token||Constants.EMPTY_STRING,$.clientId,_e.claims.tid||Constants.EMPTY_STRING);this.nativeStorageManager.setIdTokenCredential(nt);var it=$.tokenType===AuthenticationScheme.POP?Constants.SHR_NONCE_VALIDITY:(typeof s.expires_in=="string"?parseInt(s.expires_in,10):s.expires_in)||0,ot=rt+it,at=this.generateScopes(s,$),ut=AccessTokenEntity.createAccessTokenEntity(j,$.authority,et,$.clientId,tt,at.printScopes(),ot,0,this.browserCrypto);this.nativeStorageManager.setAccessTokenCredential(ut)},o.prototype.addTelemetryFromNativeResponse=function(s){var $=this.getMATSFromResponse(s);return $?(this.performanceClient.addStaticFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:$.broker_version,matsAccountJoinOnStart:$.account_join_on_start,matsAccountJoinOnEnd:$.account_join_on_end,matsDeviceJoin:$.device_join,matsPromptBehavior:$.prompt_behavior,matsApiErrorCode:$.api_error_code,matsUiVisible:$.ui_visible,matsSilentCode:$.silent_code,matsSilentBiSubCode:$.silent_bi_sub_code,matsSilentMessage:$.silent_message,matsSilentStatus:$.silent_status,matsHttpStatus:$.http_status,matsHttpEventCount:$.http_event_count},this.correlationId),$):null},o.prototype.validateNativeResponse=function(s){if(s.hasOwnProperty("access_token")&&s.hasOwnProperty("id_token")&&s.hasOwnProperty("client_info")&&s.hasOwnProperty("account")&&s.hasOwnProperty("scope")&&s.hasOwnProperty("expires_in"))return s;throw NativeAuthError.createUnexpectedError("Response missing expected properties.")},o.prototype.getMATSFromResponse=function(s){if(s.properties.MATS)try{return JSON.parse(s.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},o.prototype.isResponseFromCache=function(s){return typeof s.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!s.is_cached},o.prototype.initializeNativeRequest=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt,rt,nt,it,ot,at,ut=this;return __generator$1(this,function(ht){switch(ht.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),$=s.authority||this.config.auth.authority,j=new UrlString($),j.validateAsUri(),_e=s.scopes,et=__rest(s,["scopes"]),tt=new ScopeSet(_e||[]),tt.appendScopes(OIDC_DEFAULT_SCOPES),rt=function(){switch(ut.apiId){case ApiId.ssoSilent:case ApiId.acquireTokenSilent_silentFlow:return ut.logger.trace("initializeNativeRequest: silent request sets prompt to none"),PromptValue.NONE}if(!s.prompt){ut.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(s.prompt){case PromptValue.NONE:case PromptValue.CONSENT:case PromptValue.LOGIN:return ut.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),s.prompt;default:throw ut.logger.trace("initializeNativeRequest: prompt = "+s.prompt+" is not compatible with native flow"),BrowserAuthError.createNativePromptParameterNotSupportedError()}},nt=__assign$1(__assign$1({},et),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:j.urlString,scope:tt.printScopes(),redirectUri:this.getRedirectUri(s.redirectUri),prompt:rt(),correlationId:this.correlationId,tokenType:s.authenticationScheme,windowTitleSubstring:document.title,extraParameters:__assign$1(__assign$1(__assign$1({},s.extraQueryParameters),s.tokenQueryParameters),{telemetry:NativeConstants.MATS_TELEMETRY}),extendedExpiryToken:!1}),s.authenticationScheme!==AuthenticationScheme.POP?[3,2]:(it={resourceRequestUri:s.resourceRequestUri,resourceRequestMethod:s.resourceRequestMethod,shrClaims:s.shrClaims,shrNonce:s.shrNonce},ot=new PopTokenGenerator(this.browserCrypto),[4,ot.generateCnf(it)]);case 1:at=ht.sent(),nt.reqCnf=at.reqCnfHash,nt.keyId=at.kid,ht.label=2;case 2:return[2,nt]}})})},o}(BaseInteractionClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var NativeMessageHandler=function(){function a(o,s,$,j){this.logger=o,this.handshakeTimeoutMs=s,this.extensionId=j,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=$,this.handshakeEvent=$.startMeasurement(PerformanceEvents.NativeMessageHandlerHandshake)}return a.prototype.sendMessage=function(o){return __awaiter$1(this,void 0,void 0,function(){var s,$=this;return __generator$1(this,function(j){return this.logger.trace("NativeMessageHandler - sendMessage called."),s={channel:NativeConstants.CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:o},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(s)),this.messageChannel.port1.postMessage(s),[2,new Promise(function(_e,et){$.resolvers.set(s.responseId,{resolve:_e,reject:et})})]})})},a.createProvider=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){var j,_e;return __generator$1(this,function(et){switch(et.label){case 0:o.trace("NativeMessageHandler - createProvider called."),et.label=1;case 1:return et.trys.push([1,3,,5]),j=new a(o,s,$,NativeConstants.PREFERRED_EXTENSION_ID),[4,j.sendHandshakeRequest()];case 2:return et.sent(),[2,j];case 3:return et.sent(),_e=new a(o,s,$),[4,_e.sendHandshakeRequest()];case 4:return et.sent(),[2,_e];case 5:return[2]}})})},a.prototype.sendHandshakeRequest=function(){return __awaiter$1(this,void 0,void 0,function(){var o,s=this;return __generator$1(this,function($){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),o={channel:NativeConstants.CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:{method:NativeExtensionMethod.HandshakeRequest}},this.handshakeEvent.addStaticFields({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=function(j){s.onChannelMessage(j)},window.postMessage(o,window.origin,[this.messageChannel.port2]),[2,new Promise(function(j,_e){s.handshakeResolvers.set(o.responseId,{resolve:j,reject:_e}),s.timeoutId=window.setTimeout(function(){window.removeEventListener("message",s.windowListener,!1),s.messageChannel.port1.close(),s.messageChannel.port2.close(),s.handshakeEvent.endMeasurement({extensionHandshakeTimedOut:!0,success:!1}),_e(BrowserAuthError.createNativeHandshakeTimeoutError()),s.handshakeResolvers.delete(o.responseId)},s.handshakeTimeoutMs)})]})})},a.prototype.onWindowMessage=function(o){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),o.source===window){var s=o.data;if(!(!s.channel||s.channel!==NativeConstants.CHANNEL_ID)&&!(s.extensionId&&s.extensionId!==this.extensionId)&&s.body.method===NativeExtensionMethod.HandshakeRequest){this.logger.verbose(s.extensionId?"Extension with id: "+s.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1);var $=this.handshakeResolvers.get(s.responseId);$&&(this.handshakeEvent.endMeasurement({success:!1,extensionInstalled:!1}),$.reject(BrowserAuthError.createNativeExtensionNotInstalledError()))}}},a.prototype.onChannelMessage=function(o){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var s=o.data,$=this.resolvers.get(s.responseId),j=this.handshakeResolvers.get(s.responseId);try{var _e=s.body.method;if(_e===NativeExtensionMethod.Response){if(!$)return;var et=s.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(et)),et.status!=="Success")$.reject(NativeAuthError.createError(et.code,et.description,et.ext));else if(et.result)et.result.code&&et.result.description?$.reject(NativeAuthError.createError(et.result.code,et.result.description,et.result.ext)):$.resolve(et.result);else throw AuthError.createUnexpectedError("Event does not contain result.");this.resolvers.delete(s.responseId)}else if(_e===NativeExtensionMethod.HandshakeResponse){if(!j)return;clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=s.extensionId,this.extensionVersion=s.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),this.handshakeEvent.endMeasurement({extensionInstalled:!0,success:!0}),j.resolve(),this.handshakeResolvers.delete(s.responseId)}}catch(tt){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+tt.toString()),this.logger.errorPii("Unable to parse "+o),$?$.reject(tt):j&&j.reject(tt)}},a.prototype.getExtensionId=function(){return this.extensionId},a.prototype.getExtensionVersion=function(){return this.extensionVersion},a.isNativeAvailable=function(o,s,$,j){if(s.trace("isNativeAvailable called"),!o.system.allowNativeBroker)return s.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!$)return s.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(j)switch(j){case AuthenticationScheme.BEARER:case AuthenticationScheme.POP:return s.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return s.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var RedirectClient=function(a){__extends$1(o,a);function o(s,$,j,_e,et,tt,rt,nt,it,ot){var at=a.call(this,s,$,j,_e,et,tt,rt,it,ot)||this;return at.nativeStorage=nt,at}return o.prototype.acquireToken=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt,rt,nt,it,ot,at=this;return __generator$1(this,function(ut){switch(ut.label){case 0:return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,s.correlationId),[4,this.initializeAuthorizationRequest(s,InteractionType.Redirect)];case 1:$=ut.sent(),this.browserStorage.updateCacheEntries($.state,$.nonce,$.authority,$.loginHint||Constants.EMPTY_STRING,$.account||null),j=this.initializeServerTelemetryManager(ApiId.acquireTokenRedirect),_e=function(ht){ht.persisted&&(at.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),at.browserStorage.cleanRequestByState($.state))},ut.label=2;case 2:return ut.trys.push([2,7,,8]),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest,s.correlationId),[4,this.initializeAuthorizationCodeRequest($)];case 3:return et=ut.sent(),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,s.correlationId),[4,this.createAuthCodeClient(j,$.authority,$.azureCloudOptions)];case 4:return tt=ut.sent(),this.logger.verbose("Auth code client created"),rt=new RedirectHandler(tt,this.browserStorage,et,this.logger,this.browserCrypto,this.performanceClient),[4,tt.getAuthCodeUrl(__assign$1(__assign$1({},$),{nativeBroker:NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,s.authenticationScheme)}))];case 5:return nt=ut.sent(),it=this.getRedirectStartPage(s.redirectStartPage),this.logger.verbosePii("Redirect start page: "+it),window.addEventListener("pageshow",_e),[4,rt.initiateAuthRequest(nt,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:it,onRedirectNavigate:s.onRedirectNavigate})];case 6:return[2,ut.sent()];case 7:throw ot=ut.sent(),ot instanceof AuthError&&ot.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",_e),j.cacheFailedRequest(ot),this.browserStorage.cleanRequestByState($.state),ot;case 8:return[2]}})})},o.prototype.handleRedirectPromise=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt,rt,nt,it,ot,at,ut,ht;return __generator$1(this,function(pt){switch(pt.label){case 0:$=this.initializeServerTelemetryManager(ApiId.handleRedirectPromise),pt.label=1;case 1:if(pt.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(j=this.getRedirectResponseHash(s||window.location.hash),!j)return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(InteractionType.Redirect),[2,null];_e=void 0;try{et=UrlString.getDeserializedHash(j),_e=this.validateAndExtractStateFromHash(et,InteractionType.Redirect),this.logger.verbose("State extracted from hash")}catch(Ct){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+Ct),this.browserStorage.cleanRequestByInteractionType(InteractionType.Redirect),[2,null]}return tt=this.browserStorage.getTemporaryCache(TemporaryCacheKeys.ORIGIN_URI,!0)||Constants.EMPTY_STRING,rt=UrlString.removeHashFromUrl(tt),nt=UrlString.removeHashFromUrl(window.location.href),rt===nt&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(j,_e,$)]):[3,3];case 2:return it=pt.sent(),tt.indexOf("#")>-1&&BrowserUtils.replaceHash(tt),[2,it];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(j,_e,$)]);case 4:return!BrowserUtils.isInIframe()||this.config.system.allowRedirectInIframe?(this.browserStorage.setTemporaryCache(TemporaryCacheKeys.URL_HASH,j,!0),ot={apiId:ApiId.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},at=!0,!tt||tt==="null"?(ut=BrowserUtils.getHomepage(),this.browserStorage.setTemporaryCache(TemporaryCacheKeys.ORIGIN_URI,ut,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(ut,ot)]):[3,6]):[3,9];case 5:return at=pt.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+tt),[4,this.navigationClient.navigateInternal(tt,ot)];case 7:at=pt.sent(),pt.label=8;case 8:if(!at)return[2,this.handleHash(j,_e,$)];pt.label=9;case 9:return[2,null];case 10:throw ht=pt.sent(),ht instanceof AuthError&&ht.setCorrelationId(this.correlationId),$.cacheFailedRequest(ht),this.browserStorage.cleanRequestByInteractionType(InteractionType.Redirect),ht;case 11:return[2]}})})},o.prototype.getRedirectResponseHash=function(s){this.logger.verbose("getRedirectResponseHash called");var $=UrlString.hashContainsKnownProperties(s);if($)return BrowserUtils.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),s;var j=this.browserStorage.getTemporaryCache(TemporaryCacheKeys.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(TemporaryCacheKeys.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),j},o.prototype.handleHash=function(s,$,j){return __awaiter$1(this,void 0,void 0,function(){var _e,et,tt,rt,nt,it,ot,at=this;return __generator$1(this,function(ut){switch(ut.label){case 0:if(_e=this.browserStorage.getCachedRequest($,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),et=UrlString.getDeserializedHash(s),et.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw BrowserAuthError.createNativeConnectionNotEstablishedError();return tt=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,et.accountId,this.browserStorage,_e.correlationId),rt=ProtocolUtils.parseRequestState(this.browserCrypto,$).userRequestState,[2,tt.acquireToken(__assign$1(__assign$1({},_e),{state:rt,prompt:void 0})).finally(function(){at.browserStorage.cleanRequestByState($)})]}if(nt=this.browserStorage.getCachedAuthority($),!nt)throw BrowserAuthError.createNoCachedAuthorityError();return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,_e.correlationId),[4,this.createAuthCodeClient(j,nt)];case 1:return it=ut.sent(),this.logger.verbose("Auth code client created"),ThrottlingUtils.removeThrottle(this.browserStorage,this.config.auth.clientId,_e),ot=new RedirectHandler(it,this.browserStorage,_e,this.logger,this.browserCrypto,this.performanceClient),[4,ot.handleCodeResponseFromHash(s,$,it.authority,this.networkClient)];case 2:return[2,ut.sent()]}})})},o.prototype.logout=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt,rt,nt;return __generator$1(this,function(it){switch(it.label){case 0:this.logger.verbose("logoutRedirect called"),$=this.initializeLogoutRequest(s),j=this.initializeServerTelemetryManager(ApiId.logout),it.label=1;case 1:return it.trys.push([1,10,,11]),this.eventHandler.emitEvent(EventType.LOGOUT_START,InteractionType.Redirect,s),[4,this.clearCacheOnLogout($.account)];case 2:return it.sent(),_e={apiId:ApiId.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,$.correlationId),[4,this.createAuthCodeClient(j,s&&s.authority)];case 3:return et=it.sent(),this.logger.verbose("Auth code client created"),tt=et.getLogoutUri($),this.eventHandler.emitEvent(EventType.LOGOUT_SUCCESS,InteractionType.Redirect,$),s&&typeof s.onRedirectNavigate=="function"?(rt=s.onRedirectNavigate(tt),rt===!1?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(tt,_e)])):[3,7];case 4:return it.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),it.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(tt,_e)];case 8:return it.sent(),[2];case 9:return[3,11];case 10:throw nt=it.sent(),nt instanceof AuthError&&nt.setCorrelationId(this.correlationId),j.cacheFailedRequest(nt),this.eventHandler.emitEvent(EventType.LOGOUT_FAILURE,InteractionType.Redirect,null,nt),this.eventHandler.emitEvent(EventType.LOGOUT_END,InteractionType.Redirect),nt;case 11:return this.eventHandler.emitEvent(EventType.LOGOUT_END,InteractionType.Redirect),[2]}})})},o.prototype.getRedirectStartPage=function(s){var $=s||window.location.href;return UrlString.getAbsoluteUrl($,BrowserUtils.getCurrentUri())},o}(StandardInteractionClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var PopupClient=function(a){__extends$1(o,a);function o(s,$,j,_e,et,tt,rt,nt,it,ot){var at=a.call(this,s,$,j,_e,et,tt,rt,it,ot)||this;return at.unloadWindow=at.unloadWindow.bind(at),at.nativeStorage=nt,at}return o.prototype.acquireToken=function(s){try{var $=this.generatePopupName(s.scopes||OIDC_DEFAULT_SCOPES,s.authority||this.config.auth.authority),j=s.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(s,$,j);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var _e=this.openSizedPopup("about:blank",$,j);return this.acquireTokenPopupAsync(s,$,j,_e)}catch(et){return Promise.reject(et)}},o.prototype.logout=function(s){try{this.logger.verbose("logoutPopup called");var $=this.initializeLogoutRequest(s),j=this.generateLogoutPopupName($),_e=s&&s.authority,et=s&&s.mainWindowRedirectUri,tt=(s==null?void 0:s.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync($,j,tt,_e,void 0,et);this.logger.verbose("asyncPopup set to false, opening popup");var rt=this.openSizedPopup("about:blank",j,tt);return this.logoutPopupAsync($,j,tt,_e,rt,et)}catch(nt){return Promise.reject(nt)}},o.prototype.acquireTokenPopupAsync=function(s,$,j,_e){return __awaiter$1(this,void 0,void 0,function(){var et,tt,rt,nt,it,ot,at,ut,ht,pt,Ct,lt,ft,gt,St,It,vt,dt=this;return __generator$1(this,function(yt){switch(yt.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),et=this.initializeServerTelemetryManager(ApiId.acquireTokenPopup),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,s.correlationId),[4,this.initializeAuthorizationRequest(s,InteractionType.Popup)];case 1:tt=yt.sent(),this.browserStorage.updateCacheEntries(tt.state,tt.nonce,tt.authority,tt.loginHint||Constants.EMPTY_STRING,tt.account||null),yt.label=2;case 2:return yt.trys.push([2,8,,9]),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest,s.correlationId),[4,this.initializeAuthorizationCodeRequest(tt)];case 3:return rt=yt.sent(),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,s.correlationId),[4,this.createAuthCodeClient(et,tt.authority,tt.azureCloudOptions)];case 4:return nt=yt.sent(),this.logger.verbose("Auth code client created"),it=NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,s.authenticationScheme),ot=void 0,it&&(ot=this.performanceClient.startMeasurement(PerformanceEvents.FetchAccountIdWithNativeBroker,s.correlationId)),[4,nt.getAuthCodeUrl(__assign$1(__assign$1({},tt),{nativeBroker:it}))];case 5:return at=yt.sent(),ut=new InteractionHandler(nt,this.browserStorage,rt,this.logger,this.performanceClient),ht={popup:_e,popupName:$,popupWindowAttributes:j},pt=this.initiateAuthRequest(at,ht),this.eventHandler.emitEvent(EventType.POPUP_OPENED,InteractionType.Popup,{popupWindow:pt},null),[4,this.monitorPopupForHash(pt)];case 6:if(Ct=yt.sent(),lt=UrlString.getDeserializedHash(Ct),ft=this.validateAndExtractStateFromHash(lt,InteractionType.Popup,tt.correlationId),ThrottlingUtils.removeThrottle(this.browserStorage,this.config.auth.clientId,rt),lt.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),ot&&ot.endMeasurement({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw BrowserAuthError.createNativeConnectionNotEstablishedError();return gt=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,lt.accountId,this.nativeStorage,tt.correlationId),St=ProtocolUtils.parseRequestState(this.browserCrypto,ft).userRequestState,[2,gt.acquireToken(__assign$1(__assign$1({},tt),{state:St,prompt:void 0})).finally(function(){dt.browserStorage.cleanRequestByState(ft)})]}return[4,ut.handleCodeResponseFromHash(Ct,ft,nt.authority,this.networkClient)];case 7:return It=yt.sent(),[2,It];case 8:throw vt=yt.sent(),_e&&_e.close(),vt instanceof AuthError&&vt.setCorrelationId(this.correlationId),et.cacheFailedRequest(vt),this.browserStorage.cleanRequestByState(tt.state),vt;case 9:return[2]}})})},o.prototype.logoutPopupAsync=function(s,$,j,_e,et,tt){return __awaiter$1(this,void 0,void 0,function(){var rt,nt,it,ot,at,ut,ht;return __generator$1(this,function(pt){switch(pt.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(EventType.LOGOUT_START,InteractionType.Popup,s),rt=this.initializeServerTelemetryManager(ApiId.logoutPopup),pt.label=1;case 1:return pt.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(s.account)];case 2:return pt.sent(),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,s.correlationId),[4,this.createAuthCodeClient(rt,_e)];case 3:return nt=pt.sent(),this.logger.verbose("Auth code client created"),it=nt.getLogoutUri(s),this.eventHandler.emitEvent(EventType.LOGOUT_SUCCESS,InteractionType.Popup,s),ot=this.openPopup(it,{popupName:$,popupWindowAttributes:j,popup:et}),this.eventHandler.emitEvent(EventType.POPUP_OPENED,InteractionType.Popup,{popupWindow:ot},null),[4,this.waitForLogoutPopup(ot)];case 4:return pt.sent(),tt?(at={apiId:ApiId.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},ut=UrlString.getAbsoluteUrl(tt,BrowserUtils.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+ut),this.navigationClient.navigateInternal(ut,at)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw ht=pt.sent(),et&&et.close(),ht instanceof AuthError&&ht.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(EventType.LOGOUT_FAILURE,InteractionType.Popup,null,ht),this.eventHandler.emitEvent(EventType.LOGOUT_END,InteractionType.Popup),rt.cacheFailedRequest(ht),ht;case 6:return this.eventHandler.emitEvent(EventType.LOGOUT_END,InteractionType.Popup),[2]}})})},o.prototype.initiateAuthRequest=function(s,$){if(StringUtils.isEmpty(s))throw this.logger.error("Navigate url is empty"),BrowserAuthError.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+s),this.openPopup(s,$)},o.prototype.monitorPopupForHash=function(s){var $=this;return new Promise(function(j,_e){var et=$.config.system.windowHashTimeout/$.config.system.pollIntervalMilliseconds,tt=0;$.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var rt=setInterval(function(){if(s.closed){$.logger.error("PopupHandler.monitorPopupForHash - window closed"),$.cleanPopup(),clearInterval(rt),_e(BrowserAuthError.createUserCancelledError());return}var nt=Constants.EMPTY_STRING,it=Constants.EMPTY_STRING;try{nt=s.location.href,it=s.location.hash}catch{}StringUtils.isEmpty(nt)||nt==="about:blank"||($.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),tt++,it?($.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(rt),$.cleanPopup(s),UrlString.hashContainsKnownProperties(it)?($.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),j(it)):($.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),$.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+it),_e(BrowserAuthError.createHashDoesNotContainKnownPropertiesError()))):tt>et&&($.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(rt),_e(BrowserAuthError.createMonitorPopupTimeoutError())))},$.config.system.pollIntervalMilliseconds)})},o.prototype.waitForLogoutPopup=function(s){var $=this;return new Promise(function(j){$.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var _e=setInterval(function(){s.closed&&($.logger.error("PopupHandler.waitForLogoutPopup - window closed"),$.cleanPopup(),clearInterval(_e),j());var et=Constants.EMPTY_STRING;try{et=s.location.href}catch{}StringUtils.isEmpty(et)||et==="about:blank"||($.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(_e),$.cleanPopup(s),j())},$.config.system.pollIntervalMilliseconds)})},o.prototype.openPopup=function(s,$){try{var j=void 0;if($.popup?(j=$.popup,this.logger.verbosePii("Navigating popup window to: "+s),j.location.assign(s)):typeof $.popup>"u"&&(this.logger.verbosePii("Opening popup window to: "+s),j=this.openSizedPopup(s,$.popupName,$.popupWindowAttributes)),!j)throw BrowserAuthError.createEmptyWindowCreatedError();return j.focus&&j.focus(),this.currentWindow=j,window.addEventListener("beforeunload",this.unloadWindow),j}catch(_e){throw this.logger.error("error opening popup "+_e.message),this.browserStorage.setInteractionInProgress(!1),BrowserAuthError.createPopupWindowError(_e.toString())}},o.prototype.openSizedPopup=function(s,$,j){var _e,et,tt,rt,nt=window.screenLeft?window.screenLeft:window.screenX,it=window.screenTop?window.screenTop:window.screenY,ot=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,at=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ut=(_e=j.popupSize)===null||_e===void 0?void 0:_e.width,ht=(et=j.popupSize)===null||et===void 0?void 0:et.height,pt=(tt=j.popupPosition)===null||tt===void 0?void 0:tt.top,Ct=(rt=j.popupPosition)===null||rt===void 0?void 0:rt.left;return(!ut||ut<0||ut>ot)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),ut=BrowserConstants.POPUP_WIDTH),(!ht||ht<0||ht>at)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),ht=BrowserConstants.POPUP_HEIGHT),(!pt||pt<0||pt>at)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),pt=Math.max(0,at/2-BrowserConstants.POPUP_HEIGHT/2+it)),(!Ct||Ct<0||Ct>ot)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),Ct=Math.max(0,ot/2-BrowserConstants.POPUP_WIDTH/2+nt)),window.open(s,$,"width="+ut+", height="+ht+", top="+pt+", left="+Ct+", scrollbars=yes")},o.prototype.unloadWindow=function(s){this.browserStorage.cleanRequestByInteractionType(InteractionType.Popup),this.currentWindow&&this.currentWindow.close(),s.preventDefault()},o.prototype.cleanPopup=function(s){s&&s.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},o.prototype.generatePopupName=function(s,$){return BrowserConstants.POPUP_NAME_PREFIX+"."+this.config.auth.clientId+"."+s.join("-")+"."+$+"."+this.correlationId},o.prototype.generateLogoutPopupName=function(s){var $=s.account&&s.account.homeAccountId;return BrowserConstants.POPUP_NAME_PREFIX+"."+this.config.auth.clientId+"."+$+"."+this.correlationId},o}(StandardInteractionClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var NavigationClient=function(){function a(){}return a.prototype.navigateInternal=function(o,s){return a.defaultNavigateWindow(o,s)},a.prototype.navigateExternal=function(o,s){return a.defaultNavigateWindow(o,s)},a.defaultNavigateWindow=function(o,s){return s.noHistory?window.location.replace(o):window.location.assign(o),new Promise(function($){setTimeout(function(){$(!0)},s.timeout)})},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var DEFAULT_POPUP_TIMEOUT_MS=6e4,DEFAULT_IFRAME_TIMEOUT_MS=6e3,DEFAULT_REDIRECT_TIMEOUT_MS=3e4,DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS=2e3;function buildConfiguration(a,o){var s=a.auth,$=a.cache,j=a.system,_e=a.telemetry,et={clientId:Constants.EMPTY_STRING,authority:""+Constants.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:Constants.EMPTY_STRING,authorityMetadata:Constants.EMPTY_STRING,redirectUri:Constants.EMPTY_STRING,postLogoutRedirectUri:Constants.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:ProtocolMode.AAD,azureCloudOptions:{azureCloudInstance:AzureCloudInstance.None,tenant:Constants.EMPTY_STRING},skipAuthorityMetadataCache:!1},tt={cacheLocation:BrowserCacheLocation.SessionStorage,temporaryCacheLocation:BrowserCacheLocation.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!($&&$.cacheLocation===BrowserCacheLocation.LocalStorage)},rt={loggerCallback:function(){},logLevel:LogLevel.Info,piiLoggingEnabled:!1},nt=__assign$1(__assign$1({},DEFAULT_SYSTEM_OPTIONS),{loggerOptions:rt,networkClient:o?BrowserUtils.getBrowserNetworkClient():StubbedNetworkModule,navigationClient:new NavigationClient,loadFrameTimeout:0,windowHashTimeout:(j==null?void 0:j.loadFrameTimeout)||DEFAULT_POPUP_TIMEOUT_MS,iframeHashTimeout:(j==null?void 0:j.loadFrameTimeout)||DEFAULT_IFRAME_TIMEOUT_MS,navigateFrameWait:o&&BrowserUtils.detectIEOrEdge()?500:0,redirectNavigationTimeout:DEFAULT_REDIRECT_TIMEOUT_MS,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(j==null?void 0:j.nativeBrokerHandshakeTimeout)||DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS,pollIntervalMilliseconds:BrowserConstants.DEFAULT_POLL_INTERVAL_MS,cryptoOptions:{useMsrCrypto:!1,entropy:void 0}}),it=__assign$1(__assign$1({},j),{loggerOptions:(j==null?void 0:j.loggerOptions)||rt}),ot={application:{appName:Constants.EMPTY_STRING,appVersion:Constants.EMPTY_STRING}},at={auth:__assign$1(__assign$1({},et),s),cache:__assign$1(__assign$1({},tt),$),system:__assign$1(__assign$1({},nt),it),telemetry:__assign$1(__assign$1({},ot),_e)};return at}/*! @azure/msal-browser v2.37.0 2023-05-01 */var SilentHandler=function(a){__extends$1(o,a);function o(s,$,j,_e,et,tt){var rt=a.call(this,s,$,j,_e,tt)||this;return rt.navigateFrameWait=et.navigateFrameWait,rt.pollIntervalMilliseconds=et.pollIntervalMilliseconds,rt}return o.prototype.initiateAuthRequest=function(s){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function($){switch($.label){case 0:if(this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentHandlerInitiateAuthRequest,this.authCodeRequest.correlationId),StringUtils.isEmpty(s))throw this.logger.info("Navigate url is empty"),BrowserAuthError.createEmptyNavigationUriError();return this.navigateFrameWait?(this.performanceClient.setPreQueueTime(PerformanceEvents.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),[4,this.loadFrame(s)]):[3,2];case 1:return[2,$.sent()];case 2:return[2,this.loadFrameSync(s)]}})})},o.prototype.monitorIframeForHash=function(s,$){var j=this;return this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentHandlerMonitorIframeForHash,this.authCodeRequest.correlationId),new Promise(function(_e,et){$<DEFAULT_IFRAME_TIMEOUT_MS&&j.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+$+"ms) than the default ("+DEFAULT_IFRAME_TIMEOUT_MS+"ms). This may result in timeouts.");var tt=window.performance.now(),rt=tt+$,nt=setInterval(function(){if(window.performance.now()>rt){j.removeHiddenIframe(s),clearInterval(nt),et(BrowserAuthError.createMonitorIframeTimeoutError());return}var it=Constants.EMPTY_STRING,ot=s.contentWindow;try{it=ot?ot.location.href:Constants.EMPTY_STRING}catch{}if(!StringUtils.isEmpty(it)){var at=ot?ot.location.hash:Constants.EMPTY_STRING;if(UrlString.hashContainsKnownProperties(at)){j.removeHiddenIframe(s),clearInterval(nt),_e(at);return}}},j.pollIntervalMilliseconds)})},o.prototype.loadFrame=function(s){var $=this;return this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),new Promise(function(j,_e){var et=$.createHiddenIframe();setTimeout(function(){if(!et){_e("Unable to load iframe");return}et.src=s,j(et)},$.navigateFrameWait)})},o.prototype.loadFrameSync=function(s){var $=this.createHiddenIframe();return $.src=s,$},o.prototype.createHiddenIframe=function(){var s=document.createElement("iframe");return s.style.visibility="hidden",s.style.position="absolute",s.style.width=s.style.height="0",s.style.border="0",s.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(s),s},o.prototype.removeHiddenIframe=function(s){document.body===s.parentNode&&document.body.removeChild(s)},o}(InteractionHandler);/*! @azure/msal-browser v2.37.0 2023-05-01 */var SilentIframeClient=function(a){__extends$1(o,a);function o(s,$,j,_e,et,tt,rt,nt,it,ot,at){var ut=a.call(this,s,$,j,_e,et,tt,nt,ot,at)||this;return ut.apiId=rt,ut.nativeStorage=it,ut}return o.prototype.acquireToken=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt;return __generator$1(this,function(rt){switch(rt.label){case 0:if(this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentIframeClientAcquireToken,s.correlationId),this.logger.verbose("acquireTokenByIframe called"),$=this.performanceClient.startMeasurement(PerformanceEvents.SilentIframeClientAcquireToken,s.correlationId),StringUtils.isEmpty(s.loginHint)&&StringUtils.isEmpty(s.sid)&&(!s.account||StringUtils.isEmpty(s.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),s.prompt&&s.prompt!==PromptValue.NONE&&s.prompt!==PromptValue.NO_SESSION)throw $.endMeasurement({success:!1}),BrowserAuthError.createSilentPromptValueError(s.prompt);return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,s.correlationId),[4,this.initializeAuthorizationRequest(__assign$1(__assign$1({},s),{prompt:s.prompt||PromptValue.NONE}),InteractionType.Silent)];case 1:j=rt.sent(),this.browserStorage.updateCacheEntries(j.state,j.nonce,j.authority,j.loginHint||Constants.EMPTY_STRING,j.account||null),_e=this.initializeServerTelemetryManager(this.apiId),rt.label=2;case 2:return rt.trys.push([2,5,,6]),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,s.correlationId),[4,this.createAuthCodeClient(_e,j.authority,j.azureCloudOptions)];case 3:return et=rt.sent(),this.logger.verbose("Auth code client created"),this.performanceClient.setPreQueueTime(PerformanceEvents.SilentIframeClientTokenHelper,s.correlationId),[4,this.silentTokenHelper(et,j).then(function(nt){return $.endMeasurement({success:!0,fromCache:!1,requestId:nt.requestId}),nt})];case 4:return[2,rt.sent()];case 5:throw tt=rt.sent(),tt instanceof AuthError&&tt.setCorrelationId(this.correlationId),_e.cacheFailedRequest(tt),this.browserStorage.cleanRequestByState(j.state),$.endMeasurement({errorCode:tt instanceof AuthError&&tt.errorCode||void 0,subErrorCode:tt instanceof AuthError&&tt.subError||void 0,success:!1}),tt;case 6:return[2]}})})},o.prototype.logout=function(){return Promise.reject(BrowserAuthError.createSilentLogoutUnsupportedError())},o.prototype.silentTokenHelper=function(s,$){return __awaiter$1(this,void 0,void 0,function(){var j,_e,et,tt,rt,nt,it,ot,at,ut=this;return __generator$1(this,function(ht){switch(ht.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentIframeClientTokenHelper,$.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest,$.correlationId),[4,this.initializeAuthorizationCodeRequest($)];case 1:return j=ht.sent(),this.performanceClient.setPreQueueTime(PerformanceEvents.GetAuthCodeUrl,$.correlationId),[4,s.getAuthCodeUrl(__assign$1(__assign$1({},$),{nativeBroker:NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,$.authenticationScheme)}))];case 2:return _e=ht.sent(),et=new SilentHandler(s,this.browserStorage,j,this.logger,this.config.system,this.performanceClient),this.performanceClient.setPreQueueTime(PerformanceEvents.SilentHandlerInitiateAuthRequest,$.correlationId),[4,et.initiateAuthRequest(_e)];case 3:return tt=ht.sent(),this.performanceClient.setPreQueueTime(PerformanceEvents.SilentHandlerMonitorIframeForHash,$.correlationId),[4,et.monitorIframeForHash(tt,this.config.system.iframeHashTimeout)];case 4:if(rt=ht.sent(),nt=UrlString.getDeserializedHash(rt),it=this.validateAndExtractStateFromHash(nt,InteractionType.Silent,j.correlationId),nt.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw BrowserAuthError.createNativeConnectionNotEstablishedError();return ot=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,nt.accountId,this.browserStorage,this.correlationId),at=ProtocolUtils.parseRequestState(this.browserCrypto,it).userRequestState,[2,ot.acquireToken(__assign$1(__assign$1({},$),{state:at,prompt:$.prompt||PromptValue.NONE})).finally(function(){ut.browserStorage.cleanRequestByState(it)})]}return this.performanceClient.setPreQueueTime(PerformanceEvents.HandleCodeResponseFromHash,$.correlationId),[2,et.handleCodeResponseFromHash(rt,it,s.authority,this.networkClient)]}})})},o}(StandardInteractionClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var SilentRefreshClient=function(a){__extends$1(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.acquireToken=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt,rt=this;return __generator$1(this,function(nt){switch(nt.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentRefreshClientAcquireToken,s.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.InitializeBaseRequest,s.correlationId),j=[__assign$1({},s)],[4,this.initializeBaseRequest(s)];case 1:return $=__assign$1.apply(void 0,j.concat([nt.sent()])),_e=this.performanceClient.startMeasurement(PerformanceEvents.SilentRefreshClientAcquireToken,$.correlationId),et=this.initializeServerTelemetryManager(ApiId.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(et,$.authority,$.azureCloudOptions)];case 2:return tt=nt.sent(),this.logger.verbose("Refresh token client created"),this.performanceClient.setPreQueueTime(PerformanceEvents.RefreshTokenClientAcquireTokenByRefreshToken,s.correlationId),[2,tt.acquireTokenByRefreshToken($).then(function(it){return _e.endMeasurement({success:!0,fromCache:it.fromCache,requestId:it.requestId}),it}).catch(function(it){throw it instanceof AuthError&&it.setCorrelationId(rt.correlationId),et.cacheFailedRequest(it),_e.endMeasurement({errorCode:it.errorCode,subErrorCode:it.subError,success:!1}),it})]}})})},o.prototype.logout=function(){return Promise.reject(BrowserAuthError.createSilentLogoutUnsupportedError())},o.prototype.createRefreshTokenClient=function(s,$,j){return __awaiter$1(this,void 0,void 0,function(){var _e;return __generator$1(this,function(et){switch(et.label){case 0:return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(s,$,j)];case 1:return _e=et.sent(),[2,new RefreshTokenClient(_e,this.performanceClient)]}})})},o}(StandardInteractionClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var EventHandler=function(){function a(o,s){this.eventCallbacks=new Map,this.logger=o,this.browserCrypto=s,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return a.prototype.addEventCallback=function(o){if(typeof window<"u"){var s=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(s,o),this.logger.verbose("Event callback registered with id: "+s),s}return null},a.prototype.removeEventCallback=function(o){this.eventCallbacks.delete(o),this.logger.verbose("Event callback "+o+" removed.")},a.prototype.enableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},a.prototype.disableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},a.prototype.emitEvent=function(o,s,$,j){var _e=this;if(typeof window<"u"){var et={eventType:o,interactionType:s||null,payload:$||null,error:j||null,timestamp:Date.now()};this.logger.info("Emitting event: "+o),this.eventCallbacks.forEach(function(tt,rt){_e.logger.verbose("Emitting event to callback "+rt+": "+o),tt.apply(null,[et])})}},a.prototype.handleAccountCacheChange=function(o){try{var s=o.newValue||o.oldValue;if(!s)return;var $=JSON.parse(s);if(typeof $!="object"||!AccountEntity.isAccountEntity($))return;var j=CacheManager.toObject(new AccountEntity,$),_e=j.getAccountInfo();!o.oldValue&&o.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(EventType.ACCOUNT_ADDED,void 0,_e)):!o.newValue&&o.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(EventType.ACCOUNT_REMOVED,void 0,_e))}catch{return}},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var MathUtils=function(){function a(){}return a.decimalToHex=function(o){for(var s=o.toString(16);s.length<2;)s="0"+s;return s},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var GuidGenerator=function(){function a(o){this.cryptoObj=o}return a.prototype.generateGuid=function(){try{var o=new Uint8Array(16);return this.cryptoObj.getRandomValues(o),o[6]|=64,o[6]&=79,o[8]|=128,o[8]&=191,MathUtils.decimalToHex(o[0])+MathUtils.decimalToHex(o[1])+MathUtils.decimalToHex(o[2])+MathUtils.decimalToHex(o[3])+"-"+MathUtils.decimalToHex(o[4])+MathUtils.decimalToHex(o[5])+"-"+MathUtils.decimalToHex(o[6])+MathUtils.decimalToHex(o[7])+"-"+MathUtils.decimalToHex(o[8])+MathUtils.decimalToHex(o[9])+"-"+MathUtils.decimalToHex(o[10])+MathUtils.decimalToHex(o[11])+MathUtils.decimalToHex(o[12])+MathUtils.decimalToHex(o[13])+MathUtils.decimalToHex(o[14])+MathUtils.decimalToHex(o[15])}catch{for(var s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",$="0123456789abcdef",j=0,_e=Constants.EMPTY_STRING,et=0;et<36;et++)s[et]!=="-"&&s[et]!=="4"&&(j=Math.random()*16|0),s[et]==="x"?_e+=$[j]:s[et]==="y"?(j&=3,j|=8,_e+=$[j]):_e+=s[et];return _e}},a.prototype.isGuid=function(o){var s=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return s.test(o)},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var BrowserStringUtils=function(){function a(){}return a.stringToUtf8Arr=function(o){for(var s,$=0,j=o.length,_e=0;_e<j;_e++)s=o.charCodeAt(_e),$+=s<128?1:s<2048?2:s<65536?3:s<2097152?4:s<67108864?5:6;for(var et=new Uint8Array($),tt=0,rt=0;tt<$;rt++)s=o.charCodeAt(rt),s<128?et[tt++]=s:s<2048?(et[tt++]=192+(s>>>6),et[tt++]=128+(s&63)):s<65536?(et[tt++]=224+(s>>>12),et[tt++]=128+(s>>>6&63),et[tt++]=128+(s&63)):s<2097152?(et[tt++]=240+(s>>>18),et[tt++]=128+(s>>>12&63),et[tt++]=128+(s>>>6&63),et[tt++]=128+(s&63)):s<67108864?(et[tt++]=248+(s>>>24),et[tt++]=128+(s>>>18&63),et[tt++]=128+(s>>>12&63),et[tt++]=128+(s>>>6&63),et[tt++]=128+(s&63)):(et[tt++]=252+(s>>>30),et[tt++]=128+(s>>>24&63),et[tt++]=128+(s>>>18&63),et[tt++]=128+(s>>>12&63),et[tt++]=128+(s>>>6&63),et[tt++]=128+(s&63));return et},a.stringToArrayBuffer=function(o){for(var s=new ArrayBuffer(o.length),$=new Uint8Array(s),j=0;j<o.length;j++)$[j]=o.charCodeAt(j);return s},a.utf8ArrToString=function(o){for(var s=Constants.EMPTY_STRING,$=void 0,j=o.length,_e=0;_e<j;_e++)$=o[_e],s+=String.fromCharCode($>251&&$<254&&_e+5<j?($-252)*1073741824+(o[++_e]-128<<24)+(o[++_e]-128<<18)+(o[++_e]-128<<12)+(o[++_e]-128<<6)+o[++_e]-128:$>247&&$<252&&_e+4<j?($-248<<24)+(o[++_e]-128<<18)+(o[++_e]-128<<12)+(o[++_e]-128<<6)+o[++_e]-128:$>239&&$<248&&_e+3<j?($-240<<18)+(o[++_e]-128<<12)+(o[++_e]-128<<6)+o[++_e]-128:$>223&&$<240&&_e+2<j?($-224<<12)+(o[++_e]-128<<6)+o[++_e]-128:$>191&&$<224&&_e+1<j?($-192<<6)+o[++_e]-128:$);return s},a.getSortedObjectString=function(o){return JSON.stringify(o,Object.keys(o).sort())},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var Base64Encode=function(){function a(){}return a.prototype.urlEncode=function(o){return encodeURIComponent(this.encode(o).replace(/=/g,Constants.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},a.prototype.urlEncodeArr=function(o){return this.base64EncArr(o).replace(/=/g,Constants.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},a.prototype.encode=function(o){var s=BrowserStringUtils.stringToUtf8Arr(o);return this.base64EncArr(s)},a.prototype.base64EncArr=function(o){for(var s=(3-o.length%3)%3,$=Constants.EMPTY_STRING,j=void 0,_e=o.length,et=0,tt=0;tt<_e;tt++)j=tt%3,et|=o[tt]<<(16>>>j&24),(j===2||o.length-tt===1)&&($+=String.fromCharCode(this.uint6ToB64(et>>>18&63),this.uint6ToB64(et>>>12&63),this.uint6ToB64(et>>>6&63),this.uint6ToB64(et&63)),et=0);return s===0?$:$.substring(0,$.length-s)+(s===1?"=":"==")},a.prototype.uint6ToB64=function(o){return o<26?o+65:o<52?o+71:o<62?o-4:o===62?43:o===63?47:65},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var Base64Decode=function(){function a(){}return a.prototype.decode=function(o){var s=o.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("Invalid base64 string")}var $=this.base64DecToArr(s);return BrowserStringUtils.utf8ArrToString($)},a.prototype.base64DecToArr=function(o,s){for(var $=o.replace(/[^A-Za-z0-9\+\/]/g,Constants.EMPTY_STRING),j=$.length,_e=s?Math.ceil((j*3+1>>>2)/s)*s:j*3+1>>>2,et=new Uint8Array(_e),tt=void 0,rt=void 0,nt=0,it=0,ot=0;ot<j;ot++)if(rt=ot&3,nt|=this.b64ToUint6($.charCodeAt(ot))<<18-6*rt,rt===3||j-ot===1){for(tt=0;tt<3&&it<_e;tt++,it++)et[it]=nt>>>(16>>>tt&24)&255;nt=0}return et},a.prototype.b64ToUint6=function(o){return o>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:o===43?62:o===47?63:0},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var RANDOM_BYTE_ARR_LENGTH=32,PkceGenerator=function(){function a(o){this.base64Encode=new Base64Encode,this.cryptoObj=o}return a.prototype.generateCodes=function(){return __awaiter$1(this,void 0,void 0,function(){var o,s;return __generator$1(this,function($){switch($.label){case 0:return o=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(o)];case 1:return s=$.sent(),[2,{verifier:o,challenge:s}]}})})},a.prototype.generateCodeVerifier=function(){try{var o=new Uint8Array(RANDOM_BYTE_ARR_LENGTH);this.cryptoObj.getRandomValues(o);var s=this.base64Encode.urlEncodeArr(o);return s}catch($){throw BrowserAuthError.createPkceNotGeneratedError($)}},a.prototype.generateCodeChallengeFromVerifier=function(o){return __awaiter$1(this,void 0,void 0,function(){var s,$;return __generator$1(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(o)];case 1:return s=j.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(s))];case 2:throw $=j.sent(),BrowserAuthError.createPkceNotGeneratedError($);case 3:return[2]}})})},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var ModernBrowserCrypto=function(){function a(){}return a.prototype.getRandomValues=function(o){return window.crypto.getRandomValues(o)},a.prototype.generateKey=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(j){return[2,window.crypto.subtle.generateKey(o,s,$)]})})},a.prototype.exportKey=function(o){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(s){return[2,window.crypto.subtle.exportKey(KEY_FORMAT_JWK,o)]})})},a.prototype.importKey=function(o,s,$,j){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(_e){return[2,window.crypto.subtle.importKey(KEY_FORMAT_JWK,o,s,$,j)]})})},a.prototype.sign=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(j){return[2,window.crypto.subtle.sign(o,s,$)]})})},a.prototype.digest=function(o,s){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function($){return[2,window.crypto.subtle.digest(o,s)]})})},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var MsrBrowserCrypto=function(){function a(){}return a.prototype.initPrng=function(o){return window.msrCrypto.initPrng(__spread(o))},a.prototype.getRandomValues=function(o){return window.msrCrypto.getRandomValues(o)},a.prototype.generateKey=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(j){return[2,window.msrCrypto.subtle.generateKey(o,s,$)]})})},a.prototype.exportKey=function(o){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(s){return[2,window.msrCrypto.subtle.exportKey(KEY_FORMAT_JWK,o)]})})},a.prototype.importKey=function(o,s,$,j){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(_e){return[2,window.msrCrypto.subtle.importKey(KEY_FORMAT_JWK,o,s,$,j)]})})},a.prototype.sign=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(j){return[2,window.msrCrypto.subtle.sign(o,s,$)]})})},a.prototype.digest=function(o,s){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function($){return[2,window.msrCrypto.subtle.digest(o,s)]})})},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var MsBrowserCrypto=function(){function a(){}return a.prototype.getRandomValues=function(o){return window.msCrypto.getRandomValues(o)},a.prototype.generateKey=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(j){return[2,new Promise(function(_e,et){var tt=window.msCrypto.subtle.generateKey(o,s,$);tt.addEventListener("complete",function(rt){_e(rt.target.result)}),tt.addEventListener("error",function(rt){et(rt)})})]})})},a.prototype.exportKey=function(o){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(s){return[2,new Promise(function($,j){var _e=window.msCrypto.subtle.exportKey(KEY_FORMAT_JWK,o);_e.addEventListener("complete",function(et){var tt=et.target.result,rt=BrowserStringUtils.utf8ArrToString(new Uint8Array(tt)).replace(/\r/g,Constants.EMPTY_STRING).replace(/\n/g,Constants.EMPTY_STRING).replace(/\t/g,Constants.EMPTY_STRING).split(" ").join(Constants.EMPTY_STRING).replace("\0",Constants.EMPTY_STRING);try{$(JSON.parse(rt))}catch(nt){j(nt)}}),_e.addEventListener("error",function(et){j(et)})})]})})},a.prototype.importKey=function(o,s,$,j){return __awaiter$1(this,void 0,void 0,function(){var _e,et;return __generator$1(this,function(tt){return _e=BrowserStringUtils.getSortedObjectString(o),et=BrowserStringUtils.stringToArrayBuffer(_e),[2,new Promise(function(rt,nt){var it=window.msCrypto.subtle.importKey(KEY_FORMAT_JWK,et,s,$,j);it.addEventListener("complete",function(ot){rt(ot.target.result)}),it.addEventListener("error",function(ot){nt(ot)})})]})})},a.prototype.sign=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(j){return[2,new Promise(function(_e,et){var tt=window.msCrypto.subtle.sign(o,s,$);tt.addEventListener("complete",function(rt){_e(rt.target.result)}),tt.addEventListener("error",function(rt){et(rt)})})]})})},a.prototype.digest=function(o,s){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function($){return[2,new Promise(function(j,_e){var et=window.msCrypto.subtle.digest(o,s.buffer);et.addEventListener("complete",function(tt){j(tt.target.result)}),et.addEventListener("error",function(tt){_e(tt)})})]})})},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var PKCS1_V15_KEYGEN_ALG="RSASSA-PKCS1-v1_5",S256_HASH_ALG="SHA-256",MODULUS_LENGTH=2048,PUBLIC_EXPONENT=new Uint8Array([1,0,1]),BrowserCrypto=function(){function a(o,s){var $,j;if(this.logger=o,this.cryptoOptions=s,this.hasBrowserCrypto())this.logger.verbose("BrowserCrypto: modern crypto interface available"),this.subtleCrypto=new ModernBrowserCrypto;else if(this.hasIECrypto())this.logger.verbose("BrowserCrypto: MS crypto interface available"),this.subtleCrypto=new MsBrowserCrypto;else if(this.hasMsrCrypto()&&(!(($=this.cryptoOptions)===null||$===void 0)&&$.useMsrCrypto))this.logger.verbose("BrowserCrypto: MSR crypto interface available"),this.subtleCrypto=new MsrBrowserCrypto;else throw this.hasMsrCrypto()&&this.logger.info("BrowserCrypto: MSR Crypto interface available but system.cryptoOptions.useMsrCrypto not enabled"),this.logger.error("BrowserCrypto: No crypto interfaces available."),BrowserAuthError.createCryptoNotAvailableError("Browser crypto, msCrypto, or msrCrypto interfaces not available.");if(this.subtleCrypto.initPrng){if(this.logger.verbose("BrowserCrypto: Interface requires entropy"),!(!((j=this.cryptoOptions)===null||j===void 0)&&j.entropy))throw this.logger.error("BrowserCrypto: Interface requires entropy but none provided."),BrowserConfigurationAuthError.createEntropyNotProvided();this.logger.verbose("BrowserCrypto: Entropy provided"),this.subtleCrypto.initPrng(this.cryptoOptions.entropy)}this.keygenAlgorithmOptions={name:PKCS1_V15_KEYGEN_ALG,hash:S256_HASH_ALG,modulusLength:MODULUS_LENGTH,publicExponent:PUBLIC_EXPONENT}}return a.prototype.hasIECrypto=function(){return"msCrypto"in window},a.prototype.hasBrowserCrypto=function(){return"crypto"in window},a.prototype.hasMsrCrypto=function(){return"msrCrypto"in window},a.prototype.sha256Digest=function(o){return __awaiter$1(this,void 0,void 0,function(){var s;return __generator$1(this,function($){return s=BrowserStringUtils.stringToUtf8Arr(o),[2,this.subtleCrypto.digest({name:S256_HASH_ALG},s)]})})},a.prototype.getRandomValues=function(o){return this.subtleCrypto.getRandomValues(o)},a.prototype.generateKeyPair=function(o,s){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function($){return[2,this.subtleCrypto.generateKey(this.keygenAlgorithmOptions,o,s)]})})},a.prototype.exportJwk=function(o){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(s){return[2,this.subtleCrypto.exportKey(o)]})})},a.prototype.importJwk=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(j){return[2,this.subtleCrypto.importKey(o,this.keygenAlgorithmOptions,s,$)]})})},a.prototype.sign=function(o,s){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function($){return[2,this.subtleCrypto.sign(this.keygenAlgorithmOptions,o,s)]})})},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var DatabaseStorage=function(){function a(){this.dbName=DB_NAME,this.version=DB_VERSION,this.tableName=DB_TABLE_NAME,this.dbOpen=!1}return a.prototype.open=function(){return __awaiter$1(this,void 0,void 0,function(){var o=this;return __generator$1(this,function(s){return[2,new Promise(function($,j){var _e=window.indexedDB.open(o.dbName,o.version);_e.addEventListener("upgradeneeded",function(et){var tt=et;tt.target.result.createObjectStore(o.tableName)}),_e.addEventListener("success",function(et){var tt=et;o.db=tt.target.result,o.dbOpen=!0,$()}),_e.addEventListener("error",function(){return j(BrowserAuthError.createDatabaseUnavailableError())})})]})})},a.prototype.closeConnection=function(){var o=this.db;o&&this.dbOpen&&(o.close(),this.dbOpen=!1)},a.prototype.validateDbIsOpen=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(o){switch(o.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,o.sent()];case 2:return[2]}})})},a.prototype.getItem=function(o){return __awaiter$1(this,void 0,void 0,function(){var s=this;return __generator$1(this,function($){switch($.label){case 0:return[4,this.validateDbIsOpen()];case 1:return $.sent(),[2,new Promise(function(j,_e){if(!s.db)return _e(BrowserAuthError.createDatabaseNotOpenError());var et=s.db.transaction([s.tableName],"readonly"),tt=et.objectStore(s.tableName),rt=tt.get(o);rt.addEventListener("success",function(nt){var it=nt;s.closeConnection(),j(it.target.result)}),rt.addEventListener("error",function(nt){s.closeConnection(),_e(nt)})})]}})})},a.prototype.setItem=function(o,s){return __awaiter$1(this,void 0,void 0,function(){var $=this;return __generator$1(this,function(j){switch(j.label){case 0:return[4,this.validateDbIsOpen()];case 1:return j.sent(),[2,new Promise(function(_e,et){if(!$.db)return et(BrowserAuthError.createDatabaseNotOpenError());var tt=$.db.transaction([$.tableName],"readwrite"),rt=tt.objectStore($.tableName),nt=rt.put(s,o);nt.addEventListener("success",function(){$.closeConnection(),_e()}),nt.addEventListener("error",function(it){$.closeConnection(),et(it)})})]}})})},a.prototype.removeItem=function(o){return __awaiter$1(this,void 0,void 0,function(){var s=this;return __generator$1(this,function($){switch($.label){case 0:return[4,this.validateDbIsOpen()];case 1:return $.sent(),[2,new Promise(function(j,_e){if(!s.db)return _e(BrowserAuthError.createDatabaseNotOpenError());var et=s.db.transaction([s.tableName],"readwrite"),tt=et.objectStore(s.tableName),rt=tt.delete(o);rt.addEventListener("success",function(){s.closeConnection(),j()}),rt.addEventListener("error",function(nt){s.closeConnection(),_e(nt)})})]}})})},a.prototype.getKeys=function(){return __awaiter$1(this,void 0,void 0,function(){var o=this;return __generator$1(this,function(s){switch(s.label){case 0:return[4,this.validateDbIsOpen()];case 1:return s.sent(),[2,new Promise(function($,j){if(!o.db)return j(BrowserAuthError.createDatabaseNotOpenError());var _e=o.db.transaction([o.tableName],"readonly"),et=_e.objectStore(o.tableName),tt=et.getAllKeys();tt.addEventListener("success",function(rt){var nt=rt;o.closeConnection(),$(nt.target.result)}),tt.addEventListener("error",function(rt){o.closeConnection(),j(rt)})})]}})})},a.prototype.containsKey=function(o){return __awaiter$1(this,void 0,void 0,function(){var s=this;return __generator$1(this,function($){switch($.label){case 0:return[4,this.validateDbIsOpen()];case 1:return $.sent(),[2,new Promise(function(j,_e){if(!s.db)return _e(BrowserAuthError.createDatabaseNotOpenError());var et=s.db.transaction([s.tableName],"readonly"),tt=et.objectStore(s.tableName),rt=tt.count(o);rt.addEventListener("success",function(nt){var it=nt;s.closeConnection(),j(it.target.result===1)}),rt.addEventListener("error",function(nt){s.closeConnection(),_e(nt)})})]}})})},a.prototype.deleteDatabase=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(o){return this.db&&this.dbOpen&&this.closeConnection(),[2,new Promise(function(s,$){var j=window.indexedDB.deleteDatabase(DB_NAME);j.addEventListener("success",function(){return s(!0)}),j.addEventListener("blocked",function(){return s(!0)}),j.addEventListener("error",function(){return $(!1)})})]})})},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var AsyncMemoryStorage=function(){function a(o,s){this.inMemoryCache=new MemoryStorage,this.indexedDBCache=new DatabaseStorage,this.logger=o,this.storeName=s}return a.prototype.handleDatabaseAccessError=function(o){if(o instanceof BrowserAuthError&&o.errorCode===BrowserAuthErrorMessage.databaseUnavailable.code)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw o},a.prototype.getItem=function(o){return __awaiter$1(this,void 0,void 0,function(){var s,$;return __generator$1(this,function(j){switch(j.label){case 0:if(s=this.inMemoryCache.getItem(o),s)return[3,4];j.label=1;case 1:return j.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(o)];case 2:return[2,j.sent()];case 3:return $=j.sent(),this.handleDatabaseAccessError($),[3,4];case 4:return[2,s]}})})},a.prototype.setItem=function(o,s){return __awaiter$1(this,void 0,void 0,function(){var $;return __generator$1(this,function(j){switch(j.label){case 0:this.inMemoryCache.setItem(o,s),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(o,s)];case 2:return j.sent(),[3,4];case 3:return $=j.sent(),this.handleDatabaseAccessError($),[3,4];case 4:return[2]}})})},a.prototype.removeItem=function(o){return __awaiter$1(this,void 0,void 0,function(){var s;return __generator$1(this,function($){switch($.label){case 0:this.inMemoryCache.removeItem(o),$.label=1;case 1:return $.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(o)];case 2:return $.sent(),[3,4];case 3:return s=$.sent(),this.handleDatabaseAccessError(s),[3,4];case 4:return[2]}})})},a.prototype.getKeys=function(){return __awaiter$1(this,void 0,void 0,function(){var o,s;return __generator$1(this,function($){switch($.label){case 0:if(o=this.inMemoryCache.getKeys(),o.length!==0)return[3,4];$.label=1;case 1:return $.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,$.sent()];case 3:return s=$.sent(),this.handleDatabaseAccessError(s),[3,4];case 4:return[2,o]}})})},a.prototype.containsKey=function(o){return __awaiter$1(this,void 0,void 0,function(){var s,$;return __generator$1(this,function(j){switch(j.label){case 0:if(s=this.inMemoryCache.containsKey(o),s)return[3,4];j.label=1;case 1:return j.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(o)];case 2:return[2,j.sent()];case 3:return $=j.sent(),this.handleDatabaseAccessError($),[3,4];case 4:return[2,s]}})})},a.prototype.clearInMemory=function(){this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted")},a.prototype.clearPersistent=function(){return __awaiter$1(this,void 0,void 0,function(){var o,s;return __generator$1(this,function($){switch($.label){case 0:return $.trys.push([0,2,,3]),this.logger.verbose("Deleting persistent keystore"),[4,this.indexedDBCache.deleteDatabase()];case 1:return o=$.sent(),o&&this.logger.verbose("Persistent keystore deleted"),[2,o];case 2:return s=$.sent(),this.handleDatabaseAccessError(s),[2,!1];case 3:return[2]}})})},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var CryptoKeyStoreNames;(function(a){a.asymmetricKeys="asymmetricKeys",a.symmetricKeys="symmetricKeys"})(CryptoKeyStoreNames||(CryptoKeyStoreNames={}));var CryptoKeyStore=function(){function a(o){this.logger=o,this.asymmetricKeys=new AsyncMemoryStorage(this.logger,CryptoKeyStoreNames.asymmetricKeys),this.symmetricKeys=new AsyncMemoryStorage(this.logger,CryptoKeyStoreNames.symmetricKeys)}return a.prototype.clear=function(){return __awaiter$1(this,void 0,void 0,function(){var o;return __generator$1(this,function(s){switch(s.label){case 0:this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory(),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.asymmetricKeys.clearPersistent()];case 2:return s.sent(),[2,!0];case 3:return o=s.sent(),o instanceof Error?this.logger.error("Clearing keystore failed with error: "+o.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}})})},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var CryptoOps=function(){function a(o,s,$){this.logger=o,this.browserCrypto=new BrowserCrypto(this.logger,$),this.b64Encode=new Base64Encode,this.b64Decode=new Base64Decode,this.guidGenerator=new GuidGenerator(this.browserCrypto),this.pkceGenerator=new PkceGenerator(this.browserCrypto),this.cache=new CryptoKeyStore(this.logger),this.performanceClient=s}return a.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},a.prototype.base64Encode=function(o){return this.b64Encode.encode(o)},a.prototype.base64Decode=function(o){return this.b64Decode.decode(o)},a.prototype.generatePkceCodes=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(o){return[2,this.pkceGenerator.generateCodes()]})})},a.prototype.getPublicKeyThumbprint=function(o){var s;return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt,rt,nt,it;return __generator$1(this,function(ot){switch(ot.label){case 0:return $=(s=this.performanceClient)===null||s===void 0?void 0:s.startMeasurement(PerformanceEvents.CryptoOptsGetPublicKeyThumbprint,o.correlationId),[4,this.browserCrypto.generateKeyPair(a.EXTRACTABLE,a.POP_KEY_USAGES)];case 1:return j=ot.sent(),[4,this.browserCrypto.exportJwk(j.publicKey)];case 2:return _e=ot.sent(),et={e:_e.e,kty:_e.kty,n:_e.n},tt=BrowserStringUtils.getSortedObjectString(et),[4,this.hashString(tt)];case 3:return rt=ot.sent(),[4,this.browserCrypto.exportJwk(j.privateKey)];case 4:return nt=ot.sent(),[4,this.browserCrypto.importJwk(nt,!1,["sign"])];case 5:return it=ot.sent(),[4,this.cache.asymmetricKeys.setItem(rt,{privateKey:it,publicKey:j.publicKey,requestMethod:o.resourceRequestMethod,requestUri:o.resourceRequestUri})];case 6:return ot.sent(),$&&$.endMeasurement({success:!0}),[2,rt]}})})},a.prototype.removeTokenBindingKey=function(o){return __awaiter$1(this,void 0,void 0,function(){var s;return __generator$1(this,function($){switch($.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(o)];case 1:return $.sent(),[4,this.cache.asymmetricKeys.containsKey(o)];case 2:return s=$.sent(),[2,!s]}})})},a.prototype.clearKeystore=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(o){switch(o.label){case 0:return[4,this.cache.clear()];case 1:return[2,o.sent()]}})})},a.prototype.signJwt=function(o,s,$){var j;return __awaiter$1(this,void 0,void 0,function(){var _e,et,tt,rt,nt,it,ot,at,ut,ht,pt,Ct,lt;return __generator$1(this,function(ft){switch(ft.label){case 0:return _e=(j=this.performanceClient)===null||j===void 0?void 0:j.startMeasurement(PerformanceEvents.CryptoOptsSignJwt,$),[4,this.cache.asymmetricKeys.getItem(s)];case 1:if(et=ft.sent(),!et)throw BrowserAuthError.createSigningKeyNotFoundInStorageError(s);return[4,this.browserCrypto.exportJwk(et.publicKey)];case 2:return tt=ft.sent(),rt=BrowserStringUtils.getSortedObjectString(tt),nt=this.b64Encode.urlEncode(JSON.stringify({kid:s})),it=JoseHeader.getShrHeaderString({kid:nt,alg:tt.alg}),ot=this.b64Encode.urlEncode(it),o.cnf={jwk:JSON.parse(rt)},at=this.b64Encode.urlEncode(JSON.stringify(o)),ut=ot+"."+at,ht=BrowserStringUtils.stringToArrayBuffer(ut),[4,this.browserCrypto.sign(et.privateKey,ht)];case 3:return pt=ft.sent(),Ct=this.b64Encode.urlEncodeArr(new Uint8Array(pt)),lt=ut+"."+Ct,_e&&_e.endMeasurement({success:!0}),[2,lt]}})})},a.prototype.hashString=function(o){return __awaiter$1(this,void 0,void 0,function(){var s,$;return __generator$1(this,function(j){switch(j.label){case 0:return[4,this.browserCrypto.sha256Digest(o)];case 1:return s=j.sent(),$=new Uint8Array(s),[2,this.b64Encode.urlEncodeArr($)]}})})},a.POP_KEY_USAGES=["sign","verify"],a.EXTRACTABLE=!0,a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var BrowserPerformanceMeasurement=function(){function a(o,s){this.correlationId=s,this.measureName=a.makeMeasureName(o,s),this.startMark=a.makeStartMark(o,s),this.endMark=a.makeEndMark(o,s)}return a.makeMeasureName=function(o,s){return"msal.measure."+o+"."+s},a.makeStartMark=function(o,s){return"msal.start."+o+"."+s},a.makeEndMark=function(o,s){return"msal.end."+o+"."+s},a.supportsBrowserPerformance=function(){return typeof window<"u"&&typeof window.performance<"u"&&typeof window.performance.mark=="function"&&typeof window.performance.measure=="function"&&typeof window.performance.clearMarks=="function"&&typeof window.performance.clearMeasures=="function"&&typeof window.performance.getEntriesByName=="function"},a.flushMeasurements=function(o,s){if(a.supportsBrowserPerformance())try{s.forEach(function($){var j=a.makeMeasureName($.name,o),_e=window.performance.getEntriesByName(j,"measure");_e.length>0&&(window.performance.clearMeasures(j),window.performance.clearMarks(a.makeStartMark(j,o)),window.performance.clearMarks(a.makeEndMark(j,o)))})}catch{}},a.prototype.startMeasurement=function(){if(a.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch{}},a.prototype.endMeasurement=function(){if(a.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch{}},a.prototype.flushMeasurement=function(){if(a.supportsBrowserPerformance())try{var o=window.performance.getEntriesByName(this.measureName,"measure");if(o.length>0){var s=o[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),s}}catch{}return null},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var BrowserPerformanceClient=function(a){__extends$1(o,a);function o(s,$,j,_e,et,tt,rt){var nt=a.call(this,s,$,j,_e,et,tt)||this;return nt.browserCrypto=new BrowserCrypto(nt.logger,rt),nt.guidGenerator=new GuidGenerator(nt.browserCrypto),nt}return o.prototype.startPerformanceMeasuremeant=function(s,$){return new BrowserPerformanceMeasurement(s,$)},o.prototype.generateId=function(){return this.guidGenerator.generateGuid()},o.prototype.getPageVisibility=function(){var s;return((s=document.visibilityState)===null||s===void 0?void 0:s.toString())||null},o.prototype.deleteIncompleteSubMeasurements=function(s){var $=this.eventsByCorrelationId.get(s.event.correlationId),j=$&&$.eventId===s.event.eventId,_e=[];j&&($!=null&&$.incompleteSubMeasurements)&&$.incompleteSubMeasurements.forEach(function(et){_e.push(__assign$1({},et))}),_e.length>0&&BrowserPerformanceMeasurement.flushMeasurements(s.event.correlationId,_e)},o.prototype.supportsBrowserPerformanceNow=function(){return typeof window<"u"&&typeof window.performance<"u"&&typeof window.performance.now=="function"},o.prototype.startMeasurement=function(s,$){var j=this,_e=this.getPageVisibility(),et=a.prototype.startMeasurement.call(this,s,$);return __assign$1(__assign$1({},et),{endMeasurement:function(tt){var rt=et.endMeasurement(__assign$1({startPageVisibility:_e,endPageVisibility:j.getPageVisibility()},tt));return j.deleteIncompleteSubMeasurements(et),rt},discardMeasurement:function(){et.discardMeasurement(),j.deleteIncompleteSubMeasurements(et),et.measurement.flushMeasurement()}})},o.prototype.setPreQueueTime=function(s,$){if(!this.supportsBrowserPerformanceNow()){this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to set telemetry queue time for "+s);return}if(!$){this.logger.trace("BrowserPerformanceClient: correlationId for "+s+" not provided, unable to set telemetry queue time");return}var j=this.preQueueTimeByCorrelationId.get($);j&&(this.logger.trace("BrowserPerformanceClient: Incomplete pre-queue "+j.name+" found",$),this.addQueueMeasurement(j.name,$,void 0,!0)),this.preQueueTimeByCorrelationId.set($,{name:s,time:window.performance.now()})},o.prototype.addQueueMeasurement=function(s,$,j,_e){if(!this.supportsBrowserPerformanceNow()){this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to add queue measurement for "+s);return}if(!$){this.logger.trace("BrowserPerformanceClient: correlationId for "+s+" not provided, unable to add queue measurement");return}var et=a.prototype.getPreQueueTime.call(this,s,$);if(et){var tt=window.performance.now(),rt=j||a.prototype.calculateQueuedTime.call(this,et,tt);return a.prototype.addQueueMeasurement.call(this,s,$,rt,_e)}},o}(PerformanceClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var TokenCache=function(){function a(o,s,$,j){this.isBrowserEnvironment=typeof window<"u",this.config=o,this.storage=s,this.logger=$,this.cryptoObj=j}return a.prototype.loadExternalTokens=function(o,s,$){if(this.logger.info("TokenCache - loadExternalTokens called"),!s.id_token)throw BrowserAuthError.createUnableToLoadTokenError("Please ensure server response includes id token.");var j=new AuthToken(s.id_token,this.cryptoObj),_e,et;if(o.account){var tt=this.loadAccount(j,o.account.environment,void 0,void 0,o.account.homeAccountId);_e=new CacheRecord(tt,this.loadIdToken(j,tt.homeAccountId,o.account.environment,o.account.tenantId),this.loadAccessToken(o,s,tt.homeAccountId,o.account.environment,o.account.tenantId,$),this.loadRefreshToken(o,s,tt.homeAccountId,o.account.environment))}else if(o.authority){var rt=Authority.generateAuthority(o.authority,o.azureCloudOptions),nt={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};if(et=new Authority(rt,this.config.system.networkClient,this.storage,nt,this.logger),$.clientInfo){this.logger.trace("TokenCache - homeAccountId from options");var tt=this.loadAccount(j,et.hostnameAndPort,$.clientInfo,et.authorityType);_e=new CacheRecord(tt,this.loadIdToken(j,tt.homeAccountId,et.hostnameAndPort,et.tenant),this.loadAccessToken(o,s,tt.homeAccountId,et.hostnameAndPort,et.tenant,$),this.loadRefreshToken(o,s,tt.homeAccountId,et.hostnameAndPort))}else if(s.client_info){this.logger.trace("TokenCache - homeAccountId from response");var tt=this.loadAccount(j,et.hostnameAndPort,s.client_info,et.authorityType);_e=new CacheRecord(tt,this.loadIdToken(j,tt.homeAccountId,et.hostnameAndPort,et.tenant),this.loadAccessToken(o,s,tt.homeAccountId,et.hostnameAndPort,et.tenant,$),this.loadRefreshToken(o,s,tt.homeAccountId,et.hostnameAndPort))}else throw BrowserAuthError.createUnableToLoadTokenError("Please provide clientInfo in the response or options.")}else throw BrowserAuthError.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");return this.generateAuthenticationResult(o,j,_e,et)},a.prototype.loadAccount=function(o,s,$,j,_e){var et;if(_e?et=_e:j!==void 0&&$&&(et=AccountEntity.generateHomeAccountId($,j,this.logger,this.cryptoObj,o)),!et)throw BrowserAuthError.createUnableToLoadTokenError("Unexpected missing homeAccountId");var tt=$?AccountEntity.createAccount($,et,o,void 0,void 0,void 0,s):AccountEntity.createGenericAccount(et,o,void 0,void 0,void 0,s);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading account"),this.storage.setAccount(tt),tt;throw BrowserAuthError.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},a.prototype.loadIdToken=function(o,s,$,j){var _e=IdTokenEntity.createIdTokenEntity(s,$,o.rawToken,this.config.auth.clientId,j);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(_e),_e;throw BrowserAuthError.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},a.prototype.loadAccessToken=function(o,s,$,j,_e,et){if(!s.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!s.expires_in)throw BrowserAuthError.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!et.extendedExpiresOn)throw BrowserAuthError.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var tt=new ScopeSet(o.scopes).printScopes(),rt=et.expiresOn||s.expires_in+new Date().getTime()/1e3,nt=et.extendedExpiresOn,it=AccessTokenEntity.createAccessTokenEntity($,j,s.access_token,this.config.auth.clientId,_e,tt,rt,nt,this.cryptoObj);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(it),it;throw BrowserAuthError.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},a.prototype.loadRefreshToken=function(o,s,$,j){if(!s.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;var _e=RefreshTokenEntity.createRefreshTokenEntity($,j,s.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(_e),_e;throw BrowserAuthError.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},a.prototype.generateAuthenticationResult=function(o,s,$,j){var _e,et,tt,rt=Constants.EMPTY_STRING,nt=[],it=null,ot;$!=null&&$.accessToken&&(rt=$.accessToken.secret,nt=ScopeSet.fromString($.accessToken.target).asArray(),it=new Date(Number($.accessToken.expiresOn)*1e3),ot=new Date(Number($.accessToken.extendedExpiresOn)*1e3));var at=(s==null?void 0:s.claims.oid)||(s==null?void 0:s.claims.sub)||Constants.EMPTY_STRING,ut=(s==null?void 0:s.claims.tid)||Constants.EMPTY_STRING;return{authority:j?j.canonicalAuthority:Constants.EMPTY_STRING,uniqueId:at,tenantId:ut,scopes:nt,account:$!=null&&$.account?$.account.getAccountInfo():null,idToken:s?s.rawToken:Constants.EMPTY_STRING,idTokenClaims:s?s.claims:{},accessToken:rt,fromCache:!0,expiresOn:it,correlationId:o.correlationId||Constants.EMPTY_STRING,requestId:Constants.EMPTY_STRING,extExpiresOn:ot,familyId:Constants.EMPTY_STRING,tokenType:((_e=$==null?void 0:$.accessToken)===null||_e===void 0?void 0:_e.tokenType)||Constants.EMPTY_STRING,state:Constants.EMPTY_STRING,cloudGraphHostName:((et=$==null?void 0:$.account)===null||et===void 0?void 0:et.cloudGraphHostName)||Constants.EMPTY_STRING,msGraphHost:((tt=$==null?void 0:$.account)===null||tt===void 0?void 0:tt.msGraphHost)||Constants.EMPTY_STRING,code:void 0,fromNativeBroker:!1}},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var HybridSpaAuthorizationCodeClient=function(a){__extends$1(o,a);function o(s){var $=a.call(this,s)||this;return $.includeRedirectUri=!1,$}return o}(AuthorizationCodeClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var SilentAuthCodeClient=function(a){__extends$1(o,a);function o(s,$,j,_e,et,tt,rt,nt,it,ot){var at=a.call(this,s,$,j,_e,et,tt,nt,it,ot)||this;return at.apiId=rt,at}return o.prototype.acquireToken=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt,rt,nt;return __generator$1(this,function(it){switch(it.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!s.code)throw BrowserAuthError.createAuthCodeRequiredError();return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,s.correlationId),[4,this.initializeAuthorizationRequest(s,InteractionType.Silent)];case 1:$=it.sent(),this.browserStorage.updateCacheEntries($.state,$.nonce,$.authority,$.loginHint||Constants.EMPTY_STRING,$.account||null),j=this.initializeServerTelemetryManager(this.apiId),it.label=2;case 2:return it.trys.push([2,4,,5]),_e=__assign$1(__assign$1({},$),{code:s.code}),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetClientConfiguration,s.correlationId),[4,this.getClientConfiguration(j,$.authority)];case 3:return et=it.sent(),tt=new HybridSpaAuthorizationCodeClient(et),this.logger.verbose("Auth code client created"),rt=new SilentHandler(tt,this.browserStorage,_e,this.logger,this.config.system,this.performanceClient),[2,rt.handleCodeResponseFromServer({code:s.code,msgraph_host:s.msGraphHost,cloud_graph_host_name:s.cloudGraphHostName,cloud_instance_host_name:s.cloudInstanceHostName},$.state,tt.authority,this.networkClient,!1)];case 4:throw nt=it.sent(),nt instanceof AuthError&&nt.setCorrelationId(this.correlationId),j.cacheFailedRequest(nt),this.browserStorage.cleanRequestByState($.state),nt;case 5:return[2]}})})},o.prototype.logout=function(){return Promise.reject(BrowserAuthError.createSilentLogoutUnsupportedError())},o}(StandardInteractionClient);/*! @azure/msal-browser v2.37.0 2023-05-01 */var ClientApplication=function(){function a(o){this.isBrowserEnvironment=typeof window<"u",this.config=buildConfiguration(o,this.isBrowserEnvironment),this.initialized=!1,this.logger=new Logger(this.config.system.loggerOptions,name$1,version$2),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new BrowserPerformanceClient(this.config.auth.clientId,this.config.auth.authority,this.logger,name$1,version$2,this.config.telemetry.application,this.config.system.cryptoOptions):new StubPerformanceClient(this.config.auth.clientId,this.config.auth.authority,this.logger,name$1,version$2,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new CryptoOps(this.logger,this.performanceClient,this.config.system.cryptoOptions):DEFAULT_CRYPTO_IMPLEMENTATION,this.eventHandler=new EventHandler(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new BrowserCacheManager(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):DEFAULT_BROWSER_CACHE_MANAGER(this.config.auth.clientId,this.logger);var s={cacheLocation:BrowserCacheLocation.MemoryStorage,temporaryCacheLocation:BrowserCacheLocation.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1};this.nativeInternalStorage=new BrowserCacheManager(this.config.auth.clientId,s,this.browserCrypto,this.logger),this.tokenCache=new TokenCache(this.config,this.browserStorage,this.logger,this.browserCrypto),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}return a.prototype.initialize=function(){return __awaiter$1(this,void 0,void 0,function(){var o,s,$,j;return __generator$1(this,function(_e){switch(_e.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(o=this.config.system.allowNativeBroker,s=this.performanceClient.startMeasurement(PerformanceEvents.InitializeClientApplication),this.eventHandler.emitEvent(EventType.INITIALIZE_START),!o)return[3,4];_e.label=1;case 1:return _e.trys.push([1,3,,4]),$=this,[4,NativeMessageHandler.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)];case 2:return $.nativeExtensionProvider=_e.sent(),[3,4];case 3:return j=_e.sent(),this.logger.verbose(j),[3,4];case 4:return this.initialized=!0,this.eventHandler.emitEvent(EventType.INITIALIZE_END),s.endMeasurement({allowNativeBroker:o,success:!0}),[2]}})})},a.prototype.handleRedirectPromise=function(o){return __awaiter$1(this,void 0,void 0,function(){var s,$,j,_e,et,tt,rt,nt,it=this;return __generator$1(this,function(ot){return this.logger.verbose("handleRedirectPromise called"),BrowserUtils.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),s=this.getAllAccounts(),this.isBrowserEnvironment?($=o||Constants.EMPTY_STRING,j=this.redirectResponse.get($),typeof j>"u"?(this.eventHandler.emitEvent(EventType.HANDLE_REDIRECT_START,InteractionType.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),_e=this.browserStorage.getCachedNativeRequest(),et=void 0,_e&&NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!o?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),tt=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,_e.accountId,this.nativeInternalStorage,_e.correlationId),et=tt.handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),rt=this.browserStorage.getTemporaryCache(TemporaryCacheKeys.CORRELATION_ID,!0)||Constants.EMPTY_STRING,nt=this.createRedirectClient(rt),et=nt.handleRedirectPromise(o)),j=et.then(function(at){if(at){var ut=s.length<it.getAllAccounts().length;ut?(it.eventHandler.emitEvent(EventType.LOGIN_SUCCESS,InteractionType.Redirect,at),it.logger.verbose("handleRedirectResponse returned result, login success")):(it.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS,InteractionType.Redirect,at),it.logger.verbose("handleRedirectResponse returned result, acquire token success"))}return it.eventHandler.emitEvent(EventType.HANDLE_REDIRECT_END,InteractionType.Redirect),at}).catch(function(at){throw s.length>0?it.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE,InteractionType.Redirect,null,at):it.eventHandler.emitEvent(EventType.LOGIN_FAILURE,InteractionType.Redirect,null,at),it.eventHandler.emitEvent(EventType.HANDLE_REDIRECT_END,InteractionType.Redirect),at}),this.redirectResponse.set($,j)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,j]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},a.prototype.acquireTokenRedirect=function(o){return __awaiter$1(this,void 0,void 0,function(){var s,$,j,_e,et,tt=this;return __generator$1(this,function(rt){return s=this.getRequestCorrelationId(o),this.logger.verbose("acquireTokenRedirect called",s),this.preflightBrowserEnvironmentCheck(InteractionType.Redirect),$=this.getAllAccounts().length>0,$?this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START,InteractionType.Redirect,o):this.eventHandler.emitEvent(EventType.LOGIN_START,InteractionType.Redirect,o),this.nativeExtensionProvider&&this.canUseNative(o)?(_e=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(o),this.nativeInternalStorage,o.correlationId),j=_e.acquireTokenRedirect(o).catch(function(nt){if(nt instanceof NativeAuthError&&nt.isFatal()){tt.nativeExtensionProvider=void 0;var it=tt.createRedirectClient(o.correlationId);return it.acquireToken(o)}else if(nt instanceof InteractionRequiredAuthError){tt.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");var it=tt.createRedirectClient(o.correlationId);return it.acquireToken(o)}throw tt.browserStorage.setInteractionInProgress(!1),nt})):(et=this.createRedirectClient(o.correlationId),j=et.acquireToken(o)),[2,j.catch(function(nt){throw $?tt.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE,InteractionType.Redirect,null,nt):tt.eventHandler.emitEvent(EventType.LOGIN_FAILURE,InteractionType.Redirect,null,nt),nt})]})})},a.prototype.acquireTokenPopup=function(o){var s=this,$=this.getRequestCorrelationId(o),j=this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenPopup,$);try{this.logger.verbose("acquireTokenPopup called",$),this.preflightBrowserEnvironmentCheck(InteractionType.Popup)}catch(rt){return Promise.reject(rt)}var _e=this.getAllAccounts();_e.length>0?this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START,InteractionType.Popup,o):this.eventHandler.emitEvent(EventType.LOGIN_START,InteractionType.Popup,o);var et;if(this.canUseNative(o))et=this.acquireTokenNative(o,ApiId.acquireTokenPopup).then(function(rt){return s.browserStorage.setInteractionInProgress(!1),j.endMeasurement({success:!0,isNativeBroker:!0,requestId:rt.requestId}),rt}).catch(function(rt){if(rt instanceof NativeAuthError&&rt.isFatal()){s.nativeExtensionProvider=void 0;var nt=s.createPopupClient(o.correlationId);return nt.acquireToken(o)}else if(rt instanceof InteractionRequiredAuthError){s.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");var nt=s.createPopupClient(o.correlationId);return nt.acquireToken(o)}throw s.browserStorage.setInteractionInProgress(!1),rt});else{var tt=this.createPopupClient(o.correlationId);et=tt.acquireToken(o)}return et.then(function(rt){var nt=_e.length<s.getAllAccounts().length;return nt?s.eventHandler.emitEvent(EventType.LOGIN_SUCCESS,InteractionType.Popup,rt):s.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS,InteractionType.Popup,rt),j.addStaticFields({accessTokenSize:rt.accessToken.length,idTokenSize:rt.idToken.length}),j.endMeasurement({success:!0,requestId:rt.requestId}),rt}).catch(function(rt){return _e.length>0?s.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE,InteractionType.Popup,null,rt):s.eventHandler.emitEvent(EventType.LOGIN_FAILURE,InteractionType.Popup,null,rt),j.endMeasurement({errorCode:rt.errorCode,subErrorCode:rt.subError,success:!1}),Promise.reject(rt)})},a.prototype.trackPageVisibilityWithMeasurement=function(){var o=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;o&&(this.logger.info("Perf: Visibility change detected in ",o.event.name),o.increment({visibilityChangeCount:1}))},a.prototype.ssoSilent=function(o){var s;return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt=this;return __generator$1(this,function(rt){return $=this.getRequestCorrelationId(o),j=__assign$1(__assign$1({},o),{prompt:o.prompt,correlationId:$}),this.preflightBrowserEnvironmentCheck(InteractionType.Silent),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(PerformanceEvents.SsoSilent,$),(s=this.ssoSilentMeasurement)===null||s===void 0||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",$),this.eventHandler.emitEvent(EventType.SSO_SILENT_START,InteractionType.Silent,j),this.canUseNative(j)?_e=this.acquireTokenNative(j,ApiId.ssoSilent).catch(function(nt){if(nt instanceof NativeAuthError&&nt.isFatal()){tt.nativeExtensionProvider=void 0;var it=tt.createSilentIframeClient(j.correlationId);return it.acquireToken(j)}throw nt}):(et=this.createSilentIframeClient(j.correlationId),_e=et.acquireToken(j)),[2,_e.then(function(nt){var it,ot;return tt.eventHandler.emitEvent(EventType.SSO_SILENT_SUCCESS,InteractionType.Silent,nt),(it=tt.ssoSilentMeasurement)===null||it===void 0||it.addStaticFields({accessTokenSize:nt.accessToken.length,idTokenSize:nt.idToken.length}),(ot=tt.ssoSilentMeasurement)===null||ot===void 0||ot.endMeasurement({success:!0,isNativeBroker:nt.fromNativeBroker,requestId:nt.requestId}),nt}).catch(function(nt){var it;throw tt.eventHandler.emitEvent(EventType.SSO_SILENT_FAILURE,InteractionType.Silent,null,nt),(it=tt.ssoSilentMeasurement)===null||it===void 0||it.endMeasurement({errorCode:nt.errorCode,subErrorCode:nt.subError,success:!1}),nt}).finally(function(){document.removeEventListener("visibilitychange",tt.trackPageVisibilityWithMeasurement)})]})})},a.prototype.acquireTokenByCode=function(o){return __awaiter$1(this,void 0,void 0,function(){var s,$,j,_e,et=this;return __generator$1(this,function(tt){s=this.getRequestCorrelationId(o),this.preflightBrowserEnvironmentCheck(InteractionType.Silent),this.logger.trace("acquireTokenByCode called",s),this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_BY_CODE_START,InteractionType.Silent,o),$=this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenByCode,o.correlationId);try{if(o.code&&o.nativeAccountId)throw BrowserAuthError.createSpaCodeAndNativeAccountIdPresentError();if(o.code)return j=o.code,_e=this.hybridAuthCodeResponses.get(j),_e?(this.logger.verbose("Existing acquireTokenByCode request found",o.correlationId),$.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",s),_e=this.acquireTokenByCodeAsync(__assign$1(__assign$1({},o),{correlationId:s})).then(function(rt){return et.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_BY_CODE_SUCCESS,InteractionType.Silent,rt),et.hybridAuthCodeResponses.delete(j),$.addStaticFields({accessTokenSize:rt.accessToken.length,idTokenSize:rt.idToken.length}),$.endMeasurement({success:!0,isNativeBroker:rt.fromNativeBroker,requestId:rt.requestId}),rt}).catch(function(rt){throw et.hybridAuthCodeResponses.delete(j),et.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_BY_CODE_FAILURE,InteractionType.Silent,null,rt),$.endMeasurement({errorCode:rt.errorCode,subErrorCode:rt.subError,success:!1}),rt}),this.hybridAuthCodeResponses.set(j,_e)),[2,_e];if(o.nativeAccountId){if(this.canUseNative(o,o.nativeAccountId))return[2,this.acquireTokenNative(o,ApiId.acquireTokenByCode,o.nativeAccountId).catch(function(rt){throw rt instanceof NativeAuthError&&rt.isFatal()&&(et.nativeExtensionProvider=void 0),rt})];throw BrowserAuthError.createUnableToAcquireTokenFromNativePlatformError()}else throw BrowserAuthError.createAuthCodeOrNativeAccountIdRequiredError()}catch(rt){throw this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_BY_CODE_FAILURE,InteractionType.Silent,null,rt),$.endMeasurement({errorCode:rt instanceof AuthError&&rt.errorCode||void 0,subErrorCode:rt instanceof AuthError&&rt.subError||void 0,success:!1}),rt}return[2]})})},a.prototype.acquireTokenByCodeAsync=function(o){var s;return __awaiter$1(this,void 0,void 0,function(){var $,j,_e=this;return __generator$1(this,function(et){switch(et.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",o.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenByCodeAsync,o.correlationId),(s=this.acquireTokenByCodeAsyncMeasurement)===null||s===void 0||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),$=this.createSilentAuthCodeClient(o.correlationId),[4,$.acquireToken(o).then(function(tt){var rt;return(rt=_e.acquireTokenByCodeAsyncMeasurement)===null||rt===void 0||rt.endMeasurement({success:!0,fromCache:tt.fromCache,isNativeBroker:tt.fromNativeBroker,requestId:tt.requestId}),tt}).catch(function(tt){var rt;throw(rt=_e.acquireTokenByCodeAsyncMeasurement)===null||rt===void 0||rt.endMeasurement({errorCode:tt.errorCode,subErrorCode:tt.subError,success:!1}),tt}).finally(function(){document.removeEventListener("visibilitychange",_e.trackPageVisibilityWithMeasurement)})];case 1:return j=et.sent(),[2,j]}})})},a.prototype.acquireTokenFromCache=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(j){switch(this.performanceClient.addQueueMeasurement(PerformanceEvents.AcquireTokenFromCache,s.correlationId),$.cacheLookupPolicy){case CacheLookupPolicy.Default:case CacheLookupPolicy.AccessToken:case CacheLookupPolicy.AccessTokenAndRefreshToken:return[2,o.acquireToken(s)];default:throw ClientAuthError.createRefreshRequiredError()}return[2]})})},a.prototype.acquireTokenByRefreshToken=function(o,s){return __awaiter$1(this,void 0,void 0,function(){var $;return __generator$1(this,function(j){switch(this.performanceClient.addQueueMeasurement(PerformanceEvents.AcquireTokenByRefreshToken,o.correlationId),s.cacheLookupPolicy){case CacheLookupPolicy.Default:case CacheLookupPolicy.AccessTokenAndRefreshToken:case CacheLookupPolicy.RefreshToken:case CacheLookupPolicy.RefreshTokenAndNetwork:return $=this.createSilentRefreshClient(o.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.SilentRefreshClientAcquireToken,o.correlationId),[2,$.acquireToken(o)];default:throw ClientAuthError.createRefreshRequiredError()}return[2]})})},a.prototype.acquireTokenBySilentIframe=function(o){return __awaiter$1(this,void 0,void 0,function(){var s;return __generator$1(this,function($){return this.performanceClient.addQueueMeasurement(PerformanceEvents.AcquireTokenBySilentIframe,o.correlationId),s=this.createSilentIframeClient(o.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.SilentIframeClientAcquireToken,o.correlationId),[2,s.acquireToken(o)]})})},a.prototype.logout=function(o){return __awaiter$1(this,void 0,void 0,function(){var s;return __generator$1(this,function($){return s=this.getRequestCorrelationId(o),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",s),[2,this.logoutRedirect(__assign$1({correlationId:s},o))]})})},a.prototype.logoutRedirect=function(o){return __awaiter$1(this,void 0,void 0,function(){var s,$;return __generator$1(this,function(j){return s=this.getRequestCorrelationId(o),this.preflightBrowserEnvironmentCheck(InteractionType.Redirect),$=this.createRedirectClient(s),[2,$.logout(o)]})})},a.prototype.logoutPopup=function(o){try{var s=this.getRequestCorrelationId(o);this.preflightBrowserEnvironmentCheck(InteractionType.Popup);var $=this.createPopupClient(s);return $.logout(o)}catch(j){return Promise.reject(j)}},a.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},a.prototype.getAccountByUsername=function(o){if(this.logger.trace("getAccountByUsername called"),!o)return this.logger.warning("getAccountByUsername: No username provided"),null;var s=this.browserStorage.getAccountInfoFilteredBy({username:o});return s?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: "+o),s):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},a.prototype.getAccountByHomeId=function(o){if(this.logger.trace("getAccountByHomeId called"),!o)return this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null;var s=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:o});return s?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: "+o),s):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},a.prototype.getAccountByLocalId=function(o){if(this.logger.trace("getAccountByLocalId called"),!o)return this.logger.warning("getAccountByLocalId: No localAccountId provided"),null;var s=this.browserStorage.getAccountInfoFilteredBy({localAccountId:o});return s?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: "+o),s):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},a.prototype.setActiveAccount=function(o){this.browserStorage.setActiveAccount(o)},a.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},a.prototype.preflightBrowserEnvironmentCheck=function(o,s){if(s===void 0&&(s=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),BrowserUtils.blockNonBrowserEnvironment(this.isBrowserEnvironment),BrowserUtils.blockRedirectInIframe(o,this.config.system.allowRedirectInIframe),BrowserUtils.blockReloadInHiddenIframes(),BrowserUtils.blockAcquireTokenInPopups(),BrowserUtils.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),o===InteractionType.Redirect&&this.config.cache.cacheLocation===BrowserCacheLocation.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw BrowserConfigurationAuthError.createInMemoryRedirectUnavailableError();(o===InteractionType.Redirect||o===InteractionType.Popup)&&this.preflightInteractiveRequest(s)},a.prototype.preflightInteractiveRequest=function(o){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),BrowserUtils.blockReloadInHiddenIframes(),o&&this.browserStorage.setInteractionInProgress(!0)},a.prototype.acquireTokenNative=function(o,s,$){return __awaiter$1(this,void 0,void 0,function(){var j;return __generator$1(this,function(_e){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw BrowserAuthError.createNativeConnectionNotEstablishedError();return j=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,s,this.performanceClient,this.nativeExtensionProvider,$||this.getNativeAccountId(o),this.nativeInternalStorage,o.correlationId),[2,j.acquireToken(o)]})})},a.prototype.canUseNative=function(o,s){if(this.logger.trace("canUseNative called"),!NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,o.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(o.prompt)switch(o.prompt){case PromptValue.NONE:case PromptValue.CONSENT:case PromptValue.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+o.prompt+" is not compatible with native flow, returning false"),!1}return!s&&!this.getNativeAccountId(o)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0},a.prototype.getNativeAccountId=function(o){var s=o.account||this.browserStorage.getAccountInfoByHints(o.loginHint,o.sid)||this.getActiveAccount();return s&&s.nativeAccountId||""},a.prototype.createPopupClient=function(o){return new PopupClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,o)},a.prototype.createRedirectClient=function(o){return new RedirectClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,o)},a.prototype.createSilentIframeClient=function(o){return new SilentIframeClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,o)},a.prototype.createSilentCacheClient=function(o){return new SilentCacheClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,o)},a.prototype.createSilentRefreshClient=function(o){return new SilentRefreshClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,o)},a.prototype.createSilentAuthCodeClient=function(o){return new SilentAuthCodeClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,o)},a.prototype.addEventCallback=function(o){return this.eventHandler.addEventCallback(o)},a.prototype.removeEventCallback=function(o){this.eventHandler.removeEventCallback(o)},a.prototype.addPerformanceCallback=function(o){return this.performanceClient.addPerformanceCallback(o)},a.prototype.removePerformanceCallback=function(o){return this.performanceClient.removePerformanceCallback(o)},a.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},a.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},a.prototype.getTokenCache=function(){return this.tokenCache},a.prototype.getLogger=function(){return this.logger},a.prototype.setLogger=function(o){this.logger=o},a.prototype.initializeWrapperLibrary=function(o,s){this.browserStorage.setWrapperMetadata(o,s)},a.prototype.setNavigationClient=function(o){this.navigationClient=o},a.prototype.getConfiguration=function(){return this.config},a.prototype.getRequestCorrelationId=function(o){return o!=null&&o.correlationId?o.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():Constants.EMPTY_STRING},a}();/*! @azure/msal-browser v2.37.0 2023-05-01 */var PublicClientApplication=function(a){__extends$1(o,a);function o(s){var $=a.call(this,s)||this;return $.astsAsyncMeasurement=void 0,$.activeSilentTokenRequests=new Map,$.trackPageVisibility=$.trackPageVisibility.bind($),$}return o.prototype.loginRedirect=function(s){return __awaiter$1(this,void 0,void 0,function(){var $;return __generator$1(this,function(j){return $=this.getRequestCorrelationId(s),this.logger.verbose("loginRedirect called",$),[2,this.acquireTokenRedirect(__assign$1({correlationId:$},s||DEFAULT_REQUEST))]})})},o.prototype.loginPopup=function(s){var $=this.getRequestCorrelationId(s);return this.logger.verbose("loginPopup called",$),this.acquireTokenPopup(__assign$1({correlationId:$},s||DEFAULT_REQUEST))},o.prototype.acquireTokenSilent=function(s){return __awaiter$1(this,void 0,void 0,function(){var $,j,_e,et,tt,rt,nt,it=this;return __generator$1(this,function(ot){if($=this.getRequestCorrelationId(s),j=this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenSilent,$),j.addStaticFields({cacheLookupPolicy:s.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(InteractionType.Silent),this.logger.verbose("acquireTokenSilent called",$),_e=s.account||this.getActiveAccount(),!_e)throw BrowserAuthError.createNoAccountError();return et={clientId:this.config.auth.clientId,authority:s.authority||Constants.EMPTY_STRING,scopes:s.scopes,homeAccountIdentifier:_e.homeAccountId,claims:s.claims,authenticationScheme:s.authenticationScheme,resourceRequestMethod:s.resourceRequestMethod,resourceRequestUri:s.resourceRequestUri,shrClaims:s.shrClaims,sshKid:s.sshKid},tt=JSON.stringify(et),rt=this.activeSilentTokenRequests.get(tt),typeof rt>"u"?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",$),this.performanceClient.setPreQueueTime(PerformanceEvents.AcquireTokenSilentAsync,$),nt=this.acquireTokenSilentAsync(__assign$1(__assign$1({},s),{correlationId:$}),_e).then(function(at){return it.activeSilentTokenRequests.delete(tt),j.addStaticFields({accessTokenSize:at.accessToken.length,idTokenSize:at.idToken.length}),j.endMeasurement({success:!0,fromCache:at.fromCache,isNativeBroker:at.fromNativeBroker,cacheLookupPolicy:s.cacheLookupPolicy,requestId:at.requestId}),at}).catch(function(at){throw it.activeSilentTokenRequests.delete(tt),j.endMeasurement({errorCode:at.errorCode,subErrorCode:at.subError,success:!1}),at}),this.activeSilentTokenRequests.set(tt,nt),[2,nt]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",$),j.discardMeasurement(),[2,rt])})})},o.prototype.trackPageVisibility=function(){this.astsAsyncMeasurement&&(this.logger.info("Perf: Visibility change detected"),this.astsAsyncMeasurement.increment({visibilityChangeCount:1}))},o.prototype.acquireTokenSilentAsync=function(s,$){var j;return __awaiter$1(this,void 0,void 0,function(){var _e,et,tt,rt,nt,it=this;return __generator$1(this,function(ot){switch(ot.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.AcquireTokenSilentAsync,s.correlationId),this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START,InteractionType.Silent,s),this.astsAsyncMeasurement=this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenSilentAsync,s.correlationId),(j=this.astsAsyncMeasurement)===null||j===void 0||j.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibility),NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,s.authenticationScheme)&&$.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),et=__assign$1(__assign$1({},s),{account:$}),_e=this.acquireTokenNative(et,ApiId.acquireTokenSilent_silentFlow).catch(function(at){return __awaiter$1(it,void 0,void 0,function(){var ut;return __generator$1(this,function(ht){if(at instanceof NativeAuthError&&at.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,ut=this.createSilentIframeClient(s.correlationId),[2,ut.acquireToken(s)];throw at})})}),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),tt=this.createSilentCacheClient(s.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.InitializeSilentRequest,s.correlationId),[4,tt.initializeSilentRequest(s,$)];case 2:rt=ot.sent(),nt=__assign$1(__assign$1({},s),{cacheLookupPolicy:s.cacheLookupPolicy||CacheLookupPolicy.Default}),this.performanceClient.setPreQueueTime(PerformanceEvents.AcquireTokenFromCache,rt.correlationId),_e=this.acquireTokenFromCache(tt,rt,nt).catch(function(at){if(nt.cacheLookupPolicy===CacheLookupPolicy.AccessToken)throw at;return BrowserUtils.blockReloadInHiddenIframes(),it.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_NETWORK_START,InteractionType.Silent,rt),it.performanceClient.setPreQueueTime(PerformanceEvents.AcquireTokenByRefreshToken,rt.correlationId),it.acquireTokenByRefreshToken(rt,nt).catch(function(ut){var ht=ut instanceof ServerError,pt=ut instanceof InteractionRequiredAuthError,Ct=ut.errorCode===BrowserConstants.INVALID_GRANT_ERROR;if((!ht||!Ct||pt||nt.cacheLookupPolicy===CacheLookupPolicy.AccessTokenAndRefreshToken||nt.cacheLookupPolicy===CacheLookupPolicy.RefreshToken)&&nt.cacheLookupPolicy!==CacheLookupPolicy.Skip)throw ut;return it.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",s.correlationId),it.performanceClient.setPreQueueTime(PerformanceEvents.AcquireTokenBySilentIframe,rt.correlationId),it.acquireTokenBySilentIframe(rt)})}),ot.label=3;case 3:return[2,_e.then(function(at){var ut;return it.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS,InteractionType.Silent,at),(ut=it.astsAsyncMeasurement)===null||ut===void 0||ut.endMeasurement({success:!0,fromCache:at.fromCache,isNativeBroker:at.fromNativeBroker,requestId:at.requestId}),at}).catch(function(at){var ut;throw it.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE,InteractionType.Silent,null,at),(ut=it.astsAsyncMeasurement)===null||ut===void 0||ut.endMeasurement({errorCode:at.errorCode,subErrorCode:at.subError,success:!1}),at}).finally(function(){document.removeEventListener("visibilitychange",it.trackPageVisibility)})]}})})},o}(ClientApplication);/*! @azure/msal-browser v2.37.0 2023-05-01 */var stubbedPublicClientApplication={initialize:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},acquireTokenPopup:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},acquireTokenRedirect:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},acquireTokenSilent:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},acquireTokenByCode:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},getAllAccounts:function(){return[]},getAccountByHomeId:function(){return null},getAccountByUsername:function(){return null},getAccountByLocalId:function(){return null},handleRedirectPromise:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},loginPopup:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},loginRedirect:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},logout:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},logoutRedirect:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},logoutPopup:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},ssoSilent:function(){return Promise.reject(BrowserConfigurationAuthError.createStubPcaInstanceCalledError())},addEventCallback:function(){return null},removeEventCallback:function(){},addPerformanceCallback:function(){return""},removePerformanceCallback:function(){return!1},enableAccountStorageEvents:function(){},disableAccountStorageEvents:function(){},getTokenCache:function(){throw BrowserConfigurationAuthError.createStubPcaInstanceCalledError()},getLogger:function(){throw BrowserConfigurationAuthError.createStubPcaInstanceCalledError()},setLogger:function(){},setActiveAccount:function(){},getActiveAccount:function(){return null},initializeWrapperLibrary:function(){},setNavigationClient:function(){},getConfiguration:function(){throw BrowserConfigurationAuthError.createStubPcaInstanceCalledError()}};/*! @azure/msal-browser v2.37.0 2023-05-01 */var EventMessageUtils=function(){function a(){}return a.getInteractionStatusFromEvent=function(o,s){switch(o.eventType){case EventType.LOGIN_START:return InteractionStatus.Login;case EventType.SSO_SILENT_START:return InteractionStatus.SsoSilent;case EventType.ACQUIRE_TOKEN_START:if(o.interactionType===InteractionType.Redirect||o.interactionType===InteractionType.Popup)return InteractionStatus.AcquireToken;break;case EventType.HANDLE_REDIRECT_START:return InteractionStatus.HandleRedirect;case EventType.LOGOUT_START:return InteractionStatus.Logout;case EventType.SSO_SILENT_SUCCESS:case EventType.SSO_SILENT_FAILURE:if(s&&s!==InteractionStatus.SsoSilent)break;return InteractionStatus.None;case EventType.LOGOUT_END:if(s&&s!==InteractionStatus.Logout)break;return InteractionStatus.None;case EventType.HANDLE_REDIRECT_END:if(s&&s!==InteractionStatus.HandleRedirect)break;return InteractionStatus.None;case EventType.LOGIN_SUCCESS:case EventType.LOGIN_FAILURE:case EventType.ACQUIRE_TOKEN_SUCCESS:case EventType.ACQUIRE_TOKEN_FAILURE:if(o.interactionType===InteractionType.Redirect||o.interactionType===InteractionType.Popup){if(s&&s!==InteractionStatus.Login&&s!==InteractionStatus.AcquireToken)break;return InteractionStatus.None}break}return null},a}();const defaultMsalContext={instance:stubbedPublicClientApplication,inProgress:InteractionStatus.None,accounts:[],logger:new Logger({})},MsalContext=reactExports.createContext(defaultMsalContext);MsalContext.Consumer;function getChildrenOrFunction(a,o){return typeof a=="function"?a(o):a}function accountArraysAreEqual(a,o){if(a.length!==o.length)return!1;const s=[...o];return a.every($=>{const j=s.shift();return!$||!j?!1:$.homeAccountId===j.homeAccountId&&$.localAccountId===j.localAccountId&&$.username===j.username})}function getAccountByIdentifiers(a,o){return a.length>0&&(o.homeAccountId||o.localAccountId||o.username)&&a.filter($=>!(o.username&&o.username.toLowerCase()!==$.username.toLowerCase()||o.homeAccountId&&o.homeAccountId.toLowerCase()!==$.homeAccountId.toLowerCase()||o.localAccountId&&o.localAccountId.toLowerCase()!==$.localAccountId.toLowerCase()))[0]||null}const name="@azure/msal-react",version$1="1.5.7";var MsalProviderActionType;(function(a){a.UNBLOCK_INPROGRESS="UNBLOCK_INPROGRESS",a.EVENT="EVENT"})(MsalProviderActionType||(MsalProviderActionType={}));const reducer=(a,o)=>{const{type:s,payload:$}=o;let j=a.inProgress;switch(s){case MsalProviderActionType.UNBLOCK_INPROGRESS:a.inProgress===InteractionStatus.Startup&&(j=InteractionStatus.None,$.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case MsalProviderActionType.EVENT:const et=$.message,tt=EventMessageUtils.getInteractionStatusFromEvent(et,a.inProgress);tt&&($.logger.info(`MsalProvider - ${et.eventType} results in setting inProgress from ${a.inProgress} to ${tt}`),j=tt);break;default:throw new Error(`Unknown action type: ${s}`)}const _e=$.instance.getAllAccounts();return j!==a.inProgress&&!accountArraysAreEqual(_e,a.accounts)?{...a,inProgress:j,accounts:_e}:j!==a.inProgress?{...a,inProgress:j}:accountArraysAreEqual(_e,a.accounts)?a:{...a,accounts:_e}};function MsalProvider(a){let{instance:o,children:s}=a;reactExports.useEffect(()=>{o.initializeWrapperLibrary(WrapperSKU.React,version$1)},[o]);const $=reactExports.useMemo(()=>o.getLogger().clone(name,version$1),[o]),[j,_e]=reactExports.useReducer(reducer,void 0,()=>({inProgress:InteractionStatus.Startup,accounts:o.getAllAccounts()}));reactExports.useEffect(()=>{const tt=o.addEventCallback(rt=>{_e({payload:{instance:o,logger:$,message:rt},type:MsalProviderActionType.EVENT})});return $.verbose(`MsalProvider - Registered event callback with id: ${tt}`),o.initialize().then(()=>{o.handleRedirectPromise().catch(()=>{}).finally(()=>{_e({payload:{instance:o,logger:$},type:MsalProviderActionType.UNBLOCK_INPROGRESS})})}),()=>{tt&&($.verbose(`MsalProvider - Removing event callback ${tt}`),o.removeEventCallback(tt))}},[o,$]);const et={instance:o,inProgress:j.inProgress,accounts:j.accounts,logger:$};return React.createElement(MsalContext.Provider,{value:et},s)}const useMsal=()=>reactExports.useContext(MsalContext);function isAuthenticated(a,o){return o&&(o.username||o.homeAccountId||o.localAccountId)?!!getAccountByIdentifiers(a,o):a.length>0}function useIsAuthenticated(a){const{accounts:o,inProgress:s}=useMsal(),[$,j]=reactExports.useState(()=>s===InteractionStatus.Startup?!1:isAuthenticated(o,a));return reactExports.useEffect(()=>{j(isAuthenticated(o,a))},[o,a]),$}function AuthenticatedTemplate(a){let{username:o,homeAccountId:s,localAccountId:$,children:j}=a;const _e=useMsal(),et=reactExports.useMemo(()=>({username:o,homeAccountId:s,localAccountId:$}),[o,s,$]);return useIsAuthenticated(et)&&_e.inProgress!==InteractionStatus.Startup?React.createElement(React.Fragment,null,getChildrenOrFunction(j,_e)):null}function UnauthenticatedTemplate(a){let{username:o,homeAccountId:s,localAccountId:$,children:j}=a;const _e=useMsal(),et=reactExports.useMemo(()=>({username:o,homeAccountId:s,localAccountId:$}),[o,s,$]);return!useIsAuthenticated(et)&&_e.inProgress!==InteractionStatus.Startup&&_e.inProgress!==InteractionStatus.HandleRedirect?React.createElement(React.Fragment,null,getChildrenOrFunction(j,_e)):null}const msalConfig={auth:{clientId:"fac38cdd-7395-4845-b4bc-25dacfb9d720",authority:"https://login.microsoftonline.com/consumers",redirectUri:"https://omp.msfasr.com"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(a,o,s)=>{if(!s)switch(a){case LogLevel.Error:console.error(o);return;case LogLevel.Info:console.info(o);return;case LogLevel.Verbose:console.debug(o);return;case LogLevel.Warning:console.warn(o);return}}}}},loginRequest={scopes:["User.Read","Files.Read"]},graphConfig={graphMeEndpoint:"https://graph.microsoft.com/v1.0/me"};async function getFiles(a,o){const s=new Headers,$=`Bearer ${o}`;s.append("Authorization",$);const j={method:"GET",headers:s};return fetch(`${graphConfig.graphMeEndpoint}/drive/root:/${encodeURI(a)}:/children?$top=2147483647`,j).then(_e=>_e.json()).catch(_e=>console.log(_e))}async function getFile(a,o){const s=new Headers,$=`Bearer ${o}`;s.append("Authorization",$);const j={method:"GET",headers:s};return fetch(`${graphConfig.graphMeEndpoint}/drive/root:/${encodeURI(a)}`,j).then(_e=>_e.json()).catch(_e=>console.log(_e))}const common$4={black:"#000",white:"#fff"},common$5=common$4,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function isPlainObject(a){return a!==null&&typeof a=="object"&&a.constructor===Object}function deepClone(a){if(!isPlainObject(a))return a;const o={};return Object.keys(a).forEach(s=>{o[s]=deepClone(a[s])}),o}function deepmerge(a,o,s={clone:!0}){const $=s.clone?{...a}:a;return isPlainObject(a)&&isPlainObject(o)&&Object.keys(o).forEach(j=>{j!=="__proto__"&&(isPlainObject(o[j])&&j in a&&isPlainObject(a[j])?$[j]=deepmerge(a[j],o[j],s):s.clone?$[j]=isPlainObject(o[j])?deepClone(o[j]):o[j]:$[j]=o[j])}),$}function formatMuiErrorMessage(a){let o="https://mui.com/production-error/?code="+a;for(let s=1;s<arguments.length;s+=1)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified MUI error #"+a+"; visit "+o+" for the full message."}var reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$2=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$3=Symbol.for("react.context"),k$2=Symbol.for("react.server_context"),l$2=Symbol.for("react.forward_ref"),m$2=Symbol.for("react.suspense"),n$3=Symbol.for("react.suspense_list"),p$3=Symbol.for("react.memo"),q$3=Symbol.for("react.lazy"),t$3=Symbol.for("react.offscreen"),u$2;u$2=Symbol.for("react.module.reference");function v$2(a){if(typeof a=="object"&&a!==null){var o=a.$$typeof;switch(o){case b$1:switch(a=a.type,a){case d$1:case f$1:case e$2:case m$2:case n$3:return a;default:switch(a=a&&a.$$typeof,a){case k$2:case h$3:case l$2:case q$3:case p$3:case g$1:return a;default:return o}}case c$1:return o}}}reactIs_production_min$1.ContextConsumer=h$3;reactIs_production_min$1.ContextProvider=g$1;reactIs_production_min$1.Element=b$1;reactIs_production_min$1.ForwardRef=l$2;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$3;reactIs_production_min$1.Memo=p$3;reactIs_production_min$1.Portal=c$1;reactIs_production_min$1.Profiler=f$1;reactIs_production_min$1.StrictMode=e$2;reactIs_production_min$1.Suspense=m$2;reactIs_production_min$1.SuspenseList=n$3;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(a){return v$2(a)===h$3};reactIs_production_min$1.isContextProvider=function(a){return v$2(a)===g$1};reactIs_production_min$1.isElement=function(a){return typeof a=="object"&&a!==null&&a.$$typeof===b$1};reactIs_production_min$1.isForwardRef=function(a){return v$2(a)===l$2};reactIs_production_min$1.isFragment=function(a){return v$2(a)===d$1};reactIs_production_min$1.isLazy=function(a){return v$2(a)===q$3};reactIs_production_min$1.isMemo=function(a){return v$2(a)===p$3};reactIs_production_min$1.isPortal=function(a){return v$2(a)===c$1};reactIs_production_min$1.isProfiler=function(a){return v$2(a)===f$1};reactIs_production_min$1.isStrictMode=function(a){return v$2(a)===e$2};reactIs_production_min$1.isSuspense=function(a){return v$2(a)===m$2};reactIs_production_min$1.isSuspenseList=function(a){return v$2(a)===n$3};reactIs_production_min$1.isValidElementType=function(a){return typeof a=="string"||typeof a=="function"||a===d$1||a===f$1||a===e$2||a===m$2||a===n$3||a===t$3||typeof a=="object"&&a!==null&&(a.$$typeof===q$3||a.$$typeof===p$3||a.$$typeof===g$1||a.$$typeof===h$3||a.$$typeof===l$2||a.$$typeof===u$2||a.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$2;function capitalize(a){if(typeof a!="string")throw new Error(formatMuiErrorMessage(7));return a.charAt(0).toUpperCase()+a.slice(1)}function createChainedFunction(...a){return a.reduce((o,s)=>s==null?o:function(...j){o.apply(this,j),s.apply(this,j)},()=>{})}function debounce(a,o=166){let s;function $(...j){const _e=()=>{a.apply(this,j)};clearTimeout(s),s=setTimeout(_e,o)}return $.clear=()=>{clearTimeout(s)},$}function deprecatedPropType(a,o){return()=>null}function isMuiElement(a,o){return reactExports.isValidElement(a)&&o.indexOf(a.type.muiName)!==-1}function ownerDocument(a){return a&&a.ownerDocument||document}function ownerWindow(a){return ownerDocument(a).defaultView||window}function requirePropFactory(a,o){return()=>null}function setRef(a,o){typeof a=="function"?a(o):a&&(a.current=o)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(a){const[o,s]=reactExports.useState(a),$=a||o;return reactExports.useEffect(()=>{o==null&&(globalId+=1,s(`mui-${globalId}`))},[o]),$}const maybeReactUseId=React$1["useId".toString()];function useId(a){if(maybeReactUseId!==void 0){const o=maybeReactUseId();return a??o}return useGlobalId(a)}function unsupportedProp(a,o,s,$,j){return null}function useControlled({controlled:a,default:o,name:s,state:$="value"}){const{current:j}=reactExports.useRef(a!==void 0),[_e,et]=reactExports.useState(o),tt=j?a:_e,rt=reactExports.useCallback(nt=>{j||et(nt)},[]);return[tt,rt]}function useEventCallback(a){const o=reactExports.useRef(a);return useEnhancedEffect$1(()=>{o.current=a}),reactExports.useCallback((...s)=>(0,o.current)(...s),[])}function useForkRef(...a){return reactExports.useMemo(()=>a.every(o=>o==null)?null:o=>{a.forEach(s=>{setRef(s,o)})},a)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(a){const{type:o,tagName:s}=a;return!!(s==="INPUT"&&inputTypesWhitelist[o]&&!a.readOnly||s==="TEXTAREA"&&!a.readOnly||a.isContentEditable)}function handleKeyDown(a){a.metaKey||a.altKey||a.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(a){a.addEventListener("keydown",handleKeyDown,!0),a.addEventListener("mousedown",handlePointerDown,!0),a.addEventListener("pointerdown",handlePointerDown,!0),a.addEventListener("touchstart",handlePointerDown,!0),a.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(a){const{target:o}=a;try{return o.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(o)}function useIsFocusVisible(){const a=reactExports.useCallback(j=>{j!=null&&prepare(j.ownerDocument)},[]),o=reactExports.useRef(!1);function s(){return o.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),o.current=!1,!0):!1}function $(j){return isFocusVisible(j)?(o.current=!0,!0):!1}return{isFocusVisibleRef:o,onFocus:$,onBlur:s,ref:a}}const visuallyHidden={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},visuallyHidden$1=visuallyHidden;function resolveProps(a,o){const s={...o};return Object.keys(a).forEach($=>{if($.toString().match(/^(components|slots)$/))s[$]={...a[$],...s[$]};else if($.toString().match(/^(componentsProps|slotProps)$/)){const j=a[$]||{},_e=o[$];s[$]={},!_e||!Object.keys(_e)?s[$]=j:!j||!Object.keys(j)?s[$]=_e:(s[$]={..._e},Object.keys(j).forEach(et=>{s[$][et]=resolveProps(j[et],_e[et])}))}else s[$]===void 0&&(s[$]=a[$])}),s}function composeClasses(a,o,s=void 0){const $={};return Object.keys(a).forEach(j=>{$[j]=a[j].reduce((_e,et)=>{if(et){const tt=o(et);tt!==""&&_e.push(tt),s&&s[et]&&_e.push(s[et])}return _e},[]).join(" ")}),$}const defaultGenerator=a=>a,createClassNameGenerator=()=>{let a=defaultGenerator;return{configure(o){a=o},generate(o){return a(o)},reset(){a=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(a,o,s="Mui"){const $=globalStateClassesMapping[o];return $?`${s}-${$}`:`${ClassNameGenerator$1.generate(a)}-${o}`}function generateUtilityClasses(a,o,s="Mui"){const $={};return o.forEach(j=>{$[j]=generateUtilityClass(a,j,s)}),$}const THEME_ID="$$material";function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var $ in s)Object.prototype.hasOwnProperty.call(s,$)&&(a[$]=s[$])}return a},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(a,o){if(a==null)return{};var s={},$=Object.keys(a),j,_e;for(_e=0;_e<$.length;_e++)j=$[_e],!(o.indexOf(j)>=0)&&(s[j]=a[j]);return s}function memoize$1(a){var o=Object.create(null);return function(s){return o[s]===void 0&&(o[s]=a(s)),o[s]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(a){return reactPropsRegex.test(a)||a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)<91});const global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function sheetForTag(a){if(a.sheet)return a.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===a)return document.styleSheets[o]}function createStyleElement(a){var o=document.createElement("style");return o.setAttribute("data-emotion",a.key),a.nonce!==void 0&&o.setAttribute("nonce",a.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function a(s){var $=this;this._insertTag=function(j){var _e;$.tags.length===0?$.insertionPoint?_e=$.insertionPoint.nextSibling:$.prepend?_e=$.container.firstChild:_e=$.before:_e=$.tags[$.tags.length-1].nextSibling,$.container.insertBefore(j,_e),$.tags.push(j)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var o=a.prototype;return o.hydrate=function($){$.forEach(this._insertTag)},o.insert=function($){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var j=this.tags[this.tags.length-1];if(this.isSpeedy){var _e=sheetForTag(j);try{_e.insertRule($,_e.cssRules.length)}catch{}}else j.appendChild(document.createTextNode($));this.ctr++},o.flush=function(){this.tags.forEach(function($){return $.parentNode&&$.parentNode.removeChild($)}),this.tags=[],this.ctr=0},a}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$1=String.fromCharCode,assign=Object.assign;function hash(a,o){return charat(a,0)^45?(((o<<2^charat(a,0))<<2^charat(a,1))<<2^charat(a,2))<<2^charat(a,3):0}function trim(a){return a.trim()}function match(a,o){return(a=o.exec(a))?a[0]:a}function replace(a,o,s){return a.replace(o,s)}function indexof(a,o){return a.indexOf(o)}function charat(a,o){return a.charCodeAt(o)|0}function substr(a,o,s){return a.slice(o,s)}function strlen(a){return a.length}function sizeof(a){return a.length}function append(a,o){return o.push(a),a}function combine(a,o){return a.map(o).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(a,o,s,$,j,_e,et){return{value:a,root:o,parent:s,type:$,props:j,children:_e,line,column,length:et,return:""}}function copy(a,o){return assign(node("",null,null,"",null,null,0),a,{length:-a.length},o)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(a,o){return substr(characters,a,o)}function token(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc$1(a){return line=column=1,length=strlen(characters=a),position=0,[]}function dealloc(a){return characters="",a}function delimit(a){return trim(slice(position-1,delimiter(a===91?a+2:a===40?a+1:a)))}function whitespace(a){for(;(character=peek())&&character<33;)next();return token(a)>2||token(character)>3?"":" "}function escaping(a,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(a,caret()+(o<6&&peek()==32&&next()==32))}function delimiter(a){for(;next();)switch(character){case a:return position;case 34:case 39:a!==34&&a!==39&&delimiter(character);break;case 40:a===41&&delimiter(a);break;case 92:next();break}return position}function commenter(a,o){for(;next()&&a+character!==47+10;)if(a+character===42+42&&peek()===47)break;return"/*"+slice(o,position-1)+"*"+from$1(a===47?a:next())}function identifier(a){for(;!token(peek());)next();return slice(a,position)}function compile(a){return dealloc(parse$3("",null,null,null,[""],a=alloc$1(a),0,[0],a))}function parse$3(a,o,s,$,j,_e,et,tt,rt){for(var nt=0,it=0,ot=et,at=0,ut=0,ht=0,pt=1,Ct=1,lt=1,ft=0,gt="",St=j,It=_e,vt=$,dt=gt;Ct;)switch(ht=ft,ft=next()){case 40:if(ht!=108&&charat(dt,ot-1)==58){indexof(dt+=replace(delimit(ft),"&","&\f"),"&\f")!=-1&&(lt=-1);break}case 34:case 39:case 91:dt+=delimit(ft);break;case 9:case 10:case 13:case 32:dt+=whitespace(ht);break;case 92:dt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),o,s),rt);break;default:dt+="/"}break;case 123*pt:tt[nt++]=strlen(dt)*lt;case 125*pt:case 59:case 0:switch(ft){case 0:case 125:Ct=0;case 59+it:lt==-1&&(dt=replace(dt,/\f/g,"")),ut>0&&strlen(dt)-ot&&append(ut>32?declaration(dt+";",$,s,ot-1):declaration(replace(dt," ","")+";",$,s,ot-2),rt);break;case 59:dt+=";";default:if(append(vt=ruleset(dt,o,s,nt,it,j,tt,gt,St=[],It=[],ot),_e),ft===123)if(it===0)parse$3(dt,o,vt,vt,St,_e,ot,tt,It);else switch(at===99&&charat(dt,3)===110?100:at){case 100:case 108:case 109:case 115:parse$3(a,vt,vt,$&&append(ruleset(a,vt,vt,0,0,j,tt,gt,j,St=[],ot),It),j,It,ot,tt,$?St:It);break;default:parse$3(dt,vt,vt,vt,[""],It,0,tt,It)}}nt=it=ut=0,pt=lt=1,gt=dt="",ot=et;break;case 58:ot=1+strlen(dt),ut=ht;default:if(pt<1){if(ft==123)--pt;else if(ft==125&&pt++==0&&prev()==125)continue}switch(dt+=from$1(ft),ft*pt){case 38:lt=it>0?1:(dt+="\f",-1);break;case 44:tt[nt++]=(strlen(dt)-1)*lt,lt=1;break;case 64:peek()===45&&(dt+=delimit(next())),at=peek(),it=ot=strlen(gt=dt+=identifier(caret())),ft++;break;case 45:ht===45&&strlen(dt)==2&&(pt=0)}}return _e}function ruleset(a,o,s,$,j,_e,et,tt,rt,nt,it){for(var ot=j-1,at=j===0?_e:[""],ut=sizeof(at),ht=0,pt=0,Ct=0;ht<$;++ht)for(var lt=0,ft=substr(a,ot+1,ot=abs(pt=et[ht])),gt=a;lt<ut;++lt)(gt=trim(pt>0?at[lt]+" "+ft:replace(ft,/&\f/g,at[lt])))&&(rt[Ct++]=gt);return node(a,o,s,j===0?RULESET:tt,rt,nt,it)}function comment(a,o,s){return node(a,o,s,COMMENT,from$1(char()),substr(a,2,-2),0)}function declaration(a,o,s,$){return node(a,o,s,DECLARATION,substr(a,0,$),substr(a,$+1,-1),$)}function serialize$1(a,o){for(var s="",$=sizeof(a),j=0;j<$;j++)s+=o(a[j],j,a,o)||"";return s}function stringify(a,o,s,$){switch(a.type){case LAYER:if(a.children.length)break;case IMPORT:case DECLARATION:return a.return=a.return||a.value;case COMMENT:return"";case KEYFRAMES:return a.return=a.value+"{"+serialize$1(a.children,$)+"}";case RULESET:a.value=a.props.join(",")}return strlen(s=serialize$1(a.children,$))?a.return=a.value+"{"+s+"}":""}function middleware$1(a){var o=sizeof(a);return function(s,$,j,_e){for(var et="",tt=0;tt<o;tt++)et+=a[tt](s,$,j,_e)||"";return et}}function rulesheet(a){return function(o){o.root||(o=o.return)&&a(o)}}var identifierWithPointTracking=function(o,s,$){for(var j=0,_e=0;j=_e,_e=peek(),j===38&&_e===12&&(s[$]=1),!token(_e);)next();return slice(o,position)},toRules=function(o,s){var $=-1,j=44;do switch(token(j)){case 0:j===38&&peek()===12&&(s[$]=1),o[$]+=identifierWithPointTracking(position-1,s,$);break;case 2:o[$]+=delimit(j);break;case 4:if(j===44){o[++$]=peek()===58?"&\f":"",s[$]=o[$].length;break}default:o[$]+=from$1(j)}while(j=next());return o},getRules=function(o,s){return dealloc(toRules(alloc$1(o),s))},fixedElements=new WeakMap,compat=function(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var s=o.value,$=o.parent,j=o.column===$.column&&o.line===$.line;$.type!=="rule";)if($=$.parent,!$)return;if(!(o.props.length===1&&s.charCodeAt(0)!==58&&!fixedElements.get($))&&!j){fixedElements.set(o,!0);for(var _e=[],et=getRules(s,_e),tt=$.props,rt=0,nt=0;rt<et.length;rt++)for(var it=0;it<tt.length;it++,nt++)o.props[nt]=_e[rt]?et[rt].replace(/&\f/g,tt[it]):tt[it]+" "+et[rt]}}},removeLabel=function(o){if(o.type==="decl"){var s=o.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix(a,o){switch(hash(a,o)){case 5103:return WEBKIT+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+a+MOZ+a+MS+a+a;case 6828:case 4268:return WEBKIT+a+MS+a+a;case 6165:return WEBKIT+a+MS+"flex-"+a+a;case 5187:return WEBKIT+a+replace(a,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+a;case 5443:return WEBKIT+a+MS+"flex-item-"+replace(a,/flex-|-self/,"")+a;case 4675:return WEBKIT+a+MS+"flex-line-pack"+replace(a,/align-content|flex-|-self/,"")+a;case 5548:return WEBKIT+a+MS+replace(a,"shrink","negative")+a;case 5292:return WEBKIT+a+MS+replace(a,"basis","preferred-size")+a;case 6060:return WEBKIT+"box-"+replace(a,"-grow","")+WEBKIT+a+MS+replace(a,"grow","positive")+a;case 4554:return WEBKIT+replace(a,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+a;case 6187:return replace(replace(replace(a,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),a,"")+a;case 5495:case 3959:return replace(a,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(a,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+a+a;case 4095:case 3583:case 4068:case 2532:return replace(a,/(.+)-inline(.+)/,WEBKIT+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(a)-1-o>6)switch(charat(a,o+1)){case 109:if(charat(a,o+4)!==45)break;case 102:return replace(a,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(a,o+3)==108?"$3":"$2-$3"))+a;case 115:return~indexof(a,"stretch")?prefix(replace(a,"stretch","fill-available"),o)+a:a}break;case 4949:if(charat(a,o+1)!==115)break;case 6444:switch(charat(a,strlen(a)-3-(~indexof(a,"!important")&&10))){case 107:return replace(a,":",":"+WEBKIT)+a;case 101:return replace(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(a,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+a}break;case 5936:switch(charat(a,o+11)){case 114:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return WEBKIT+a+MS+a+a}return a}var prefixer=function(o,s,$,j){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix(o.value,o.length);break;case KEYFRAMES:return serialize$1([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],j);case RULESET:if(o.length)return combine(o.props,function(_e){switch(match(_e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$1([copy(o,{props:[replace(_e,/:(read-\w+)/,":"+MOZ+"$1")]})],j);case"::placeholder":return serialize$1([copy(o,{props:[replace(_e,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(_e,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(_e,/:(plac\w+)/,MS+"input-$1")]})],j)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(o){var s=o.key;if(s==="css"){var $=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call($,function(pt){var Ct=pt.getAttribute("data-emotion");Ct.indexOf(" ")!==-1&&(document.head.appendChild(pt),pt.setAttribute("data-s",""))})}var j=o.stylisPlugins||defaultStylisPlugins,_e={},et,tt=[];et=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(pt){for(var Ct=pt.getAttribute("data-emotion").split(" "),lt=1;lt<Ct.length;lt++)_e[Ct[lt]]=!0;tt.push(pt)});var rt,nt=[compat,removeLabel];{var it,ot=[stringify,rulesheet(function(pt){it.insert(pt)})],at=middleware$1(nt.concat(j,ot)),ut=function(Ct){return serialize$1(compile(Ct),at)};rt=function(Ct,lt,ft,gt){it=ft,ut(Ct?Ct+"{"+lt.styles+"}":lt.styles),gt&&(ht.inserted[lt.name]=!0)}}var ht={key:s,sheet:new StyleSheet({key:s,container:et,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:_e,registered:{},insert:rt};return ht.sheet.hydrate(tt),ht},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e$1=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h$2=b?Symbol.for("react.provider"):60109,k$1=b?Symbol.for("react.context"):60110,l$1=b?Symbol.for("react.async_mode"):60111,m$1=b?Symbol.for("react.concurrent_mode"):60111,n$2=b?Symbol.for("react.forward_ref"):60112,p$2=b?Symbol.for("react.suspense"):60113,q$2=b?Symbol.for("react.suspense_list"):60120,r$3=b?Symbol.for("react.memo"):60115,t$2=b?Symbol.for("react.lazy"):60116,v$1=b?Symbol.for("react.block"):60121,w$1=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if(typeof a=="object"&&a!==null){var o=a.$$typeof;switch(o){case c:switch(a=a.type,a){case l$1:case m$1:case e$1:case g:case f:case p$2:return a;default:switch(a=a&&a.$$typeof,a){case k$1:case n$2:case t$2:case r$3:case h$2:return a;default:return o}}case d:return o}}}function A(a){return z(a)===m$1}reactIs_production_min.AsyncMode=l$1;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h$2;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$2;reactIs_production_min.Fragment=e$1;reactIs_production_min.Lazy=t$2;reactIs_production_min.Memo=r$3;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p$2;reactIs_production_min.isAsyncMode=function(a){return A(a)||z(a)===l$1};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(a){return z(a)===k$1};reactIs_production_min.isContextProvider=function(a){return z(a)===h$2};reactIs_production_min.isElement=function(a){return typeof a=="object"&&a!==null&&a.$$typeof===c};reactIs_production_min.isForwardRef=function(a){return z(a)===n$2};reactIs_production_min.isFragment=function(a){return z(a)===e$1};reactIs_production_min.isLazy=function(a){return z(a)===t$2};reactIs_production_min.isMemo=function(a){return z(a)===r$3};reactIs_production_min.isPortal=function(a){return z(a)===d};reactIs_production_min.isProfiler=function(a){return z(a)===g};reactIs_production_min.isStrictMode=function(a){return z(a)===f};reactIs_production_min.isSuspense=function(a){return z(a)===p$2};reactIs_production_min.isValidElementType=function(a){return typeof a=="string"||typeof a=="function"||a===e$1||a===m$1||a===g||a===f||a===p$2||a===q$2||typeof a=="object"&&a!==null&&(a.$$typeof===t$2||a.$$typeof===r$3||a.$$typeof===h$2||a.$$typeof===k$1||a.$$typeof===n$2||a.$$typeof===w$1||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v$1)};reactIs_production_min.typeOf=z;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(a,o,s){var $="";return s.split(" ").forEach(function(j){a[j]!==void 0?o.push(a[j]+";"):$+=j+" "}),$}var registerStyles=function(o,s,$){var j=o.key+"-"+s.name;($===!1||isBrowser===!1)&&o.registered[j]===void 0&&(o.registered[j]=s.styles)},insertStyles=function(o,s,$){registerStyles(o,s,$);var j=o.key+"-"+s.name;if(o.inserted[s.name]===void 0){var _e=s;do o.insert(s===_e?"."+j:"",_e,o.sheet,!0),_e=_e.next;while(_e!==void 0)}};function murmur2(a){for(var o=0,s,$=0,j=a.length;j>=4;++$,j-=4)s=a.charCodeAt($)&255|(a.charCodeAt(++$)&255)<<8|(a.charCodeAt(++$)&255)<<16|(a.charCodeAt(++$)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,o=(s&65535)*1540483477+((s>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch(j){case 3:o^=(a.charCodeAt($+2)&255)<<16;case 2:o^=(a.charCodeAt($+1)&255)<<8;case 1:o^=a.charCodeAt($)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(o){return o.charCodeAt(1)===45},isProcessableValue=function(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize$1(function(a){return isCustomProperty(a)?a:a.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(o,s){switch(o){case"animation":case"animationName":if(typeof s=="string")return s.replace(animationRegex,function($,j,_e){return cursor={name:j,styles:_e,next:cursor},j})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof s=="number"&&s!==0?s+"px":s},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(a,o,s){if(s==null)return"";if(s.__emotion_styles!==void 0)return s;switch(typeof s){case"boolean":return"";case"object":{if(s.anim===1)return cursor={name:s.name,styles:s.styles,next:cursor},s.name;if(s.styles!==void 0){var $=s.next;if($!==void 0)for(;$!==void 0;)cursor={name:$.name,styles:$.styles,next:cursor},$=$.next;var j=s.styles+";";return j}return createStringFromObject(a,o,s)}case"function":{if(a!==void 0){var _e=cursor,et=s(a);return cursor=_e,handleInterpolation(a,o,et)}break}}if(o==null)return s;var tt=o[s];return tt!==void 0?tt:s}function createStringFromObject(a,o,s){var $="";if(Array.isArray(s))for(var j=0;j<s.length;j++)$+=handleInterpolation(a,o,s[j])+";";else for(var _e in s){var et=s[_e];if(typeof et!="object")o!=null&&o[et]!==void 0?$+=_e+"{"+o[et]+"}":isProcessableValue(et)&&($+=processStyleName(_e)+":"+processStyleValue(_e,et)+";");else if(Array.isArray(et)&&typeof et[0]=="string"&&(o==null||o[et[0]]===void 0))for(var tt=0;tt<et.length;tt++)isProcessableValue(et[tt])&&($+=processStyleName(_e)+":"+processStyleValue(_e,et[tt])+";");else{var rt=handleInterpolation(a,o,et);switch(_e){case"animation":case"animationName":{$+=processStyleName(_e)+":"+rt+";";break}default:$+=_e+"{"+rt+"}"}}}return $}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(o,s,$){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var j=!0,_e="";cursor=void 0;var et=o[0];et==null||et.raw===void 0?(j=!1,_e+=handleInterpolation($,s,et)):_e+=et[0];for(var tt=1;tt<o.length;tt++)_e+=handleInterpolation($,s,o[tt]),j&&(_e+=et[tt]);labelPattern.lastIndex=0;for(var rt="",nt;(nt=labelPattern.exec(_e))!==null;)rt+="-"+nt[1];var it=murmur2(_e)+rt;return{name:it,styles:_e,next:cursor}},syncFallback=function(o){return o()},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(o){return reactExports.forwardRef(function(s,$){var j=reactExports.useContext(EmotionCacheContext);return o(s,j,$)})},ThemeContext=reactExports.createContext({});function css(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return serializeStyles(o)}var keyframes=function(){var o=css.apply(void 0,arguments),s="animation-"+o.name;return{name:s,styles:"@keyframes "+s+"{"+o.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(o){return o!=="theme"},getDefaultShouldForwardProp=function(o){return typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(o,s,$){var j;if(s){var _e=s.shouldForwardProp;j=o.__emotion_forwardProp&&_e?function(et){return o.__emotion_forwardProp(et)&&_e(et)}:_e}return typeof j!="function"&&$&&(j=o.__emotion_forwardProp),j},Insertion=function(o){var s=o.cache,$=o.serialized,j=o.isStringTag;return registerStyles(s,$,j),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(s,$,j)}),null},createStyled$1=function a(o,s){var $=o.__emotion_real===o,j=$&&o.__emotion_base||o,_e,et;s!==void 0&&(_e=s.label,et=s.target);var tt=composeShouldForwardProps(o,s,$),rt=tt||getDefaultShouldForwardProp(j),nt=!rt("as");return function(){var it=arguments,ot=$&&o.__emotion_styles!==void 0?o.__emotion_styles.slice(0):[];if(_e!==void 0&&ot.push("label:"+_e+";"),it[0]==null||it[0].raw===void 0)ot.push.apply(ot,it);else{ot.push(it[0][0]);for(var at=it.length,ut=1;ut<at;ut++)ot.push(it[ut],it[0][ut])}var ht=withEmotionCache(function(pt,Ct,lt){var ft=nt&&pt.as||j,gt="",St=[],It=pt;if(pt.theme==null){It={};for(var vt in pt)It[vt]=pt[vt];It.theme=reactExports.useContext(ThemeContext)}typeof pt.className=="string"?gt=getRegisteredStyles(Ct.registered,St,pt.className):pt.className!=null&&(gt=pt.className+" ");var dt=serializeStyles(ot.concat(St),Ct.registered,It);gt+=Ct.key+"-"+dt.name,et!==void 0&&(gt+=" "+et);var yt=nt&&tt===void 0?getDefaultShouldForwardProp(ft):rt,Rt={};for(var Pt in pt)nt&&Pt==="as"||yt(Pt)&&(Rt[Pt]=pt[Pt]);return Rt.className=gt,Rt.ref=lt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Ct,serialized:dt,isStringTag:typeof ft=="string"}),reactExports.createElement(ft,Rt))});return ht.displayName=_e!==void 0?_e:"Styled("+(typeof j=="string"?j:j.displayName||j.name||"Component")+")",ht.defaultProps=o.defaultProps,ht.__emotion_real=ht,ht.__emotion_base=j,ht.__emotion_styles=ot,ht.__emotion_forwardProp=tt,Object.defineProperty(ht,"toString",{value:function(){return"."+et}}),ht.withComponent=function(pt,Ct){return a(pt,_extends({},s,Ct,{shouldForwardProp:composeShouldForwardProps(ht,Ct,!0)})).apply(void 0,ot)},ht}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(a){newStyled[a]=newStyled(a)});/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$3(a,o){return newStyled(a,o)}const internal_processStyles=(a,o)=>{Array.isArray(a.__emotion_styles)&&(a.__emotion_styles=o(a.__emotion_styles))},_excluded$v=["values","unit","step"],sortBreakpointsValues=a=>{const o=Object.keys(a).map(s=>({key:s,val:a[s]}))||[];return o.sort((s,$)=>s.val-$.val),o.reduce((s,$)=>_extends({},s,{[$.key]:$.val}),{})};function createBreakpoints(a){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:$=5}=a,j=_objectWithoutPropertiesLoose(a,_excluded$v),_e=sortBreakpointsValues(o),et=Object.keys(_e);function tt(at){return`@media (min-width:${typeof o[at]=="number"?o[at]:at}${s})`}function rt(at){return`@media (max-width:${(typeof o[at]=="number"?o[at]:at)-$/100}${s})`}function nt(at,ut){const ht=et.indexOf(ut);return`@media (min-width:${typeof o[at]=="number"?o[at]:at}${s}) and (max-width:${(ht!==-1&&typeof o[et[ht]]=="number"?o[et[ht]]:ut)-$/100}${s})`}function it(at){return et.indexOf(at)+1<et.length?nt(at,et[et.indexOf(at)+1]):tt(at)}function ot(at){const ut=et.indexOf(at);return ut===0?tt(et[1]):ut===et.length-1?rt(et[ut]):nt(at,et[et.indexOf(at)+1]).replace("@media","@media not all and")}return _extends({keys:et,values:_e,up:tt,down:rt,between:nt,only:it,not:ot,unit:s},j)}const shape={borderRadius:4},shape$1=shape;function merge(a,o){return o?deepmerge(a,o,{clone:!1}):a}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:a=>`@media (min-width:${values$1[a]}px)`};function handleBreakpoints(a,o,s){const $=a.theme||{};if(Array.isArray(o)){const _e=$.breakpoints||defaultBreakpoints;return o.reduce((et,tt,rt)=>(et[_e.up(_e.keys[rt])]=s(o[rt]),et),{})}if(typeof o=="object"){const _e=$.breakpoints||defaultBreakpoints;return Object.keys(o).reduce((et,tt)=>{if(Object.keys(_e.values||values$1).indexOf(tt)!==-1){const rt=_e.up(tt);et[rt]=s(o[tt],tt)}else{const rt=tt;et[rt]=o[rt]}return et},{})}return s(o)}function createEmptyBreakpointObject(a={}){var o;return((o=a.keys)==null?void 0:o.reduce(($,j)=>{const _e=a.up(j);return $[_e]={},$},{}))||{}}function removeUnusedBreakpoints(a,o){return a.reduce((s,$)=>{const j=s[$];return(!j||Object.keys(j).length===0)&&delete s[$],s},o)}function computeBreakpointsBase(a,o){if(typeof a!="object")return{};const s={},$=Object.keys(o);return Array.isArray(a)?$.forEach((j,_e)=>{_e<a.length&&(s[j]=!0)}):$.forEach(j=>{a[j]!=null&&(s[j]=!0)}),s}function resolveBreakpointValues({values:a,breakpoints:o,base:s}){const $=s||computeBreakpointsBase(a,o),j=Object.keys($);if(j.length===0)return a;let _e;return j.reduce((et,tt,rt)=>(Array.isArray(a)?(et[tt]=a[rt]!=null?a[rt]:a[_e],_e=rt):typeof a=="object"?(et[tt]=a[tt]!=null?a[tt]:a[_e],_e=tt):et[tt]=a,et),{})}function getPath(a,o,s=!0){if(!o||typeof o!="string")return null;if(a&&a.vars&&s){const $=`vars.${o}`.split(".").reduce((j,_e)=>j&&j[_e]?j[_e]:null,a);if($!=null)return $}return o.split(".").reduce(($,j)=>$&&$[j]!=null?$[j]:null,a)}function getStyleValue(a,o,s,$=s){let j;return typeof a=="function"?j=a(s):Array.isArray(a)?j=a[s]||$:j=getPath(a,s)||$,o&&(j=o(j,$,a)),j}function style$1(a){const{prop:o,cssProperty:s=a.prop,themeKey:$,transform:j}=a,_e=et=>{if(et[o]==null)return null;const tt=et[o],rt=et.theme,nt=getPath(rt,$)||{};return handleBreakpoints(et,tt,ot=>{let at=getStyleValue(nt,j,ot);return ot===at&&typeof ot=="string"&&(at=getStyleValue(nt,j,`${o}${ot==="default"?"":capitalize(ot)}`,ot)),s===!1?at:{[s]:at}})};return _e.propTypes={},_e.filterProps=[o],_e}function memoize(a){const o={};return s=>(o[s]===void 0&&(o[s]=a(s)),o[s])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(a=>{if(a.length>2)if(aliases[a])a=aliases[a];else return[a];const[o,s]=a.split(""),$=properties[o],j=directions[s]||"";return Array.isArray(j)?j.map(_e=>$+_e):[$+j]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(a,o,s,$){var j;const _e=(j=getPath(a,o,!1))!=null?j:s;return typeof _e=="number"?et=>typeof et=="string"?et:_e*et:Array.isArray(_e)?et=>typeof et=="string"?et:_e[et]:typeof _e=="function"?_e:()=>{}}function createUnarySpacing(a){return createUnaryUnit(a,"spacing",8)}function getValue(a,o){if(typeof o=="string"||o==null)return o;const s=Math.abs(o),$=a(s);return o>=0?$:typeof $=="number"?-$:`-${$}`}function getStyleFromPropValue(a,o){return s=>a.reduce(($,j)=>($[j]=getValue(o,s),$),{})}function resolveCssProperty(a,o,s,$){if(o.indexOf(s)===-1)return null;const j=getCssProperties(s),_e=getStyleFromPropValue(j,$),et=a[s];return handleBreakpoints(a,et,_e)}function style(a,o){const s=createUnarySpacing(a.theme);return Object.keys(a).map($=>resolveCssProperty(a,o,$,s)).reduce(merge,{})}function margin(a){return style(a,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(a){return style(a,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(a=8){if(a.mui)return a;const o=createUnarySpacing({spacing:a}),s=(...$)=>($.length===0?[1]:$).map(_e=>{const et=o(_e);return typeof et=="number"?`${et}px`:et}).join(" ");return s.mui=!0,s}function compose(...a){const o=a.reduce(($,j)=>(j.filterProps.forEach(_e=>{$[_e]=j}),$),{}),s=$=>Object.keys($).reduce((j,_e)=>o[_e]?merge(j,o[_e]($)):j,{});return s.propTypes={},s.filterProps=a.reduce(($,j)=>$.concat(j.filterProps),[]),s}function borderTransform(a){return typeof a!="number"?a:`${a}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=a=>{if(a.borderRadius!==void 0&&a.borderRadius!==null){const o=createUnaryUnit(a.theme,"shape.borderRadius",4),s=$=>({borderRadius:getValue(o,$)});return handleBreakpoints(a,a.borderRadius,s)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=a=>{if(a.gap!==void 0&&a.gap!==null){const o=createUnaryUnit(a.theme,"spacing",8),s=$=>({gap:getValue(o,$)});return handleBreakpoints(a,a.gap,s)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=a=>{if(a.columnGap!==void 0&&a.columnGap!==null){const o=createUnaryUnit(a.theme,"spacing",8),s=$=>({columnGap:getValue(o,$)});return handleBreakpoints(a,a.columnGap,s)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=a=>{if(a.rowGap!==void 0&&a.rowGap!==null){const o=createUnaryUnit(a.theme,"spacing",8),s=$=>({rowGap:getValue(o,$)});return handleBreakpoints(a,a.rowGap,s)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(a,o){return o==="grey"?o:a}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(a){return a<=1&&a!==0?`${a*100}%`:a}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=a=>{if(a.maxWidth!==void 0&&a.maxWidth!==null){const o=s=>{var $,j,_e;return{maxWidth:(($=a.theme)==null||(j=$.breakpoints)==null||(_e=j.values)==null?void 0:_e[s])||values$1[s]||sizingTransform(s)}};return handleBreakpoints(a,a.maxWidth,o)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:a=>({"@media print":{display:a}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...a){const o=a.reduce(($,j)=>$.concat(Object.keys(j)),[]),s=new Set(o);return a.every($=>s.size===Object.keys($).length)}function callIfFn(a,o){return typeof a=="function"?a(o):a}function unstable_createStyleFunctionSx(){function a(s,$,j,_e){const et={[s]:$,theme:j},tt=_e[s];if(!tt)return{[s]:$};const{cssProperty:rt=s,themeKey:nt,transform:it,style:ot}=tt;if($==null)return null;if(nt==="typography"&&$==="inherit")return{[s]:$};const at=getPath(j,nt)||{};return ot?ot(et):handleBreakpoints(et,$,ht=>{let pt=getStyleValue(at,it,ht);return ht===pt&&typeof ht=="string"&&(pt=getStyleValue(at,it,`${s}${ht==="default"?"":capitalize(ht)}`,ht)),rt===!1?pt:{[rt]:pt}})}function o(s){var $;const{sx:j,theme:_e={}}=s||{};if(!j)return null;const et=($=_e.unstable_sxConfig)!=null?$:defaultSxConfig$1;function tt(rt){let nt=rt;if(typeof rt=="function")nt=rt(_e);else if(typeof rt!="object")return rt;if(!nt)return null;const it=createEmptyBreakpointObject(_e.breakpoints),ot=Object.keys(it);let at=it;return Object.keys(nt).forEach(ut=>{const ht=callIfFn(nt[ut],_e);if(ht!=null)if(typeof ht=="object")if(et[ut])at=merge(at,a(ut,ht,_e,et));else{const pt=handleBreakpoints({theme:_e},ht,Ct=>({[ut]:Ct}));objectsHaveSameKeys(pt,ht)?at[ut]=o({sx:ht,theme:_e}):at=merge(at,pt)}else at=merge(at,a(ut,ht,_e,et))}),removeUnusedBreakpoints(ot,at)}return Array.isArray(j)?j.map(tt):tt(j)}return o}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$u=["breakpoints","palette","spacing","shape"];function createTheme$1(a={},...o){const{breakpoints:s={},palette:$={},spacing:j,shape:_e={}}=a,et=_objectWithoutPropertiesLoose(a,_excluded$u),tt=createBreakpoints(s),rt=createSpacing(j);let nt=deepmerge({breakpoints:tt,direction:"ltr",components:{},palette:_extends({mode:"light"},$),spacing:rt,shape:_extends({},shape$1,_e)},et);return nt=o.reduce((it,ot)=>deepmerge(it,ot),nt),nt.unstable_sxConfig=_extends({},defaultSxConfig$1,et==null?void 0:et.unstable_sxConfig),nt.unstable_sx=function(ot){return styleFunctionSx$1({sx:ot,theme:this})},nt}function isObjectEmpty(a){return Object.keys(a).length===0}function useTheme$2(a=null){const o=reactExports.useContext(ThemeContext);return!o||isObjectEmpty(o)?a:o}const systemDefaultTheme$1=createTheme$1();function useTheme$1(a=systemDefaultTheme$1){return useTheme$2(a)}const _excluded$t=["sx"],splitProps=a=>{var o,s;const $={systemProps:{},otherProps:{}},j=(o=a==null||(s=a.theme)==null?void 0:s.unstable_sxConfig)!=null?o:defaultSxConfig$1;return Object.keys(a).forEach(_e=>{j[_e]?$.systemProps[_e]=a[_e]:$.otherProps[_e]=a[_e]}),$};function extendSxProp(a){const{sx:o}=a,s=_objectWithoutPropertiesLoose(a,_excluded$t),{systemProps:$,otherProps:j}=splitProps(s);let _e;return Array.isArray(o)?_e=[$,...o]:typeof o=="function"?_e=(...et)=>{const tt=o(...et);return isPlainObject(tt)?_extends({},$,tt):$}:_e=_extends({},$,o),_extends({},j,{sx:_e})}function r$2(a){var o,s,$="";if(typeof a=="string"||typeof a=="number")$+=a;else if(typeof a=="object")if(Array.isArray(a))for(o=0;o<a.length;o++)a[o]&&(s=r$2(a[o]))&&($&&($+=" "),$+=s);else for(o in a)a[o]&&($&&($+=" "),$+=o);return $}function clsx(){for(var a,o,s=0,$="";s<arguments.length;)(a=arguments[s++])&&(o=r$2(a))&&($&&($+=" "),$+=o);return $}const _excluded$s=["className","component"];function createBox(a={}){const{themeId:o,defaultTheme:s,defaultClassName:$="MuiBox-root",generateClassName:j}=a,_e=styled$3("div",{shouldForwardProp:tt=>tt!=="theme"&&tt!=="sx"&&tt!=="as"})(styleFunctionSx$1);return reactExports.forwardRef(function(rt,nt){const it=useTheme$1(s),ot=extendSxProp(rt),{className:at,component:ut="div"}=ot,ht=_objectWithoutPropertiesLoose(ot,_excluded$s);return jsxRuntimeExports.jsx(_e,_extends({as:ut,ref:nt,className:clsx(at,j?j($):$),theme:o&&it[o]||it},ht))})}const _excluded$r=["variant"];function isEmpty$1(a){return a.length===0}function propsToClassKey(a){const{variant:o}=a,s=_objectWithoutPropertiesLoose(a,_excluded$r);let $=o||"";return Object.keys(s).sort().forEach(j=>{j==="color"?$+=isEmpty$1($)?a[j]:capitalize(a[j]):$+=`${isEmpty$1($)?j:capitalize(j)}${capitalize(a[j].toString())}`}),$}const _excluded$q=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty(a){return Object.keys(a).length===0}function isStringTag(a){return typeof a=="string"&&a.charCodeAt(0)>96}const getStyleOverrides=(a,o)=>o.components&&o.components[a]&&o.components[a].styleOverrides?o.components[a].styleOverrides:null,getVariantStyles=(a,o)=>{let s=[];o&&o.components&&o.components[a]&&o.components[a].variants&&(s=o.components[a].variants);const $={};return s.forEach(j=>{const _e=propsToClassKey(j.props);$[_e]=j.style}),$},variantsResolver=(a,o,s,$)=>{var j,_e;const{ownerState:et={}}=a,tt=[],rt=s==null||(j=s.components)==null||(_e=j[$])==null?void 0:_e.variants;return rt&&rt.forEach(nt=>{let it=!0;Object.keys(nt.props).forEach(ot=>{et[ot]!==nt.props[ot]&&a[ot]!==nt.props[ot]&&(it=!1)}),it&&tt.push(o[propsToClassKey(nt.props)])}),tt};function shouldForwardProp(a){return a!=="ownerState"&&a!=="theme"&&a!=="sx"&&a!=="as"}const systemDefaultTheme=createTheme$1();function resolveTheme({defaultTheme:a,theme:o,themeId:s}){return isEmpty(o)?a:o[s]||o}function createStyled(a={}){const{themeId:o,defaultTheme:s=systemDefaultTheme,rootShouldForwardProp:$=shouldForwardProp,slotShouldForwardProp:j=shouldForwardProp}=a,_e=et=>styleFunctionSx$1(_extends({},et,{theme:resolveTheme(_extends({},et,{defaultTheme:s,themeId:o}))}));return _e.__mui_systemSx=!0,(et,tt={})=>{internal_processStyles(et,St=>St.filter(It=>!(It!=null&&It.__mui_systemSx)));const{name:rt,slot:nt,skipVariantsResolver:it,skipSx:ot,overridesResolver:at}=tt,ut=_objectWithoutPropertiesLoose(tt,_excluded$q),ht=it!==void 0?it:nt&&nt!=="Root"||!1,pt=ot||!1;let Ct,lt=shouldForwardProp;nt==="Root"?lt=$:nt?lt=j:isStringTag(et)&&(lt=void 0);const ft=styled$3(et,_extends({shouldForwardProp:lt,label:Ct},ut)),gt=(St,...It)=>{const vt=It?It.map(Pt=>typeof Pt=="function"&&Pt.__emotion_real!==Pt?Dt=>Pt(_extends({},Dt,{theme:resolveTheme(_extends({},Dt,{defaultTheme:s,themeId:o}))})):Pt):[];let dt=St;rt&&at&&vt.push(Pt=>{const Dt=resolveTheme(_extends({},Pt,{defaultTheme:s,themeId:o})),Ft=getStyleOverrides(rt,Dt);if(Ft){const Kt={};return Object.entries(Ft).forEach(([qt,Zt])=>{Kt[qt]=typeof Zt=="function"?Zt(_extends({},Pt,{theme:Dt})):Zt}),at(Pt,Kt)}return null}),rt&&!ht&&vt.push(Pt=>{const Dt=resolveTheme(_extends({},Pt,{defaultTheme:s,themeId:o}));return variantsResolver(Pt,getVariantStyles(rt,Dt),Dt,rt)}),pt||vt.push(_e);const yt=vt.length-It.length;if(Array.isArray(St)&&yt>0){const Pt=new Array(yt).fill("");dt=[...St,...Pt],dt.raw=[...St.raw,...Pt]}else typeof St=="function"&&St.__emotion_real!==St&&(dt=Pt=>St(_extends({},Pt,{theme:resolveTheme(_extends({},Pt,{defaultTheme:s,themeId:o}))})));const Rt=ft(dt,...vt);return et.muiName&&(Rt.muiName=et.muiName),Rt};return ft.withConfig&&(gt.withConfig=ft.withConfig),gt}}const styled$2=createStyled(),systemStyled=styled$2;function getThemeProps(a){const{theme:o,name:s,props:$}=a;return!o||!o.components||!o.components[s]||!o.components[s].defaultProps?$:resolveProps(o.components[s].defaultProps,$)}function useThemeProps$1({props:a,name:o,defaultTheme:s,themeId:$}){let j=useTheme$1(s);return $&&(j=j[$]||j),getThemeProps({theme:j,name:o,props:a})}function clamp$1(a,o=0,s=1){return Math.min(Math.max(o,a),s)}function hexToRgb(a){a=a.slice(1);const o=new RegExp(`.{1,${a.length>=6?2:1}}`,"g");let s=a.match(o);return s&&s[0].length===1&&(s=s.map($=>$+$)),s?`rgb${s.length===4?"a":""}(${s.map(($,j)=>j<3?parseInt($,16):Math.round(parseInt($,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(a){if(a.type)return a;if(a.charAt(0)==="#")return decomposeColor(hexToRgb(a));const o=a.indexOf("("),s=a.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error(formatMuiErrorMessage(9,a));let $=a.substring(o+1,a.length-1),j;if(s==="color"){if($=$.split(" "),j=$.shift(),$.length===4&&$[3].charAt(0)==="/"&&($[3]=$[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(j)===-1)throw new Error(formatMuiErrorMessage(10,j))}else $=$.split(",");return $=$.map(_e=>parseFloat(_e)),{type:s,values:$,colorSpace:j}}function recomposeColor(a){const{type:o,colorSpace:s}=a;let{values:$}=a;return o.indexOf("rgb")!==-1?$=$.map((j,_e)=>_e<3?parseInt(j,10):j):o.indexOf("hsl")!==-1&&($[1]=`${$[1]}%`,$[2]=`${$[2]}%`),o.indexOf("color")!==-1?$=`${s} ${$.join(" ")}`:$=`${$.join(", ")}`,`${o}(${$})`}function hslToRgb(a){a=decomposeColor(a);const{values:o}=a,s=o[0],$=o[1]/100,j=o[2]/100,_e=$*Math.min(j,1-j),et=(nt,it=(nt+s/30)%12)=>j-_e*Math.max(Math.min(it-3,9-it,1),-1);let tt="rgb";const rt=[Math.round(et(0)*255),Math.round(et(8)*255),Math.round(et(4)*255)];return a.type==="hsla"&&(tt+="a",rt.push(o[3])),recomposeColor({type:tt,values:rt})}function getLuminance(a){a=decomposeColor(a);let o=a.type==="hsl"||a.type==="hsla"?decomposeColor(hslToRgb(a)).values:a.values;return o=o.map(s=>(a.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio(a,o){const s=getLuminance(a),$=getLuminance(o);return(Math.max(s,$)+.05)/(Math.min(s,$)+.05)}function alpha(a,o){return a=decomposeColor(a),o=clamp$1(o),(a.type==="rgb"||a.type==="hsl")&&(a.type+="a"),a.type==="color"?a.values[3]=`/${o}`:a.values[3]=o,recomposeColor(a)}function darken(a,o){if(a=decomposeColor(a),o=clamp$1(o),a.type.indexOf("hsl")!==-1)a.values[2]*=1-o;else if(a.type.indexOf("rgb")!==-1||a.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)a.values[s]*=1-o;return recomposeColor(a)}function lighten(a,o){if(a=decomposeColor(a),o=clamp$1(o),a.type.indexOf("hsl")!==-1)a.values[2]+=(100-a.values[2])*o;else if(a.type.indexOf("rgb")!==-1)for(let s=0;s<3;s+=1)a.values[s]+=(255-a.values[s])*o;else if(a.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)a.values[s]+=(1-a.values[s])*o;return recomposeColor(a)}function emphasize(a,o=.15){return getLuminance(a)>.5?darken(a,o):lighten(a,o)}const _excluded$p=["className","component","disableGutters","fixed","maxWidth","classes"],defaultTheme$4=createTheme$1(),defaultCreateStyledComponent$1=systemStyled("div",{name:"MuiContainer",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,o[`maxWidth${capitalize(String(s.maxWidth))}`],s.fixed&&o.fixed,s.disableGutters&&o.disableGutters]}}),useThemePropsDefault$1=a=>useThemeProps$1({props:a,name:"MuiContainer",defaultTheme:defaultTheme$4}),useUtilityClasses$h=(a,o)=>{const s=rt=>generateUtilityClass(o,rt),{classes:$,fixed:j,disableGutters:_e,maxWidth:et}=a,tt={root:["root",et&&`maxWidth${capitalize(String(et))}`,j&&"fixed",_e&&"disableGutters"]};return composeClasses(tt,s,$)};function createContainer(a={}){const{createStyledComponent:o=defaultCreateStyledComponent$1,useThemeProps:s=useThemePropsDefault$1,componentName:$="MuiContainer"}=a,j=o(({theme:et,ownerState:tt})=>_extends({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!tt.disableGutters&&{paddingLeft:et.spacing(2),paddingRight:et.spacing(2),[et.breakpoints.up("sm")]:{paddingLeft:et.spacing(3),paddingRight:et.spacing(3)}}),({theme:et,ownerState:tt})=>tt.fixed&&Object.keys(et.breakpoints.values).reduce((rt,nt)=>{const it=nt,ot=et.breakpoints.values[it];return ot!==0&&(rt[et.breakpoints.up(it)]={maxWidth:`${ot}${et.breakpoints.unit}`}),rt},{}),({theme:et,ownerState:tt})=>_extends({},tt.maxWidth==="xs"&&{[et.breakpoints.up("xs")]:{maxWidth:Math.max(et.breakpoints.values.xs,444)}},tt.maxWidth&&tt.maxWidth!=="xs"&&{[et.breakpoints.up(tt.maxWidth)]:{maxWidth:`${et.breakpoints.values[tt.maxWidth]}${et.breakpoints.unit}`}}));return reactExports.forwardRef(function(tt,rt){const nt=s(tt),{className:it,component:ot="div",disableGutters:at=!1,fixed:ut=!1,maxWidth:ht="lg"}=nt,pt=_objectWithoutPropertiesLoose(nt,_excluded$p),Ct=_extends({},nt,{component:ot,disableGutters:at,fixed:ut,maxWidth:ht}),lt=useUtilityClasses$h(Ct,$);return jsxRuntimeExports.jsx(j,_extends({as:ot,ownerState:Ct,className:clsx(lt.root,it),ref:rt},pt))})}function appendLevel(a){return a?`Level${a}`:""}function isNestedContainer(a){return a.unstable_level>0&&a.container}function createGetSelfSpacing(a){return function(s){return`var(--Grid-${s}Spacing${appendLevel(a.unstable_level)})`}}function createGetParentSpacing(a){return function(s){return a.unstable_level===0?`var(--Grid-${s}Spacing)`:`var(--Grid-${s}Spacing${appendLevel(a.unstable_level-1)})`}}function getParentColumns(a){return a.unstable_level===0?"var(--Grid-columns)":`var(--Grid-columns${appendLevel(a.unstable_level-1)})`}const filterBreakpointKeys=(a,o)=>a.filter(s=>o.includes(s)),traverseBreakpoints=(a,o,s)=>{const $=a.keys[0];Array.isArray(o)?o.forEach((j,_e)=>{s((et,tt)=>{_e<=a.keys.length-1&&(_e===0?Object.assign(et,tt):et[a.up(a.keys[_e])]=tt)},j)}):o&&typeof o=="object"?(Object.keys(o).length>a.keys.length?a.keys:filterBreakpointKeys(a.keys,Object.keys(o))).forEach(_e=>{if(a.keys.indexOf(_e)!==-1){const et=o[_e];et!==void 0&&s((tt,rt)=>{$===_e?Object.assign(tt,rt):tt[a.up(_e)]=rt},et)}}):(typeof o=="number"||typeof o=="string")&&s((j,_e)=>{Object.assign(j,_e)},o)},generateGridSizeStyles=({theme:a,ownerState:o})=>{const s=createGetSelfSpacing(o),$={};return traverseBreakpoints(a.breakpoints,o.gridSize,(j,_e)=>{let et={};_e===!0&&(et={flexBasis:0,flexGrow:1,maxWidth:"100%"}),_e==="auto"&&(et={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof _e=="number"&&(et={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${_e} / ${getParentColumns(o)}${isNestedContainer(o)?` + ${s("column")}`:""})`}),j($,et)}),$},generateGridOffsetStyles=({theme:a,ownerState:o})=>{const s={};return traverseBreakpoints(a.breakpoints,o.gridOffset,($,j)=>{let _e={};j==="auto"&&(_e={marginLeft:"auto"}),typeof j=="number"&&(_e={marginLeft:j===0?"0px":`calc(100% * ${j} / ${getParentColumns(o)})`}),$(s,_e)}),s},generateGridColumnsStyles=({theme:a,ownerState:o})=>{if(!o.container)return{};const s=isNestedContainer(o)?{[`--Grid-columns${appendLevel(o.unstable_level)}`]:getParentColumns(o)}:{"--Grid-columns":12};return traverseBreakpoints(a.breakpoints,o.columns,($,j)=>{$(s,{[`--Grid-columns${appendLevel(o.unstable_level)}`]:j})}),s},generateGridRowSpacingStyles=({theme:a,ownerState:o})=>{if(!o.container)return{};const s=createGetParentSpacing(o),$=isNestedContainer(o)?{[`--Grid-rowSpacing${appendLevel(o.unstable_level)}`]:s("row")}:{};return traverseBreakpoints(a.breakpoints,o.rowSpacing,(j,_e)=>{var et;j($,{[`--Grid-rowSpacing${appendLevel(o.unstable_level)}`]:typeof _e=="string"?_e:(et=a.spacing)==null?void 0:et.call(a,_e)})}),$},generateGridColumnSpacingStyles=({theme:a,ownerState:o})=>{if(!o.container)return{};const s=createGetParentSpacing(o),$=isNestedContainer(o)?{[`--Grid-columnSpacing${appendLevel(o.unstable_level)}`]:s("column")}:{};return traverseBreakpoints(a.breakpoints,o.columnSpacing,(j,_e)=>{var et;j($,{[`--Grid-columnSpacing${appendLevel(o.unstable_level)}`]:typeof _e=="string"?_e:(et=a.spacing)==null?void 0:et.call(a,_e)})}),$},generateGridDirectionStyles=({theme:a,ownerState:o})=>{if(!o.container)return{};const s={};return traverseBreakpoints(a.breakpoints,o.direction,($,j)=>{$(s,{flexDirection:j})}),s},generateGridStyles=({ownerState:a})=>{const o=createGetSelfSpacing(a),s=createGetParentSpacing(a);return _extends({minWidth:0,boxSizing:"border-box"},a.container&&_extends({display:"flex",flexWrap:"wrap"},a.wrap&&a.wrap!=="wrap"&&{flexWrap:a.wrap},{margin:`calc(${o("row")} / -2) calc(${o("column")} / -2)`},a.disableEqualOverflow&&{margin:`calc(${o("row")} * -1) 0px 0px calc(${o("column")} * -1)`}),(!a.container||isNestedContainer(a))&&_extends({padding:`calc(${s("row")} / 2) calc(${s("column")} / 2)`},(a.disableEqualOverflow||a.parentDisableEqualOverflow)&&{padding:`${s("row")} 0px 0px ${s("column")}`}))},generateSizeClassNames=a=>{const o=[];return Object.entries(a).forEach(([s,$])=>{$!==!1&&$!==void 0&&o.push(`grid-${s}-${String($)}`)}),o},generateSpacingClassNames=(a,o="xs")=>{function s($){return $===void 0?!1:typeof $=="string"&&!Number.isNaN(Number($))||typeof $=="number"&&$>0}if(s(a))return[`spacing-${o}-${String(a)}`];if(typeof a=="object"&&!Array.isArray(a)){const $=[];return Object.entries(a).forEach(([j,_e])=>{s(_e)&&$.push(`spacing-${j}-${String(_e)}`)}),$}return[]},generateDirectionClasses=a=>a===void 0?[]:typeof a=="object"?Object.entries(a).map(([o,s])=>`direction-${o}-${s}`):[`direction-xs-${String(a)}`],_excluded$o=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],defaultTheme$3=createTheme$1(),defaultCreateStyledComponent=systemStyled("div",{name:"MuiGrid",slot:"Root",overridesResolver:(a,o)=>o.root});function useThemePropsDefault(a){return useThemeProps$1({props:a,name:"MuiGrid",defaultTheme:defaultTheme$3})}function createGrid(a={}){const{createStyledComponent:o=defaultCreateStyledComponent,useThemeProps:s=useThemePropsDefault,componentName:$="MuiGrid"}=a,j=reactExports.createContext(void 0),_e=(rt,nt)=>{const{container:it,direction:ot,spacing:at,wrap:ut,gridSize:ht}=rt,pt={root:["root",it&&"container",ut!=="wrap"&&`wrap-xs-${String(ut)}`,...generateDirectionClasses(ot),...generateSizeClassNames(ht),...it?generateSpacingClassNames(at,nt.breakpoints.keys[0]):[]]};return composeClasses(pt,Ct=>generateUtilityClass($,Ct),{})},et=o(generateGridColumnsStyles,generateGridColumnSpacingStyles,generateGridRowSpacingStyles,generateGridSizeStyles,generateGridDirectionStyles,generateGridStyles,generateGridOffsetStyles),tt=reactExports.forwardRef(function(nt,it){var ot,at,ut,ht,pt,Ct,lt,ft;const gt=useTheme$1(),St=s(nt),It=extendSxProp(St),vt=reactExports.useContext(j),{className:dt,children:yt,columns:Rt=12,container:Pt=!1,component:Dt="div",direction:Ft="row",wrap:Kt="wrap",spacing:qt=0,rowSpacing:Zt=qt,columnSpacing:er=qt,disableEqualOverflow:rr,unstable_level:Ot=0}=It,zt=_objectWithoutPropertiesLoose(It,_excluded$o);let jt=rr;Ot&&rr!==void 0&&(jt=nt.disableEqualOverflow);const Gt={},Yt={},nr={};Object.entries(zt).forEach(([Et,wt])=>{gt.breakpoints.values[Et]!==void 0?Gt[Et]=wt:gt.breakpoints.values[Et.replace("Offset","")]!==void 0?Yt[Et.replace("Offset","")]=wt:nr[Et]=wt});const ar=(ot=nt.columns)!=null?ot:Ot?void 0:Rt,ur=(at=nt.spacing)!=null?at:Ot?void 0:qt,At=(ut=(ht=nt.rowSpacing)!=null?ht:nt.spacing)!=null?ut:Ot?void 0:Zt,xt=(pt=(Ct=nt.columnSpacing)!=null?Ct:nt.spacing)!=null?pt:Ot?void 0:er,Bt=_extends({},It,{level:Ot,columns:ar,container:Pt,direction:Ft,wrap:Kt,spacing:ur,rowSpacing:At,columnSpacing:xt,gridSize:Gt,gridOffset:Yt,disableEqualOverflow:(lt=(ft=jt)!=null?ft:vt)!=null?lt:!1,parentDisableEqualOverflow:vt}),Lt=_e(Bt,gt);let Xt=jsxRuntimeExports.jsx(et,_extends({ref:it,as:Dt,ownerState:Bt,className:clsx(Lt.root,dt)},nr,{children:reactExports.Children.map(yt,Et=>{if(reactExports.isValidElement(Et)&&isMuiElement(Et,["Grid"])){var wt;return reactExports.cloneElement(Et,{unstable_level:(wt=Et.props.unstable_level)!=null?wt:Ot+1})}return Et})}));return jt!==void 0&&jt!==(vt??!1)&&(Xt=jsxRuntimeExports.jsx(j.Provider,{value:jt,children:Xt})),Xt});return tt.muiName="Grid",tt}function createMixins(a,o){return _extends({toolbar:{minHeight:56,[a.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[a.up("sm")]:{minHeight:64}}},o)}const _excluded$n=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$5.white,default:common$5.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$5.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$5.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(a,o,s,$){const j=$.light||$,_e=$.dark||$*1.5;a[o]||(a.hasOwnProperty(s)?a[o]=a[s]:o==="light"?a.light=lighten(a.main,j):o==="dark"&&(a.dark=darken(a.main,_e)))}function getDefaultPrimary(a="light"){return a==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(a="light"){return a==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(a="light"){return a==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(a="light"){return a==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(a="light"){return a==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(a="light"){return a==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(a){const{mode:o="light",contrastThreshold:s=3,tonalOffset:$=.2}=a,j=_objectWithoutPropertiesLoose(a,_excluded$n),_e=a.primary||getDefaultPrimary(o),et=a.secondary||getDefaultSecondary(o),tt=a.error||getDefaultError(o),rt=a.info||getDefaultInfo(o),nt=a.success||getDefaultSuccess(o),it=a.warning||getDefaultWarning(o);function ot(pt){return getContrastRatio(pt,dark.text.primary)>=s?dark.text.primary:light.text.primary}const at=({color:pt,name:Ct,mainShade:lt=500,lightShade:ft=300,darkShade:gt=700})=>{if(pt=_extends({},pt),!pt.main&&pt[lt]&&(pt.main=pt[lt]),!pt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,Ct?` (${Ct})`:"",lt));if(typeof pt.main!="string")throw new Error(formatMuiErrorMessage(12,Ct?` (${Ct})`:"",JSON.stringify(pt.main)));return addLightOrDark(pt,"light",ft,$),addLightOrDark(pt,"dark",gt,$),pt.contrastText||(pt.contrastText=ot(pt.main)),pt},ut={dark,light};return deepmerge(_extends({common:_extends({},common$5),mode:o,primary:at({color:_e,name:"primary"}),secondary:at({color:et,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:at({color:tt,name:"error"}),warning:at({color:it,name:"warning"}),info:at({color:rt,name:"info"}),success:at({color:nt,name:"success"}),grey:grey$1,contrastThreshold:s,getContrastText:ot,augmentColor:at,tonalOffset:$},ut[o]),j)}const _excluded$m=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(a){return Math.round(a*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(a,o){const s=typeof o=="function"?o(a):o,{fontFamily:$=defaultFontFamily,fontSize:j=14,fontWeightLight:_e=300,fontWeightRegular:et=400,fontWeightMedium:tt=500,fontWeightBold:rt=700,htmlFontSize:nt=16,allVariants:it,pxToRem:ot}=s,at=_objectWithoutPropertiesLoose(s,_excluded$m),ut=j/14,ht=ot||(lt=>`${lt/nt*ut}rem`),pt=(lt,ft,gt,St,It)=>_extends({fontFamily:$,fontWeight:lt,fontSize:ht(ft),lineHeight:gt},$===defaultFontFamily?{letterSpacing:`${round(St/ft)}em`}:{},It,it),Ct={h1:pt(_e,96,1.167,-1.5),h2:pt(_e,60,1.2,-.5),h3:pt(et,48,1.167,0),h4:pt(et,34,1.235,.25),h5:pt(et,24,1.334,0),h6:pt(tt,20,1.6,.15),subtitle1:pt(et,16,1.75,.15),subtitle2:pt(tt,14,1.57,.1),body1:pt(et,16,1.5,.15),body2:pt(et,14,1.43,.15),button:pt(tt,14,1.75,.4,caseAllCaps),caption:pt(et,12,1.66,.4),overline:pt(et,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends({htmlFontSize:nt,pxToRem:ht,fontFamily:$,fontSize:j,fontWeightLight:_e,fontWeightRegular:et,fontWeightMedium:tt,fontWeightBold:rt},Ct),at,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...a){return[`${a[0]}px ${a[1]}px ${a[2]}px ${a[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${a[4]}px ${a[5]}px ${a[6]}px ${a[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${a[8]}px ${a[9]}px ${a[10]}px ${a[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$l=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(a){return`${Math.round(a)}ms`}function getAutoHeightDuration(a){if(!a)return 0;const o=a/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions(a){const o=_extends({},easing,a.easing),s=_extends({},duration,a.duration);return _extends({getAutoHeightDuration,create:(j=["all"],_e={})=>{const{duration:et=s.standard,easing:tt=o.easeInOut,delay:rt=0}=_e;return _objectWithoutPropertiesLoose(_e,_excluded$l),(Array.isArray(j)?j:[j]).map(nt=>`${nt} ${typeof et=="string"?et:formatMs(et)} ${tt} ${typeof rt=="string"?rt:formatMs(rt)}`).join(",")}},a,{easing:o,duration:s})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$k=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(a={},...o){const{mixins:s={},palette:$={},transitions:j={},typography:_e={}}=a,et=_objectWithoutPropertiesLoose(a,_excluded$k);if(a.vars)throw new Error(formatMuiErrorMessage(18));const tt=createPalette($),rt=createTheme$1(a);let nt=deepmerge(rt,{mixins:createMixins(rt.breakpoints,s),palette:tt,shadows:shadows$1.slice(),typography:createTypography(tt,_e),transitions:createTransitions(j),zIndex:_extends({},zIndex$1)});return nt=deepmerge(nt,et),nt=o.reduce((it,ot)=>deepmerge(it,ot),nt),nt.unstable_sxConfig=_extends({},defaultSxConfig$1,et==null?void 0:et.unstable_sxConfig),nt.unstable_sx=function(ot){return styleFunctionSx$1({sx:ot,theme:this})},nt}const defaultTheme$1=createTheme(),defaultTheme$2=defaultTheme$1;function useTheme(){const a=useTheme$1(defaultTheme$2);return a[THEME_ID]||a}function useThemeProps({props:a,name:o}){return useThemeProps$1({props:a,name:o,defaultTheme:defaultTheme$2,themeId:THEME_ID})}const rootShouldForwardProp=a=>shouldForwardProp(a)&&a!=="classes",slotShouldForwardProp=shouldForwardProp,styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$2,rootShouldForwardProp}),styled$1=styled,getOverlayAlpha=a=>{let o;return a<1?o=5.11916*a**2:o=4.5*Math.log(a+1)+2,(o/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function isHostComponent(a){return typeof a=="string"}function appendOwnerState(a,o,s){return a===void 0||isHostComponent(a)?o:_extends({},o,{ownerState:_extends({},o.ownerState,s)})}function areArraysEqual(a,o,s=($,j)=>$===j){return a.length===o.length&&a.every(($,j)=>s($,o[j]))}function extractEventHandlers(a,o=[]){if(a===void 0)return{};const s={};return Object.keys(a).filter($=>$.match(/^on[A-Z]/)&&typeof a[$]=="function"&&!o.includes($)).forEach($=>{s[$]=a[$]}),s}function resolveComponentProps(a,o){return typeof a=="function"?a(o):a}function omitEventHandlers(a){if(a===void 0)return{};const o={};return Object.keys(a).filter(s=>!(s.match(/^on[A-Z]/)&&typeof a[s]=="function")).forEach(s=>{o[s]=a[s]}),o}function mergeSlotProps(a){const{getSlotProps:o,additionalProps:s,externalSlotProps:$,externalForwardedProps:j,className:_e}=a;if(!o){const ut=clsx(j==null?void 0:j.className,$==null?void 0:$.className,_e,s==null?void 0:s.className),ht=_extends({},s==null?void 0:s.style,j==null?void 0:j.style,$==null?void 0:$.style),pt=_extends({},s,j,$);return ut.length>0&&(pt.className=ut),Object.keys(ht).length>0&&(pt.style=ht),{props:pt,internalRef:void 0}}const et=extractEventHandlers(_extends({},j,$)),tt=omitEventHandlers($),rt=omitEventHandlers(j),nt=o(et),it=clsx(nt==null?void 0:nt.className,s==null?void 0:s.className,_e,j==null?void 0:j.className,$==null?void 0:$.className),ot=_extends({},nt==null?void 0:nt.style,s==null?void 0:s.style,j==null?void 0:j.style,$==null?void 0:$.style),at=_extends({},nt,s,rt,tt);return it.length>0&&(at.className=it),Object.keys(ot).length>0&&(at.style=ot),{props:at,internalRef:nt.ref}}const _excluded$j=["elementType","externalSlotProps","ownerState"];function useSlotProps(a){var o;const{elementType:s,externalSlotProps:$,ownerState:j}=a,_e=_objectWithoutPropertiesLoose(a,_excluded$j),et=resolveComponentProps($,j),{props:tt,internalRef:rt}=mergeSlotProps(_extends({},_e,{externalSlotProps:et})),nt=useForkRef(rt,et==null?void 0:et.ref,(o=a.additionalProps)==null?void 0:o.ref);return appendOwnerState(s,_extends({},tt,{ref:nt}),j)}const INTENTIONAL_DRAG_COUNT_THRESHOLD=2;function asc(a,o){return a-o}function clamp(a,o,s){return a==null?o:Math.min(Math.max(o,a),s)}function findClosest(a,o){var s;const{index:$}=(s=a.reduce((j,_e,et)=>{const tt=Math.abs(o-_e);return j===null||tt<j.distance||tt===j.distance?{distance:tt,index:et}:j},null))!=null?s:{};return $}function trackFinger(a,o){if(o.current!==void 0&&a.changedTouches){const s=a;for(let $=0;$<s.changedTouches.length;$+=1){const j=s.changedTouches[$];if(j.identifier===o.current)return{x:j.clientX,y:j.clientY}}return!1}return{x:a.clientX,y:a.clientY}}function valueToPercent(a,o,s){return(a-o)*100/(s-o)}function percentToValue(a,o,s){return(s-o)*a+o}function getDecimalPrecision(a){if(Math.abs(a)<1){const s=a.toExponential().split("e-"),$=s[0].split(".")[1];return($?$.length:0)+parseInt(s[1],10)}const o=a.toString().split(".")[1];return o?o.length:0}function roundValueToStep(a,o,s){const $=Math.round((a-s)/o)*o+s;return Number($.toFixed(getDecimalPrecision(o)))}function setValueIndex({values:a,newValue:o,index:s}){const $=a.slice();return $[s]=o,$.sort(asc)}function focusThumb({sliderRef:a,activeIndex:o,setActive:s}){var $,j;const _e=ownerDocument(a.current);if(!(($=a.current)!=null&&$.contains(_e.activeElement))||Number(_e==null||(j=_e.activeElement)==null?void 0:j.getAttribute("data-index"))!==o){var et;(et=a.current)==null||et.querySelector(`[type="range"][data-index="${o}"]`).focus()}s&&s(o)}function areValuesEqual(a,o){return typeof a=="number"&&typeof o=="number"?a===o:typeof a=="object"&&typeof o=="object"?areArraysEqual(a,o):!1}const axisProps={horizontal:{offset:a=>({left:`${a}%`}),leap:a=>({width:`${a}%`})},"horizontal-reverse":{offset:a=>({right:`${a}%`}),leap:a=>({width:`${a}%`})},vertical:{offset:a=>({bottom:`${a}%`}),leap:a=>({height:`${a}%`})}},Identity$1=a=>a;let cachedSupportsTouchActionNone;function doesSupportTouchActionNone(){return cachedSupportsTouchActionNone===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?cachedSupportsTouchActionNone=CSS.supports("touch-action","none"):cachedSupportsTouchActionNone=!0),cachedSupportsTouchActionNone}function useSlider(a){const{"aria-labelledby":o,defaultValue:s,disabled:$=!1,disableSwap:j=!1,isRtl:_e=!1,marks:et=!1,max:tt=100,min:rt=0,name:nt,onChange:it,onChangeCommitted:ot,orientation:at="horizontal",rootRef:ut,scale:ht=Identity$1,step:pt=1,tabIndex:Ct,value:lt}=a,ft=reactExports.useRef(),[gt,St]=reactExports.useState(-1),[It,vt]=reactExports.useState(-1),[dt,yt]=reactExports.useState(!1),Rt=reactExports.useRef(0),[Pt,Dt]=useControlled({controlled:lt,default:s??rt,name:"Slider"}),Ft=it&&((Ut,Ht,Jt)=>{const mt=Ut.nativeEvent||Ut,st=new mt.constructor(mt.type,mt);Object.defineProperty(st,"target",{writable:!0,value:{value:Ht,name:nt}}),it(st,Ht,Jt)}),Kt=Array.isArray(Pt);let qt=Kt?Pt.slice().sort(asc):[Pt];qt=qt.map(Ut=>clamp(Ut,rt,tt));const Zt=et===!0&&pt!==null?[...Array(Math.floor((tt-rt)/pt)+1)].map((Ut,Ht)=>({value:rt+pt*Ht})):et||[],er=Zt.map(Ut=>Ut.value),{isFocusVisibleRef:rr,onBlur:Ot,onFocus:zt,ref:jt}=useIsFocusVisible(),[Gt,Yt]=reactExports.useState(-1),nr=reactExports.useRef(),ar=useForkRef(jt,nr),ur=useForkRef(ut,ar),At=Ut=>Ht=>{var Jt;const mt=Number(Ht.currentTarget.getAttribute("data-index"));zt(Ht),rr.current===!0&&Yt(mt),vt(mt),Ut==null||(Jt=Ut.onFocus)==null||Jt.call(Ut,Ht)},xt=Ut=>Ht=>{var Jt;Ot(Ht),rr.current===!1&&Yt(-1),vt(-1),Ut==null||(Jt=Ut.onBlur)==null||Jt.call(Ut,Ht)};useEnhancedEffect$1(()=>{if($&&nr.current.contains(document.activeElement)){var Ut;(Ut=document.activeElement)==null||Ut.blur()}},[$]),$&&gt!==-1&&St(-1),$&&Gt!==-1&&Yt(-1);const Bt=Ut=>Ht=>{var Jt;(Jt=Ut.onChange)==null||Jt.call(Ut,Ht);const mt=Number(Ht.currentTarget.getAttribute("data-index")),st=qt[mt],ct=er.indexOf(st);let Tt=Ht.target.valueAsNumber;if(Zt&&pt==null&&(Tt=Tt<st?er[ct-1]:er[ct+1]),Tt=clamp(Tt,rt,tt),Zt&&pt==null){const kt=er.indexOf(qt[mt]);Tt=Tt<qt[mt]?er[kt-1]:er[kt+1]}if(Kt){j&&(Tt=clamp(Tt,qt[mt-1]||-1/0,qt[mt+1]||1/0));const kt=Tt;Tt=setValueIndex({values:qt,newValue:Tt,index:mt});let bt=mt;j||(bt=Tt.indexOf(kt)),focusThumb({sliderRef:nr,activeIndex:bt})}Dt(Tt),Yt(mt),Ft&&!areValuesEqual(Tt,Pt)&&Ft(Ht,Tt,mt),ot&&ot(Ht,Tt)},Lt=reactExports.useRef();let Xt=at;_e&&at==="horizontal"&&(Xt+="-reverse");const Et=({finger:Ut,move:Ht=!1})=>{const{current:Jt}=nr,{width:mt,height:st,bottom:ct,left:Tt}=Jt.getBoundingClientRect();let kt;Xt.indexOf("vertical")===0?kt=(ct-Ut.y)/st:kt=(Ut.x-Tt)/mt,Xt.indexOf("-reverse")!==-1&&(kt=1-kt);let bt;if(bt=percentToValue(kt,rt,tt),pt)bt=roundValueToStep(bt,pt,rt);else{const tr=findClosest(er,bt);bt=er[tr]}bt=clamp(bt,rt,tt);let $t=0;if(Kt){Ht?$t=Lt.current:$t=findClosest(qt,bt),j&&(bt=clamp(bt,qt[$t-1]||-1/0,qt[$t+1]||1/0));const tr=bt;bt=setValueIndex({values:qt,newValue:bt,index:$t}),j&&Ht||($t=bt.indexOf(tr),Lt.current=$t)}return{newValue:bt,activeIndex:$t}},wt=useEventCallback(Ut=>{const Ht=trackFinger(Ut,ft);if(!Ht)return;if(Rt.current+=1,Ut.type==="mousemove"&&Ut.buttons===0){Mt(Ut);return}const{newValue:Jt,activeIndex:mt}=Et({finger:Ht,move:!0});focusThumb({sliderRef:nr,activeIndex:mt,setActive:St}),Dt(Jt),!dt&&Rt.current>INTENTIONAL_DRAG_COUNT_THRESHOLD&&yt(!0),Ft&&!areValuesEqual(Jt,Pt)&&Ft(Ut,Jt,mt)}),Mt=useEventCallback(Ut=>{const Ht=trackFinger(Ut,ft);if(yt(!1),!Ht)return;const{newValue:Jt}=Et({finger:Ht,move:!0});St(-1),Ut.type==="touchend"&&vt(-1),ot&&ot(Ut,Jt),ft.current=void 0,Vt()}),Nt=useEventCallback(Ut=>{if($)return;doesSupportTouchActionNone()||Ut.preventDefault();const Ht=Ut.changedTouches[0];Ht!=null&&(ft.current=Ht.identifier);const Jt=trackFinger(Ut,ft);if(Jt!==!1){const{newValue:st,activeIndex:ct}=Et({finger:Jt});focusThumb({sliderRef:nr,activeIndex:ct,setActive:St}),Dt(st),Ft&&!areValuesEqual(st,Pt)&&Ft(Ut,st,ct)}Rt.current=0;const mt=ownerDocument(nr.current);mt.addEventListener("touchmove",wt),mt.addEventListener("touchend",Mt)}),Vt=reactExports.useCallback(()=>{const Ut=ownerDocument(nr.current);Ut.removeEventListener("mousemove",wt),Ut.removeEventListener("mouseup",Mt),Ut.removeEventListener("touchmove",wt),Ut.removeEventListener("touchend",Mt)},[Mt,wt]);reactExports.useEffect(()=>{const{current:Ut}=nr;return Ut.addEventListener("touchstart",Nt,{passive:doesSupportTouchActionNone()}),()=>{Ut.removeEventListener("touchstart",Nt,{passive:doesSupportTouchActionNone()}),Vt()}},[Vt,Nt]),reactExports.useEffect(()=>{$&&Vt()},[$,Vt]);const Qt=Ut=>Ht=>{var Jt;if((Jt=Ut.onMouseDown)==null||Jt.call(Ut,Ht),$||Ht.defaultPrevented||Ht.button!==0)return;Ht.preventDefault();const mt=trackFinger(Ht,ft);if(mt!==!1){const{newValue:ct,activeIndex:Tt}=Et({finger:mt});focusThumb({sliderRef:nr,activeIndex:Tt,setActive:St}),Dt(ct),Ft&&!areValuesEqual(ct,Pt)&&Ft(Ht,ct,Tt)}Rt.current=0;const st=ownerDocument(nr.current);st.addEventListener("mousemove",wt),st.addEventListener("mouseup",Mt)},Wt=valueToPercent(Kt?qt[0]:rt,rt,tt),or=valueToPercent(qt[qt.length-1],rt,tt)-Wt,fr=(Ut={})=>{const Ht={onMouseDown:Qt(Ut||{})},Jt=_extends({},Ut,Ht);return _extends({ref:ur},Jt)},cr=Ut=>Ht=>{var Jt;(Jt=Ut.onMouseOver)==null||Jt.call(Ut,Ht);const mt=Number(Ht.currentTarget.getAttribute("data-index"));vt(mt)},mr=Ut=>Ht=>{var Jt;(Jt=Ut.onMouseLeave)==null||Jt.call(Ut,Ht),vt(-1)};return{active:gt,axis:Xt,axisProps,dragging:dt,focusedThumbIndex:Gt,getHiddenInputProps:(Ut={})=>{var Ht;const Jt={onChange:Bt(Ut||{}),onFocus:At(Ut||{}),onBlur:xt(Ut||{})},mt=_extends({},Ut,Jt);return _extends({tabIndex:Ct,"aria-labelledby":o,"aria-orientation":at,"aria-valuemax":ht(tt),"aria-valuemin":ht(rt),name:nt,type:"range",min:a.min,max:a.max,step:(Ht=a.step)!=null?Ht:void 0,disabled:$},mt,{style:_extends({},visuallyHidden$1,{direction:_e?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:fr,getThumbProps:(Ut={})=>{const Ht={onMouseOver:cr(Ut||{}),onMouseLeave:mr(Ut||{})};return _extends({},Ut,Ht)},marks:Zt,open:It,range:Kt,rootRef:ur,trackLeap:or,trackOffset:Wt,values:qt}}function getSvgIconUtilityClass(a){return generateUtilityClass("MuiSvgIcon",a)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$i=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$g=a=>{const{color:o,fontSize:s,classes:$}=a,j={root:["root",o!=="inherit"&&`color${capitalize(o)}`,`fontSize${capitalize(s)}`]};return composeClasses(j,getSvgIconUtilityClass,$)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,s.color!=="inherit"&&o[`color${capitalize(s.color)}`],o[`fontSize${capitalize(s.fontSize)}`]]}})(({theme:a,ownerState:o})=>{var s,$,j,_e,et,tt,rt,nt,it,ot,at,ut,ht,pt,Ct,lt,ft;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(s=a.transitions)==null||($=s.create)==null?void 0:$.call(s,"fill",{duration:(j=a.transitions)==null||(_e=j.duration)==null?void 0:_e.shorter}),fontSize:{inherit:"inherit",small:((et=a.typography)==null||(tt=et.pxToRem)==null?void 0:tt.call(et,20))||"1.25rem",medium:((rt=a.typography)==null||(nt=rt.pxToRem)==null?void 0:nt.call(rt,24))||"1.5rem",large:((it=a.typography)==null||(ot=it.pxToRem)==null?void 0:ot.call(it,35))||"2.1875rem"}[o.fontSize],color:(at=(ut=(a.vars||a).palette)==null||(ht=ut[o.color])==null?void 0:ht.main)!=null?at:{action:(pt=(a.vars||a).palette)==null||(Ct=pt.action)==null?void 0:Ct.active,disabled:(lt=(a.vars||a).palette)==null||(ft=lt.action)==null?void 0:ft.disabled,inherit:void 0}[o.color]}}),SvgIcon=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiSvgIcon"}),{children:j,className:_e,color:et="inherit",component:tt="svg",fontSize:rt="medium",htmlColor:nt,inheritViewBox:it=!1,titleAccess:ot,viewBox:at="0 0 24 24"}=$,ut=_objectWithoutPropertiesLoose($,_excluded$i),ht=_extends({},$,{color:et,component:tt,fontSize:rt,instanceFontSize:o.fontSize,inheritViewBox:it,viewBox:at}),pt={};it||(pt.viewBox=at);const Ct=useUtilityClasses$g(ht);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends({as:tt,className:clsx(Ct.root,_e),focusable:"false",color:nt,"aria-hidden":ot?void 0:!0,role:ot?"img":void 0,ref:s},pt,ut,{ownerState:ht,children:[j,ot?jsxRuntimeExports.jsx("title",{children:ot}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon$1(a,o){function s($,j){return jsxRuntimeExports.jsx(SvgIcon$1,_extends({"data-testid":`${o}Icon`,ref:j},$,{children:a}))}return s.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(s))}const unstable_ClassNameGenerator={configure:a=>{ClassNameGenerator$1.configure(a)}},utils=Object.freeze(Object.defineProperty({__proto__:null,capitalize,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function _setPrototypeOf(a,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf(a,o)}function _inheritsLoose$1(a,o){a.prototype=Object.create(o.prototype),a.prototype.constructor=a,_setPrototypeOf(a,o)}const TransitionGroupContext=React.createContext(null);function _assertThisInitialized(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function getChildMapping(a,o){var s=function(_e){return o&&reactExports.isValidElement(_e)?o(_e):_e},$=Object.create(null);return a&&reactExports.Children.map(a,function(j){return j}).forEach(function(j){$[j.key]=s(j)}),$}function mergeChildMappings(a,o){a=a||{},o=o||{};function s(it){return it in o?o[it]:a[it]}var $=Object.create(null),j=[];for(var _e in a)_e in o?j.length&&($[_e]=j,j=[]):j.push(_e);var et,tt={};for(var rt in o){if($[rt])for(et=0;et<$[rt].length;et++){var nt=$[rt][et];tt[$[rt][et]]=s(nt)}tt[rt]=s(rt)}for(et=0;et<j.length;et++)tt[j[et]]=s(j[et]);return tt}function getProp(a,o,s){return s[o]!=null?s[o]:a.props[o]}function getInitialChildMapping(a,o){return getChildMapping(a.children,function(s){return reactExports.cloneElement(s,{onExited:o.bind(null,s),in:!0,appear:getProp(s,"appear",a),enter:getProp(s,"enter",a),exit:getProp(s,"exit",a)})})}function getNextChildMapping(a,o,s){var $=getChildMapping(a.children),j=mergeChildMappings(o,$);return Object.keys(j).forEach(function(_e){var et=j[_e];if(reactExports.isValidElement(et)){var tt=_e in o,rt=_e in $,nt=o[_e],it=reactExports.isValidElement(nt)&&!nt.props.in;rt&&(!tt||it)?j[_e]=reactExports.cloneElement(et,{onExited:s.bind(null,et),in:!0,exit:getProp(et,"exit",a),enter:getProp(et,"enter",a)}):!rt&&tt&&!it?j[_e]=reactExports.cloneElement(et,{in:!1}):rt&&tt&&reactExports.isValidElement(nt)&&(j[_e]=reactExports.cloneElement(et,{onExited:s.bind(null,et),in:nt.props.in,exit:getProp(et,"exit",a),enter:getProp(et,"enter",a)}))}}),j}var values=Object.values||function(a){return Object.keys(a).map(function(o){return a[o]})},defaultProps={component:"div",childFactory:function(o){return o}},TransitionGroup=function(a){_inheritsLoose$1(o,a);function o($,j){var _e;_e=a.call(this,$,j)||this;var et=_e.handleExited.bind(_assertThisInitialized(_e));return _e.state={contextValue:{isMounting:!0},handleExited:et,firstRender:!0},_e}var s=o.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(j,_e){var et=_e.children,tt=_e.handleExited,rt=_e.firstRender;return{children:rt?getInitialChildMapping(j,tt):getNextChildMapping(j,et,tt),firstRender:!1}},s.handleExited=function(j,_e){var et=getChildMapping(this.props.children);j.key in et||(j.props.onExited&&j.props.onExited(_e),this.mounted&&this.setState(function(tt){var rt=_extends({},tt.children);return delete rt[j.key],{children:rt}}))},s.render=function(){var j=this.props,_e=j.component,et=j.childFactory,tt=_objectWithoutPropertiesLoose(j,["component","childFactory"]),rt=this.state.contextValue,nt=values(this.state.children).map(et);return delete tt.appear,delete tt.enter,delete tt.exit,_e===null?React.createElement(TransitionGroupContext.Provider,{value:rt},nt):React.createElement(TransitionGroupContext.Provider,{value:rt},React.createElement(_e,tt,nt))},o}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup;function getPaperUtilityClass(a){return generateUtilityClass("MuiPaper",a)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$h=["className","component","elevation","square","variant"],useUtilityClasses$f=a=>{const{square:o,elevation:s,variant:$,classes:j}=a,_e={root:["root",$,!o&&"rounded",$==="elevation"&&`elevation${s}`]};return composeClasses(_e,getPaperUtilityClass,j)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,o[s.variant],!s.square&&o.rounded,s.variant==="elevation"&&o[`elevation${s.elevation}`]]}})(({theme:a,ownerState:o})=>{var s;return _extends({backgroundColor:(a.vars||a).palette.background.paper,color:(a.vars||a).palette.text.primary,transition:a.transitions.create("box-shadow")},!o.square&&{borderRadius:a.shape.borderRadius},o.variant==="outlined"&&{border:`1px solid ${(a.vars||a).palette.divider}`},o.variant==="elevation"&&_extends({boxShadow:(a.vars||a).shadows[o.elevation]},!a.vars&&a.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(o.elevation))}, ${alpha("#fff",getOverlayAlpha$1(o.elevation))})`},a.vars&&{backgroundImage:(s=a.vars.overlays)==null?void 0:s[o.elevation]}))}),Paper=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiPaper"}),{className:j,component:_e="div",elevation:et=1,square:tt=!1,variant:rt="elevation"}=$,nt=_objectWithoutPropertiesLoose($,_excluded$h),it=_extends({},$,{component:_e,elevation:et,square:tt,variant:rt}),ot=useUtilityClasses$f(it);return jsxRuntimeExports.jsx(PaperRoot,_extends({as:_e,ownerState:it,className:clsx(ot.root,j),ref:s},nt))}),Paper$1=Paper;function Ripple(a){const{className:o,classes:s,pulsate:$=!1,rippleX:j,rippleY:_e,rippleSize:et,in:tt,onExited:rt,timeout:nt}=a,[it,ot]=reactExports.useState(!1),at=clsx(o,s.ripple,s.rippleVisible,$&&s.ripplePulsate),ut={width:et,height:et,top:-(et/2)+_e,left:-(et/2)+j},ht=clsx(s.child,it&&s.childLeaving,$&&s.childPulsate);return!tt&&!it&&ot(!0),reactExports.useEffect(()=>{if(!tt&&rt!=null){const pt=setTimeout(rt,nt);return()=>{clearTimeout(pt)}}},[rt,tt,nt]),jsxRuntimeExports.jsx("span",{className:at,style:ut,children:jsxRuntimeExports.jsx("span",{className:ht})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$g=["center","classes","className"];let _$1=a=>a,_t$1,_t2$1,_t3$1,_t4$1;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t$1||(_t$1=_$1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2$1||(_t2$1=_$1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3$1||(_t3$1=_$1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4$1||(_t4$1=_$1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:a})=>a.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:a})=>a.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:a})=>a.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:a})=>a.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiTouchRipple"}),{center:j=!1,classes:_e={},className:et}=$,tt=_objectWithoutPropertiesLoose($,_excluded$g),[rt,nt]=reactExports.useState([]),it=reactExports.useRef(0),ot=reactExports.useRef(null);reactExports.useEffect(()=>{ot.current&&(ot.current(),ot.current=null)},[rt]);const at=reactExports.useRef(!1),ut=reactExports.useRef(null),ht=reactExports.useRef(null),pt=reactExports.useRef(null);reactExports.useEffect(()=>()=>{clearTimeout(ut.current)},[]);const Ct=reactExports.useCallback(St=>{const{pulsate:It,rippleX:vt,rippleY:dt,rippleSize:yt,cb:Rt}=St;nt(Pt=>[...Pt,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(_e.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(_e.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(_e.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(_e.child,touchRippleClasses$1.child),childLeaving:clsx(_e.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(_e.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:It,rippleX:vt,rippleY:dt,rippleSize:yt},it.current)]),it.current+=1,ot.current=Rt},[_e]),lt=reactExports.useCallback((St={},It={},vt=()=>{})=>{const{pulsate:dt=!1,center:yt=j||It.pulsate,fakeElement:Rt=!1}=It;if((St==null?void 0:St.type)==="mousedown"&&at.current){at.current=!1;return}(St==null?void 0:St.type)==="touchstart"&&(at.current=!0);const Pt=Rt?null:pt.current,Dt=Pt?Pt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Ft,Kt,qt;if(yt||St===void 0||St.clientX===0&&St.clientY===0||!St.clientX&&!St.touches)Ft=Math.round(Dt.width/2),Kt=Math.round(Dt.height/2);else{const{clientX:Zt,clientY:er}=St.touches&&St.touches.length>0?St.touches[0]:St;Ft=Math.round(Zt-Dt.left),Kt=Math.round(er-Dt.top)}if(yt)qt=Math.sqrt((2*Dt.width**2+Dt.height**2)/3),qt%2===0&&(qt+=1);else{const Zt=Math.max(Math.abs((Pt?Pt.clientWidth:0)-Ft),Ft)*2+2,er=Math.max(Math.abs((Pt?Pt.clientHeight:0)-Kt),Kt)*2+2;qt=Math.sqrt(Zt**2+er**2)}St!=null&&St.touches?ht.current===null&&(ht.current=()=>{Ct({pulsate:dt,rippleX:Ft,rippleY:Kt,rippleSize:qt,cb:vt})},ut.current=setTimeout(()=>{ht.current&&(ht.current(),ht.current=null)},DELAY_RIPPLE)):Ct({pulsate:dt,rippleX:Ft,rippleY:Kt,rippleSize:qt,cb:vt})},[j,Ct]),ft=reactExports.useCallback(()=>{lt({},{pulsate:!0})},[lt]),gt=reactExports.useCallback((St,It)=>{if(clearTimeout(ut.current),(St==null?void 0:St.type)==="touchend"&&ht.current){ht.current(),ht.current=null,ut.current=setTimeout(()=>{gt(St,It)});return}ht.current=null,nt(vt=>vt.length>0?vt.slice(1):vt),ot.current=It},[]);return reactExports.useImperativeHandle(s,()=>({pulsate:ft,start:lt,stop:gt}),[ft,lt,gt]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends({className:clsx(touchRippleClasses$1.root,_e.root,et),ref:pt},tt,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:rt})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(a){return generateUtilityClass("MuiButtonBase",a)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$f=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$e=a=>{const{disabled:o,focusVisible:s,focusVisibleClassName:$,classes:j}=a,et=composeClasses({root:["root",o&&"disabled",s&&"focusVisible"]},getButtonBaseUtilityClass,j);return s&&$&&(et.root+=` ${$}`),et},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(a,o)=>o.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiButtonBase"}),{action:j,centerRipple:_e=!1,children:et,className:tt,component:rt="button",disabled:nt=!1,disableRipple:it=!1,disableTouchRipple:ot=!1,focusRipple:at=!1,LinkComponent:ut="a",onBlur:ht,onClick:pt,onContextMenu:Ct,onDragLeave:lt,onFocus:ft,onFocusVisible:gt,onKeyDown:St,onKeyUp:It,onMouseDown:vt,onMouseLeave:dt,onMouseUp:yt,onTouchEnd:Rt,onTouchMove:Pt,onTouchStart:Dt,tabIndex:Ft=0,TouchRippleProps:Kt,touchRippleRef:qt,type:Zt}=$,er=_objectWithoutPropertiesLoose($,_excluded$f),rr=reactExports.useRef(null),Ot=reactExports.useRef(null),zt=useForkRef(Ot,qt),{isFocusVisibleRef:jt,onFocus:Gt,onBlur:Yt,ref:nr}=useIsFocusVisible(),[ar,ur]=reactExports.useState(!1);nt&&ar&&ur(!1),reactExports.useImperativeHandle(j,()=>({focusVisible:()=>{ur(!0),rr.current.focus()}}),[]);const[At,xt]=reactExports.useState(!1);reactExports.useEffect(()=>{xt(!0)},[]);const Bt=At&&!it&&!nt;reactExports.useEffect(()=>{ar&&at&&!it&&At&&Ot.current.pulsate()},[it,at,ar,At]);function Lt(ct,Tt,kt=ot){return useEventCallback(bt=>(Tt&&Tt(bt),!kt&&Ot.current&&Ot.current[ct](bt),!0))}const Xt=Lt("start",vt),Et=Lt("stop",Ct),wt=Lt("stop",lt),Mt=Lt("stop",yt),Nt=Lt("stop",ct=>{ar&&ct.preventDefault(),dt&&dt(ct)}),Vt=Lt("start",Dt),Qt=Lt("stop",Rt),Wt=Lt("stop",Pt),or=Lt("stop",ct=>{Yt(ct),jt.current===!1&&ur(!1),ht&&ht(ct)},!1),fr=useEventCallback(ct=>{rr.current||(rr.current=ct.currentTarget),Gt(ct),jt.current===!0&&(ur(!0),gt&&gt(ct)),ft&&ft(ct)}),cr=()=>{const ct=rr.current;return rt&&rt!=="button"&&!(ct.tagName==="A"&&ct.href)},mr=reactExports.useRef(!1),hr=useEventCallback(ct=>{at&&!mr.current&&ar&&Ot.current&&ct.key===" "&&(mr.current=!0,Ot.current.stop(ct,()=>{Ot.current.start(ct)})),ct.target===ct.currentTarget&&cr()&&ct.key===" "&&ct.preventDefault(),St&&St(ct),ct.target===ct.currentTarget&&cr()&&ct.key==="Enter"&&!nt&&(ct.preventDefault(),pt&&pt(ct))}),dr=useEventCallback(ct=>{at&&ct.key===" "&&Ot.current&&ar&&!ct.defaultPrevented&&(mr.current=!1,Ot.current.stop(ct,()=>{Ot.current.pulsate(ct)})),It&&It(ct),pt&&ct.target===ct.currentTarget&&cr()&&ct.key===" "&&!ct.defaultPrevented&&pt(ct)});let Ut=rt;Ut==="button"&&(er.href||er.to)&&(Ut=ut);const Ht={};Ut==="button"?(Ht.type=Zt===void 0?"button":Zt,Ht.disabled=nt):(!er.href&&!er.to&&(Ht.role="button"),nt&&(Ht["aria-disabled"]=nt));const Jt=useForkRef(s,nr,rr),mt=_extends({},$,{centerRipple:_e,component:rt,disabled:nt,disableRipple:it,disableTouchRipple:ot,focusRipple:at,tabIndex:Ft,focusVisible:ar}),st=useUtilityClasses$e(mt);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends({as:Ut,className:clsx(st.root,tt),ownerState:mt,onBlur:or,onClick:pt,onContextMenu:Et,onFocus:fr,onKeyDown:hr,onKeyUp:dr,onMouseDown:Xt,onMouseLeave:Nt,onMouseUp:Mt,onDragLeave:wt,onTouchEnd:Qt,onTouchMove:Wt,onTouchStart:Vt,ref:Jt,tabIndex:nt?-1:Ft,type:Zt},Ht,er,{children:[et,Bt?jsxRuntimeExports.jsx(TouchRipple$1,_extends({ref:zt,center:_e},Kt)):null]}))}),ButtonBase$1=ButtonBase;function getIconButtonUtilityClass(a){return generateUtilityClass("MuiIconButton",a)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),iconButtonClasses$1=iconButtonClasses,_excluded$e=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$d=a=>{const{classes:o,disabled:s,color:$,edge:j,size:_e}=a,et={root:["root",s&&"disabled",$!=="default"&&`color${capitalize($)}`,j&&`edge${capitalize(j)}`,`size${capitalize(_e)}`]};return composeClasses(et,getIconButtonUtilityClass,o)},IconButtonRoot=styled$1(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,s.color!=="default"&&o[`color${capitalize(s.color)}`],s.edge&&o[`edge${capitalize(s.edge)}`],o[`size${capitalize(s.size)}`]]}})(({theme:a,ownerState:o})=>_extends({textAlign:"center",flex:"0 0 auto",fontSize:a.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(a.vars||a).palette.action.active,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shortest})},!o.disableRipple&&{"&:hover":{backgroundColor:a.vars?`rgba(${a.vars.palette.action.activeChannel} / ${a.vars.palette.action.hoverOpacity})`:alpha(a.palette.action.active,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.edge==="start"&&{marginLeft:o.size==="small"?-3:-12},o.edge==="end"&&{marginRight:o.size==="small"?-3:-12}),({theme:a,ownerState:o})=>{var s;const $=(s=(a.vars||a).palette)==null?void 0:s[o.color];return _extends({},o.color==="inherit"&&{color:"inherit"},o.color!=="inherit"&&o.color!=="default"&&_extends({color:$==null?void 0:$.main},!o.disableRipple&&{"&:hover":_extends({},$&&{backgroundColor:a.vars?`rgba(${$.mainChannel} / ${a.vars.palette.action.hoverOpacity})`:alpha($.main,a.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),o.size==="small"&&{padding:5,fontSize:a.typography.pxToRem(18)},o.size==="large"&&{padding:12,fontSize:a.typography.pxToRem(28)},{[`&.${iconButtonClasses$1.disabled}`]:{backgroundColor:"transparent",color:(a.vars||a).palette.action.disabled}})}),IconButton=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiIconButton"}),{edge:j=!1,children:_e,className:et,color:tt="default",disabled:rt=!1,disableFocusRipple:nt=!1,size:it="medium"}=$,ot=_objectWithoutPropertiesLoose($,_excluded$e),at=_extends({},$,{edge:j,color:tt,disabled:rt,disableFocusRipple:nt,size:it}),ut=useUtilityClasses$d(at);return jsxRuntimeExports.jsx(IconButtonRoot,_extends({className:clsx(ut.root,et),centerRipple:!0,focusRipple:!nt,disabled:rt,ref:s,ownerState:at},ot,{children:_e}))}),IconButton$1=IconButton;function getTypographyUtilityClass(a){return generateUtilityClass("MuiTypography",a)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$d=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$c=a=>{const{align:o,gutterBottom:s,noWrap:$,paragraph:j,variant:_e,classes:et}=a,tt={root:["root",_e,a.align!=="inherit"&&`align${capitalize(o)}`,s&&"gutterBottom",$&&"noWrap",j&&"paragraph"]};return composeClasses(tt,getTypographyUtilityClass,et)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,s.variant&&o[s.variant],s.align!=="inherit"&&o[`align${capitalize(s.align)}`],s.noWrap&&o.noWrap,s.gutterBottom&&o.gutterBottom,s.paragraph&&o.paragraph]}})(({theme:a,ownerState:o})=>_extends({margin:0},o.variant&&a.typography[o.variant],o.align!=="inherit"&&{textAlign:o.align},o.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o.gutterBottom&&{marginBottom:"0.35em"},o.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=a=>colorTransformations[a]||a,Typography=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiTypography"}),j=transformDeprecatedColors($.color),_e=extendSxProp(_extends({},$,{color:j})),{align:et="inherit",className:tt,component:rt,gutterBottom:nt=!1,noWrap:it=!1,paragraph:ot=!1,variant:at="body1",variantMapping:ut=defaultVariantMapping}=_e,ht=_objectWithoutPropertiesLoose(_e,_excluded$d),pt=_extends({},_e,{align:et,color:j,className:tt,component:rt,gutterBottom:nt,noWrap:it,paragraph:ot,variant:at,variantMapping:ut}),Ct=rt||(ot?"p":ut[at]||defaultVariantMapping[at])||"span",lt=useUtilityClasses$c(pt);return jsxRuntimeExports.jsx(TypographyRoot,_extends({as:Ct,ref:s,ownerState:pt,className:clsx(lt.root,tt)},ht))}),Typography$1=Typography;function getAppBarUtilityClass(a){return generateUtilityClass("MuiAppBar",a)}generateUtilityClasses("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const _excluded$c=["className","color","enableColorOnDark","position"],useUtilityClasses$b=a=>{const{color:o,position:s,classes:$}=a,j={root:["root",`color${capitalize(o)}`,`position${capitalize(s)}`]};return composeClasses(j,getAppBarUtilityClass,$)},joinVars=(a,o)=>a?`${a==null?void 0:a.replace(")","")}, ${o})`:o,AppBarRoot=styled$1(Paper$1,{name:"MuiAppBar",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,o[`position${capitalize(s.position)}`],o[`color${capitalize(s.color)}`]]}})(({theme:a,ownerState:o})=>{const s=a.palette.mode==="light"?a.palette.grey[100]:a.palette.grey[900];return _extends({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},o.position==="fixed"&&{position:"fixed",zIndex:(a.vars||a).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},o.position==="absolute"&&{position:"absolute",zIndex:(a.vars||a).zIndex.appBar,top:0,left:"auto",right:0},o.position==="sticky"&&{position:"sticky",zIndex:(a.vars||a).zIndex.appBar,top:0,left:"auto",right:0},o.position==="static"&&{position:"static"},o.position==="relative"&&{position:"relative"},!a.vars&&_extends({},o.color==="default"&&{backgroundColor:s,color:a.palette.getContrastText(s)},o.color&&o.color!=="default"&&o.color!=="inherit"&&o.color!=="transparent"&&{backgroundColor:a.palette[o.color].main,color:a.palette[o.color].contrastText},o.color==="inherit"&&{color:"inherit"},a.palette.mode==="dark"&&!o.enableColorOnDark&&{backgroundColor:null,color:null},o.color==="transparent"&&_extends({backgroundColor:"transparent",color:"inherit"},a.palette.mode==="dark"&&{backgroundImage:"none"})),a.vars&&_extends({},o.color==="default"&&{"--AppBar-background":o.enableColorOnDark?a.vars.palette.AppBar.defaultBg:joinVars(a.vars.palette.AppBar.darkBg,a.vars.palette.AppBar.defaultBg),"--AppBar-color":o.enableColorOnDark?a.vars.palette.text.primary:joinVars(a.vars.palette.AppBar.darkColor,a.vars.palette.text.primary)},o.color&&!o.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":o.enableColorOnDark?a.vars.palette[o.color].main:joinVars(a.vars.palette.AppBar.darkBg,a.vars.palette[o.color].main),"--AppBar-color":o.enableColorOnDark?a.vars.palette[o.color].contrastText:joinVars(a.vars.palette.AppBar.darkColor,a.vars.palette[o.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:o.color==="inherit"?"inherit":"var(--AppBar-color)"},o.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),AppBar=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiAppBar"}),{className:j,color:_e="primary",enableColorOnDark:et=!1,position:tt="fixed"}=$,rt=_objectWithoutPropertiesLoose($,_excluded$c),nt=_extends({},$,{color:_e,position:tt,enableColorOnDark:et}),it=useUtilityClasses$b(nt);return jsxRuntimeExports.jsx(AppBarRoot,_extends({square:!0,component:"header",ownerState:nt,elevation:4,className:clsx(it.root,j,tt==="fixed"&&"mui-fixed"),ref:s},rt))}),AppBar$1=AppBar,defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:"MuiBox-root",generateClassName:ClassNameGenerator$1.generate}),Box$1=Box,MoreHorizIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),_excluded$b=["slots","slotProps"],BreadcrumbCollapsedButton=styled$1(ButtonBase$1)(({theme:a})=>_extends({display:"flex",marginLeft:`calc(${a.spacing(1)} * 0.5)`,marginRight:`calc(${a.spacing(1)} * 0.5)`},a.palette.mode==="light"?{backgroundColor:a.palette.grey[100],color:a.palette.grey[700]}:{backgroundColor:a.palette.grey[700],color:a.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":_extends({},a.palette.mode==="light"?{backgroundColor:a.palette.grey[200]}:{backgroundColor:a.palette.grey[600]}),"&:active":_extends({boxShadow:a.shadows[0]},a.palette.mode==="light"?{backgroundColor:emphasize(a.palette.grey[200],.12)}:{backgroundColor:emphasize(a.palette.grey[600],.12)})})),BreadcrumbCollapsedIcon=styled$1(MoreHorizIcon)({width:24,height:16});function BreadcrumbCollapsed(a){const{slots:o={},slotProps:s={}}=a,$=_objectWithoutPropertiesLoose(a,_excluded$b),j=a;return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(BreadcrumbCollapsedButton,_extends({focusRipple:!0},$,{ownerState:j,children:jsxRuntimeExports.jsx(BreadcrumbCollapsedIcon,_extends({as:o.CollapsedIcon,ownerState:j},s.collapsedIcon))}))})}function getBreadcrumbsUtilityClass(a){return generateUtilityClass("MuiBreadcrumbs",a)}const breadcrumbsClasses=generateUtilityClasses("MuiBreadcrumbs",["root","ol","li","separator"]),breadcrumbsClasses$1=breadcrumbsClasses,_excluded$a=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],useUtilityClasses$a=a=>{const{classes:o}=a;return composeClasses({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},getBreadcrumbsUtilityClass,o)},BreadcrumbsRoot=styled$1(Typography$1,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(a,o)=>[{[`& .${breadcrumbsClasses$1.li}`]:o.li},o.root]})({}),BreadcrumbsOl=styled$1("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(a,o)=>o.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),BreadcrumbsSeparator=styled$1("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(a,o)=>o.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function insertSeparators(a,o,s,$){return a.reduce((j,_e,et)=>(et<a.length-1?j=j.concat(_e,jsxRuntimeExports.jsx(BreadcrumbsSeparator,{"aria-hidden":!0,className:o,ownerState:$,children:s},`separator-${et}`)):j.push(_e),j),[])}const Breadcrumbs=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiBreadcrumbs"}),{children:j,className:_e,component:et="nav",slots:tt={},slotProps:rt={},expandText:nt="Show path",itemsAfterCollapse:it=1,itemsBeforeCollapse:ot=1,maxItems:at=8,separator:ut="/"}=$,ht=_objectWithoutPropertiesLoose($,_excluded$a),[pt,Ct]=reactExports.useState(!1),lt=_extends({},$,{component:et,expanded:pt,expandText:nt,itemsAfterCollapse:it,itemsBeforeCollapse:ot,maxItems:at,separator:ut}),ft=useUtilityClasses$a(lt),gt=useSlotProps({elementType:tt.CollapsedIcon,externalSlotProps:rt.collapsedIcon,ownerState:lt}),St=reactExports.useRef(null),It=dt=>{const yt=()=>{Ct(!0);const Rt=St.current.querySelector("a[href],button,[tabindex]");Rt&&Rt.focus()};return ot+it>=dt.length?dt:[...dt.slice(0,ot),jsxRuntimeExports.jsx(BreadcrumbCollapsed,{"aria-label":nt,slots:{CollapsedIcon:tt.CollapsedIcon},slotProps:{collapsedIcon:gt},onClick:yt},"ellipsis"),...dt.slice(dt.length-it,dt.length)]},vt=reactExports.Children.toArray(j).filter(dt=>reactExports.isValidElement(dt)).map((dt,yt)=>jsxRuntimeExports.jsx("li",{className:ft.li,children:dt},`child-${yt}`));return jsxRuntimeExports.jsx(BreadcrumbsRoot,_extends({ref:s,component:et,color:"text.secondary",className:clsx(ft.root,_e),ownerState:lt},ht,{children:jsxRuntimeExports.jsx(BreadcrumbsOl,{className:ft.ol,ref:St,ownerState:lt,children:insertSeparators(pt||at&&vt.length<=at?vt:It(vt),ft.separator,ut,lt)})}))}),Breadcrumbs$1=Breadcrumbs;function getButtonUtilityClass(a){return generateUtilityClass("MuiButton",a)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,_excluded$9=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$9=a=>{const{color:o,disableElevation:s,fullWidth:$,size:j,variant:_e,classes:et}=a,tt={root:["root",_e,`${_e}${capitalize(o)}`,`size${capitalize(j)}`,`${_e}Size${capitalize(j)}`,o==="inherit"&&"colorInherit",s&&"disableElevation",$&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize(j)}`],endIcon:["endIcon",`iconSize${capitalize(j)}`]},rt=composeClasses(tt,getButtonUtilityClass,et);return _extends({},et,rt)},commonIconStyles=a=>_extends({},a.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},a.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},a.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:a=>rootShouldForwardProp(a)||a==="classes",name:"MuiButton",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,o[s.variant],o[`${s.variant}${capitalize(s.color)}`],o[`size${capitalize(s.size)}`],o[`${s.variant}Size${capitalize(s.size)}`],s.color==="inherit"&&o.colorInherit,s.disableElevation&&o.disableElevation,s.fullWidth&&o.fullWidth]}})(({theme:a,ownerState:o})=>{var s,$;const j=a.palette.mode==="light"?a.palette.grey[300]:a.palette.grey[800],_e=a.palette.mode==="light"?a.palette.grey.A100:a.palette.grey[700];return _extends({},a.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(a.vars||a).shape.borderRadius,transition:a.transitions.create(["background-color","box-shadow","border-color","color"],{duration:a.transitions.duration.short}),"&:hover":_extends({textDecoration:"none",backgroundColor:a.vars?`rgba(${a.vars.palette.text.primaryChannel} / ${a.vars.palette.action.hoverOpacity})`:alpha(a.palette.text.primary,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="text"&&o.color!=="inherit"&&{backgroundColor:a.vars?`rgba(${a.vars.palette[o.color].mainChannel} / ${a.vars.palette.action.hoverOpacity})`:alpha(a.palette[o.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="outlined"&&o.color!=="inherit"&&{border:`1px solid ${(a.vars||a).palette[o.color].main}`,backgroundColor:a.vars?`rgba(${a.vars.palette[o.color].mainChannel} / ${a.vars.palette.action.hoverOpacity})`:alpha(a.palette[o.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="contained"&&{backgroundColor:a.vars?a.vars.palette.Button.inheritContainedHoverBg:_e,boxShadow:(a.vars||a).shadows[4],"@media (hover: none)":{boxShadow:(a.vars||a).shadows[2],backgroundColor:(a.vars||a).palette.grey[300]}},o.variant==="contained"&&o.color!=="inherit"&&{backgroundColor:(a.vars||a).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(a.vars||a).palette[o.color].main}}),"&:active":_extends({},o.variant==="contained"&&{boxShadow:(a.vars||a).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends({},o.variant==="contained"&&{boxShadow:(a.vars||a).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends({color:(a.vars||a).palette.action.disabled},o.variant==="outlined"&&{border:`1px solid ${(a.vars||a).palette.action.disabledBackground}`},o.variant==="contained"&&{color:(a.vars||a).palette.action.disabled,boxShadow:(a.vars||a).shadows[0],backgroundColor:(a.vars||a).palette.action.disabledBackground})},o.variant==="text"&&{padding:"6px 8px"},o.variant==="text"&&o.color!=="inherit"&&{color:(a.vars||a).palette[o.color].main},o.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},o.variant==="outlined"&&o.color!=="inherit"&&{color:(a.vars||a).palette[o.color].main,border:a.vars?`1px solid rgba(${a.vars.palette[o.color].mainChannel} / 0.5)`:`1px solid ${alpha(a.palette[o.color].main,.5)}`},o.variant==="contained"&&{color:a.vars?a.vars.palette.text.primary:(s=($=a.palette).getContrastText)==null?void 0:s.call($,a.palette.grey[300]),backgroundColor:a.vars?a.vars.palette.Button.inheritContainedBg:j,boxShadow:(a.vars||a).shadows[2]},o.variant==="contained"&&o.color!=="inherit"&&{color:(a.vars||a).palette[o.color].contrastText,backgroundColor:(a.vars||a).palette[o.color].main},o.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},o.size==="small"&&o.variant==="text"&&{padding:"4px 5px",fontSize:a.typography.pxToRem(13)},o.size==="large"&&o.variant==="text"&&{padding:"8px 11px",fontSize:a.typography.pxToRem(15)},o.size==="small"&&o.variant==="outlined"&&{padding:"3px 9px",fontSize:a.typography.pxToRem(13)},o.size==="large"&&o.variant==="outlined"&&{padding:"7px 21px",fontSize:a.typography.pxToRem(15)},o.size==="small"&&o.variant==="contained"&&{padding:"4px 10px",fontSize:a.typography.pxToRem(13)},o.size==="large"&&o.variant==="contained"&&{padding:"8px 22px",fontSize:a.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})},({ownerState:a})=>a.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.startIcon,o[`iconSize${capitalize(s.size)}`]]}})(({ownerState:a})=>_extends({display:"inherit",marginRight:8,marginLeft:-4},a.size==="small"&&{marginLeft:-2},commonIconStyles(a))),ButtonEndIcon=styled$1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.endIcon,o[`iconSize${capitalize(s.size)}`]]}})(({ownerState:a})=>_extends({display:"inherit",marginRight:-4,marginLeft:8},a.size==="small"&&{marginRight:-2},commonIconStyles(a))),Button=reactExports.forwardRef(function(o,s){const $=reactExports.useContext(ButtonGroupContext$1),j=resolveProps($,o),_e=useThemeProps({props:j,name:"MuiButton"}),{children:et,color:tt="primary",component:rt="button",className:nt,disabled:it=!1,disableElevation:ot=!1,disableFocusRipple:at=!1,endIcon:ut,focusVisibleClassName:ht,fullWidth:pt=!1,size:Ct="medium",startIcon:lt,type:ft,variant:gt="text"}=_e,St=_objectWithoutPropertiesLoose(_e,_excluded$9),It=_extends({},_e,{color:tt,component:rt,disabled:it,disableElevation:ot,disableFocusRipple:at,fullWidth:pt,size:Ct,type:ft,variant:gt}),vt=useUtilityClasses$9(It),dt=lt&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:vt.startIcon,ownerState:It,children:lt}),yt=ut&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:vt.endIcon,ownerState:It,children:ut});return jsxRuntimeExports.jsxs(ButtonRoot,_extends({ownerState:It,className:clsx($.className,vt.root,nt),component:rt,disabled:it,focusRipple:!at,focusVisibleClassName:clsx(vt.focusVisible,ht),ref:s,type:ft},St,{classes:vt,children:[dt,et,yt]}))}),Button$1=Button;function getCircularProgressUtilityClass(a){return generateUtilityClass("MuiCircularProgress",a)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _excluded$8=["className","color","disableShrink","size","style","thickness","value","variant"];let _=a=>a,_t,_t2,_t3,_t4;const SIZE=44,circularRotateKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),circularDashKeyframe=keyframes(_t2||(_t2=_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),useUtilityClasses$8=a=>{const{classes:o,variant:s,color:$,disableShrink:j}=a,_e={root:["root",s,`color${capitalize($)}`],svg:["svg"],circle:["circle",`circle${capitalize(s)}`,j&&"circleDisableShrink"]};return composeClasses(_e,getCircularProgressUtilityClass,o)},CircularProgressRoot=styled$1("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,o[s.variant],o[`color${capitalize(s.color)}`]]}})(({ownerState:a,theme:o})=>_extends({display:"inline-block"},a.variant==="determinate"&&{transition:o.transitions.create("transform")},a.color!=="inherit"&&{color:(o.vars||o).palette[a.color].main}),({ownerState:a})=>a.variant==="indeterminate"&&css(_t3||(_t3=_`
      animation: ${0} 1.4s linear infinite;
    `),circularRotateKeyframe)),CircularProgressSVG=styled$1("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(a,o)=>o.svg})({display:"block"}),CircularProgressCircle=styled$1("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.circle,o[`circle${capitalize(s.variant)}`],s.disableShrink&&o.circleDisableShrink]}})(({ownerState:a,theme:o})=>_extends({stroke:"currentColor"},a.variant==="determinate"&&{transition:o.transitions.create("stroke-dashoffset")},a.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:a})=>a.variant==="indeterminate"&&!a.disableShrink&&css(_t4||(_t4=_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),circularDashKeyframe)),CircularProgress=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiCircularProgress"}),{className:j,color:_e="primary",disableShrink:et=!1,size:tt=40,style:rt,thickness:nt=3.6,value:it=0,variant:ot="indeterminate"}=$,at=_objectWithoutPropertiesLoose($,_excluded$8),ut=_extends({},$,{color:_e,disableShrink:et,size:tt,thickness:nt,value:it,variant:ot}),ht=useUtilityClasses$8(ut),pt={},Ct={},lt={};if(ot==="determinate"){const ft=2*Math.PI*((SIZE-nt)/2);pt.strokeDasharray=ft.toFixed(3),lt["aria-valuenow"]=Math.round(it),pt.strokeDashoffset=`${((100-it)/100*ft).toFixed(3)}px`,Ct.transform="rotate(-90deg)"}return jsxRuntimeExports.jsx(CircularProgressRoot,_extends({className:clsx(ht.root,j),style:_extends({width:tt,height:tt},Ct,rt),ownerState:ut,ref:s,role:"progressbar"},lt,at,{children:jsxRuntimeExports.jsx(CircularProgressSVG,{className:ht.svg,ownerState:ut,viewBox:`${SIZE/2} ${SIZE/2} ${SIZE} ${SIZE}`,children:jsxRuntimeExports.jsx(CircularProgressCircle,{className:ht.circle,style:pt,ownerState:ut,cx:SIZE,cy:SIZE,r:(SIZE-nt)/2,fill:"none",strokeWidth:nt})})}))}),CircularProgress$1=CircularProgress,Container=createContainer({createStyledComponent:styled$1("div",{name:"MuiContainer",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,o[`maxWidth${capitalize(String(s.maxWidth))}`],s.fixed&&o.fixed,s.disableGutters&&o.disableGutters]}}),useThemeProps:a=>useThemeProps({props:a,name:"MuiContainer"})}),Container$1=Container,GridContext=reactExports.createContext(),GridContext$1=GridContext;function getGridUtilityClass(a){return generateUtilityClass("MuiGrid",a)}const SPACINGS=[0,1,2,3,4,5,6,7,8,9,10],DIRECTIONS=["column-reverse","column","row-reverse","row"],WRAPS=["nowrap","wrap-reverse","wrap"],GRID_SIZES=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gridClasses=generateUtilityClasses("MuiGrid",["root","container","item","zeroMinWidth",...SPACINGS.map(a=>`spacing-xs-${a}`),...DIRECTIONS.map(a=>`direction-xs-${a}`),...WRAPS.map(a=>`wrap-xs-${a}`),...GRID_SIZES.map(a=>`grid-xs-${a}`),...GRID_SIZES.map(a=>`grid-sm-${a}`),...GRID_SIZES.map(a=>`grid-md-${a}`),...GRID_SIZES.map(a=>`grid-lg-${a}`),...GRID_SIZES.map(a=>`grid-xl-${a}`)]),_excluded$7=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function getOffset(a){const o=parseFloat(a);return`${o}${String(a).replace(String(o),"")||"px"}`}function generateGrid({theme:a,ownerState:o}){let s;return a.breakpoints.keys.reduce(($,j)=>{let _e={};if(o[j]&&(s=o[j]),!s)return $;if(s===!0)_e={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(s==="auto")_e={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const et=resolveBreakpointValues({values:o.columns,breakpoints:a.breakpoints.values}),tt=typeof et=="object"?et[j]:et;if(tt==null)return $;const rt=`${Math.round(s/tt*1e8)/1e6}%`;let nt={};if(o.container&&o.item&&o.columnSpacing!==0){const it=a.spacing(o.columnSpacing);if(it!=="0px"){const ot=`calc(${rt} + ${getOffset(it)})`;nt={flexBasis:ot,maxWidth:ot}}}_e=_extends({flexBasis:rt,flexGrow:0,maxWidth:rt},nt)}return a.breakpoints.values[j]===0?Object.assign($,_e):$[a.breakpoints.up(j)]=_e,$},{})}function generateDirection({theme:a,ownerState:o}){const s=resolveBreakpointValues({values:o.direction,breakpoints:a.breakpoints.values});return handleBreakpoints({theme:a},s,$=>{const j={flexDirection:$};return $.indexOf("column")===0&&(j[`& > .${gridClasses.item}`]={maxWidth:"none"}),j})}function extractZeroValueBreakpointKeys({breakpoints:a,values:o}){let s="";Object.keys(o).forEach(j=>{s===""&&o[j]!==0&&(s=j)});const $=Object.keys(a).sort((j,_e)=>a[j]-a[_e]);return $.slice(0,$.indexOf(s))}function generateRowGap({theme:a,ownerState:o}){const{container:s,rowSpacing:$}=o;let j={};if(s&&$!==0){const _e=resolveBreakpointValues({values:$,breakpoints:a.breakpoints.values});let et;typeof _e=="object"&&(et=extractZeroValueBreakpointKeys({breakpoints:a.breakpoints.values,values:_e})),j=handleBreakpoints({theme:a},_e,(tt,rt)=>{var nt;const it=a.spacing(tt);return it!=="0px"?{marginTop:`-${getOffset(it)}`,[`& > .${gridClasses.item}`]:{paddingTop:getOffset(it)}}:(nt=et)!=null&&nt.includes(rt)?{}:{marginTop:0,[`& > .${gridClasses.item}`]:{paddingTop:0}}})}return j}function generateColumnGap({theme:a,ownerState:o}){const{container:s,columnSpacing:$}=o;let j={};if(s&&$!==0){const _e=resolveBreakpointValues({values:$,breakpoints:a.breakpoints.values});let et;typeof _e=="object"&&(et=extractZeroValueBreakpointKeys({breakpoints:a.breakpoints.values,values:_e})),j=handleBreakpoints({theme:a},_e,(tt,rt)=>{var nt;const it=a.spacing(tt);return it!=="0px"?{width:`calc(100% + ${getOffset(it)})`,marginLeft:`-${getOffset(it)}`,[`& > .${gridClasses.item}`]:{paddingLeft:getOffset(it)}}:(nt=et)!=null&&nt.includes(rt)?{}:{width:"100%",marginLeft:0,[`& > .${gridClasses.item}`]:{paddingLeft:0}}})}return j}function resolveSpacingStyles(a,o,s={}){if(!a||a<=0)return[];if(typeof a=="string"&&!Number.isNaN(Number(a))||typeof a=="number")return[s[`spacing-xs-${String(a)}`]];const $=[];return o.forEach(j=>{const _e=a[j];Number(_e)>0&&$.push(s[`spacing-${j}-${String(_e)}`])}),$}const GridRoot=styled$1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a,{container:$,direction:j,item:_e,spacing:et,wrap:tt,zeroMinWidth:rt,breakpoints:nt}=s;let it=[];$&&(it=resolveSpacingStyles(et,nt,o));const ot=[];return nt.forEach(at=>{const ut=s[at];ut&&ot.push(o[`grid-${at}-${String(ut)}`])}),[o.root,$&&o.container,_e&&o.item,rt&&o.zeroMinWidth,...it,j!=="row"&&o[`direction-xs-${String(j)}`],tt!=="wrap"&&o[`wrap-xs-${String(tt)}`],...ot]}})(({ownerState:a})=>_extends({boxSizing:"border-box"},a.container&&{display:"flex",flexWrap:"wrap",width:"100%"},a.item&&{margin:0},a.zeroMinWidth&&{minWidth:0},a.wrap!=="wrap"&&{flexWrap:a.wrap}),generateDirection,generateRowGap,generateColumnGap,generateGrid);function resolveSpacingClasses(a,o){if(!a||a<=0)return[];if(typeof a=="string"&&!Number.isNaN(Number(a))||typeof a=="number")return[`spacing-xs-${String(a)}`];const s=[];return o.forEach($=>{const j=a[$];if(Number(j)>0){const _e=`spacing-${$}-${String(j)}`;s.push(_e)}}),s}const useUtilityClasses$7=a=>{const{classes:o,container:s,direction:$,item:j,spacing:_e,wrap:et,zeroMinWidth:tt,breakpoints:rt}=a;let nt=[];s&&(nt=resolveSpacingClasses(_e,rt));const it=[];rt.forEach(at=>{const ut=a[at];ut&&it.push(`grid-${at}-${String(ut)}`)});const ot={root:["root",s&&"container",j&&"item",tt&&"zeroMinWidth",...nt,$!=="row"&&`direction-xs-${String($)}`,et!=="wrap"&&`wrap-xs-${String(et)}`,...it]};return composeClasses(ot,getGridUtilityClass,o)},Grid$1=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiGrid"}),{breakpoints:j}=useTheme(),_e=extendSxProp($),{className:et,columns:tt,columnSpacing:rt,component:nt="div",container:it=!1,direction:ot="row",item:at=!1,rowSpacing:ut,spacing:ht=0,wrap:pt="wrap",zeroMinWidth:Ct=!1}=_e,lt=_objectWithoutPropertiesLoose(_e,_excluded$7),ft=ut||ht,gt=rt||ht,St=reactExports.useContext(GridContext$1),It=it?tt||12:St,vt={},dt=_extends({},lt);j.keys.forEach(Pt=>{lt[Pt]!=null&&(vt[Pt]=lt[Pt],delete dt[Pt])});const yt=_extends({},_e,{columns:It,container:it,direction:ot,item:at,rowSpacing:ft,columnSpacing:gt,wrap:pt,zeroMinWidth:Ct,spacing:ht},vt,{breakpoints:j.keys}),Rt=useUtilityClasses$7(yt);return jsxRuntimeExports.jsx(GridContext$1.Provider,{value:It,children:jsxRuntimeExports.jsx(GridRoot,_extends({ownerState:yt,className:clsx(Rt.root,et),as:nt,ref:s},dt))})}),Grid$2=Grid$1,Grid2=createGrid({createStyledComponent:styled$1("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(a,o)=>o.root}),componentName:"MuiGrid2",useThemeProps:a=>useThemeProps({props:a,name:"MuiGrid2"})}),Grid=Grid2,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListItemUtilityClass(a){return generateUtilityClass("MuiListItem",a)}const listItemClasses=generateUtilityClasses("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),listItemClasses$1=listItemClasses;function getListItemButtonUtilityClass(a){return generateUtilityClass("MuiListItemButton",a)}const listItemButtonClasses=generateUtilityClasses("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),listItemButtonClasses$1=listItemButtonClasses,_excluded$6=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],overridesResolver$1=(a,o)=>{const{ownerState:s}=a;return[o.root,s.dense&&o.dense,s.alignItems==="flex-start"&&o.alignItemsFlexStart,s.divider&&o.divider,!s.disableGutters&&o.gutters]},useUtilityClasses$6=a=>{const{alignItems:o,classes:s,dense:$,disabled:j,disableGutters:_e,divider:et,selected:tt}=a,nt=composeClasses({root:["root",$&&"dense",!_e&&"gutters",et&&"divider",j&&"disabled",o==="flex-start"&&"alignItemsFlexStart",tt&&"selected"]},getListItemButtonUtilityClass,s);return _extends({},s,nt)},ListItemButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:a=>rootShouldForwardProp(a)||a==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:overridesResolver$1})(({theme:a,ownerState:o})=>_extends({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${listItemButtonClasses$1.selected}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / ${a.vars.palette.action.selectedOpacity})`:alpha(a.palette.primary.main,a.palette.action.selectedOpacity),[`&.${listItemButtonClasses$1.focusVisible}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.focusOpacity}))`:alpha(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}},[`&.${listItemButtonClasses$1.selected}:hover`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.hoverOpacity}))`:alpha(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / ${a.vars.palette.action.selectedOpacity})`:alpha(a.palette.primary.main,a.palette.action.selectedOpacity)}},[`&.${listItemButtonClasses$1.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},[`&.${listItemButtonClasses$1.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity}},o.divider&&{borderBottom:`1px solid ${(a.vars||a).palette.divider}`,backgroundClip:"padding-box"},o.alignItems==="flex-start"&&{alignItems:"flex-start"},!o.disableGutters&&{paddingLeft:16,paddingRight:16},o.dense&&{paddingTop:4,paddingBottom:4})),ListItemButton=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiListItemButton"}),{alignItems:j="center",autoFocus:_e=!1,component:et="div",children:tt,dense:rt=!1,disableGutters:nt=!1,divider:it=!1,focusVisibleClassName:ot,selected:at=!1,className:ut}=$,ht=_objectWithoutPropertiesLoose($,_excluded$6),pt=reactExports.useContext(ListContext$1),Ct=reactExports.useMemo(()=>({dense:rt||pt.dense||!1,alignItems:j,disableGutters:nt}),[j,pt.dense,rt,nt]),lt=reactExports.useRef(null);useEnhancedEffect$1(()=>{_e&&lt.current&&lt.current.focus()},[_e]);const ft=_extends({},$,{alignItems:j,dense:Ct.dense,disableGutters:nt,divider:it,selected:at}),gt=useUtilityClasses$6(ft),St=useForkRef(lt,s);return jsxRuntimeExports.jsx(ListContext$1.Provider,{value:Ct,children:jsxRuntimeExports.jsx(ListItemButtonRoot,_extends({ref:St,href:ht.href||ht.to,component:(ht.href||ht.to)&&et==="div"?"button":et,focusVisibleClassName:clsx(gt.focusVisible,ot),ownerState:ft,className:clsx(gt.root,ut)},ht,{classes:gt,children:tt}))})}),ListItemButton$1=ListItemButton;function getListItemSecondaryActionClassesUtilityClass(a){return generateUtilityClass("MuiListItemSecondaryAction",a)}generateUtilityClasses("MuiListItemSecondaryAction",["root","disableGutters"]);const _excluded$5=["className"],useUtilityClasses$5=a=>{const{disableGutters:o,classes:s}=a;return composeClasses({root:["root",o&&"disableGutters"]},getListItemSecondaryActionClassesUtilityClass,s)},ListItemSecondaryActionRoot=styled$1("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,s.disableGutters&&o.disableGutters]}})(({ownerState:a})=>_extends({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},a.disableGutters&&{right:0})),ListItemSecondaryAction=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiListItemSecondaryAction"}),{className:j}=$,_e=_objectWithoutPropertiesLoose($,_excluded$5),et=reactExports.useContext(ListContext$1),tt=_extends({},$,{disableGutters:et.disableGutters}),rt=useUtilityClasses$5(tt);return jsxRuntimeExports.jsx(ListItemSecondaryActionRoot,_extends({className:clsx(rt.root,j),ownerState:tt,ref:s},_e))});ListItemSecondaryAction.muiName="ListItemSecondaryAction";const ListItemSecondaryAction$1=ListItemSecondaryAction,_excluded$4=["className"],_excluded2=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],overridesResolver=(a,o)=>{const{ownerState:s}=a;return[o.root,s.dense&&o.dense,s.alignItems==="flex-start"&&o.alignItemsFlexStart,s.divider&&o.divider,!s.disableGutters&&o.gutters,!s.disablePadding&&o.padding,s.button&&o.button,s.hasSecondaryAction&&o.secondaryAction]},useUtilityClasses$4=a=>{const{alignItems:o,button:s,classes:$,dense:j,disabled:_e,disableGutters:et,disablePadding:tt,divider:rt,hasSecondaryAction:nt,selected:it}=a;return composeClasses({root:["root",j&&"dense",!et&&"gutters",!tt&&"padding",rt&&"divider",_e&&"disabled",s&&"button",o==="flex-start"&&"alignItemsFlexStart",nt&&"secondaryAction",it&&"selected"],container:["container"]},getListItemUtilityClass,$)},ListItemRoot=styled$1("div",{name:"MuiListItem",slot:"Root",overridesResolver})(({theme:a,ownerState:o})=>_extends({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!o.disablePadding&&_extends({paddingTop:8,paddingBottom:8},o.dense&&{paddingTop:4,paddingBottom:4},!o.disableGutters&&{paddingLeft:16,paddingRight:16},!!o.secondaryAction&&{paddingRight:48}),!!o.secondaryAction&&{[`& > .${listItemButtonClasses$1.root}`]:{paddingRight:48}},{[`&.${listItemClasses$1.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},[`&.${listItemClasses$1.selected}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / ${a.vars.palette.action.selectedOpacity})`:alpha(a.palette.primary.main,a.palette.action.selectedOpacity),[`&.${listItemClasses$1.focusVisible}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.focusOpacity}))`:alpha(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}},[`&.${listItemClasses$1.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity}},o.alignItems==="flex-start"&&{alignItems:"flex-start"},o.divider&&{borderBottom:`1px solid ${(a.vars||a).palette.divider}`,backgroundClip:"padding-box"},o.button&&{transition:a.transitions.create("background-color",{duration:a.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${listItemClasses$1.selected}:hover`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.hoverOpacity}))`:alpha(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / ${a.vars.palette.action.selectedOpacity})`:alpha(a.palette.primary.main,a.palette.action.selectedOpacity)}}},o.hasSecondaryAction&&{paddingRight:48})),ListItemContainer=styled$1("li",{name:"MuiListItem",slot:"Container",overridesResolver:(a,o)=>o.container})({position:"relative"}),ListItem=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiListItem"}),{alignItems:j="center",autoFocus:_e=!1,button:et=!1,children:tt,className:rt,component:nt,components:it={},componentsProps:ot={},ContainerComponent:at="li",ContainerProps:{className:ut}={},dense:ht=!1,disabled:pt=!1,disableGutters:Ct=!1,disablePadding:lt=!1,divider:ft=!1,focusVisibleClassName:gt,secondaryAction:St,selected:It=!1,slotProps:vt={},slots:dt={}}=$,yt=_objectWithoutPropertiesLoose($.ContainerProps,_excluded$4),Rt=_objectWithoutPropertiesLoose($,_excluded2),Pt=reactExports.useContext(ListContext$1),Dt=reactExports.useMemo(()=>({dense:ht||Pt.dense||!1,alignItems:j,disableGutters:Ct}),[j,Pt.dense,ht,Ct]),Ft=reactExports.useRef(null);useEnhancedEffect$1(()=>{_e&&Ft.current&&Ft.current.focus()},[_e]);const Kt=reactExports.Children.toArray(tt),qt=Kt.length&&isMuiElement(Kt[Kt.length-1],["ListItemSecondaryAction"]),Zt=_extends({},$,{alignItems:j,autoFocus:_e,button:et,dense:Dt.dense,disabled:pt,disableGutters:Ct,disablePadding:lt,divider:ft,hasSecondaryAction:qt,selected:It}),er=useUtilityClasses$4(Zt),rr=useForkRef(Ft,s),Ot=dt.root||it.Root||ListItemRoot,zt=vt.root||ot.root||{},jt=_extends({className:clsx(er.root,zt.className,rt),disabled:pt},Rt);let Gt=nt||"li";return et&&(jt.component=nt||"div",jt.focusVisibleClassName=clsx(listItemClasses$1.focusVisible,gt),Gt=ButtonBase$1),qt?(Gt=!jt.component&&!nt?"div":Gt,at==="li"&&(Gt==="li"?Gt="div":jt.component==="li"&&(jt.component="div")),jsxRuntimeExports.jsx(ListContext$1.Provider,{value:Dt,children:jsxRuntimeExports.jsxs(ListItemContainer,_extends({as:at,className:clsx(er.container,ut),ref:rr,ownerState:Zt},yt,{children:[jsxRuntimeExports.jsx(Ot,_extends({},zt,!isHostComponent(Ot)&&{as:Gt,ownerState:_extends({},Zt,zt.ownerState)},jt,{children:Kt})),Kt.pop()]}))})):jsxRuntimeExports.jsx(ListContext$1.Provider,{value:Dt,children:jsxRuntimeExports.jsxs(Ot,_extends({},zt,{as:Gt,ref:rr},!isHostComponent(Ot)&&{ownerState:_extends({},Zt,zt.ownerState)},jt,{children:[Kt,St&&jsxRuntimeExports.jsx(ListItemSecondaryAction$1,{children:St})]}))})}),ListItem$1=ListItem;function getListItemIconUtilityClass(a){return generateUtilityClass("MuiListItemIcon",a)}generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]);const _excluded$3=["className"],useUtilityClasses$3=a=>{const{alignItems:o,classes:s}=a;return composeClasses({root:["root",o==="flex-start"&&"alignItemsFlexStart"]},getListItemIconUtilityClass,s)},ListItemIconRoot=styled$1("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,s.alignItems==="flex-start"&&o.alignItemsFlexStart]}})(({theme:a,ownerState:o})=>_extends({minWidth:56,color:(a.vars||a).palette.action.active,flexShrink:0,display:"inline-flex"},o.alignItems==="flex-start"&&{marginTop:8})),ListItemIcon=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiListItemIcon"}),{className:j}=$,_e=_objectWithoutPropertiesLoose($,_excluded$3),et=reactExports.useContext(ListContext$1),tt=_extends({},$,{alignItems:et.alignItems}),rt=useUtilityClasses$3(tt);return jsxRuntimeExports.jsx(ListItemIconRoot,_extends({className:clsx(rt.root,j),ownerState:tt,ref:s},_e))}),ListItemIcon$1=ListItemIcon;function getListItemTextUtilityClass(a){return generateUtilityClass("MuiListItemText",a)}const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),listItemTextClasses$1=listItemTextClasses,_excluded$2=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],useUtilityClasses$2=a=>{const{classes:o,inset:s,primary:$,secondary:j,dense:_e}=a;return composeClasses({root:["root",s&&"inset",_e&&"dense",$&&j&&"multiline"],primary:["primary"],secondary:["secondary"]},getListItemTextUtilityClass,o)},ListItemTextRoot=styled$1("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[{[`& .${listItemTextClasses$1.primary}`]:o.primary},{[`& .${listItemTextClasses$1.secondary}`]:o.secondary},o.root,s.inset&&o.inset,s.primary&&s.secondary&&o.multiline,s.dense&&o.dense]}})(({ownerState:a})=>_extends({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},a.primary&&a.secondary&&{marginTop:6,marginBottom:6},a.inset&&{paddingLeft:56})),ListItemText=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiListItemText"}),{children:j,className:_e,disableTypography:et=!1,inset:tt=!1,primary:rt,primaryTypographyProps:nt,secondary:it,secondaryTypographyProps:ot}=$,at=_objectWithoutPropertiesLoose($,_excluded$2),{dense:ut}=reactExports.useContext(ListContext$1);let ht=rt??j,pt=it;const Ct=_extends({},$,{disableTypography:et,inset:tt,primary:!!ht,secondary:!!pt,dense:ut}),lt=useUtilityClasses$2(Ct);return ht!=null&&ht.type!==Typography$1&&!et&&(ht=jsxRuntimeExports.jsx(Typography$1,_extends({variant:ut?"body2":"body1",className:lt.primary,component:nt!=null&&nt.variant?void 0:"span",display:"block"},nt,{children:ht}))),pt!=null&&pt.type!==Typography$1&&!et&&(pt=jsxRuntimeExports.jsx(Typography$1,_extends({variant:"body2",className:lt.secondary,color:"text.secondary",display:"block"},ot,{children:pt}))),jsxRuntimeExports.jsxs(ListItemTextRoot,_extends({className:clsx(lt.root,_e),ownerState:Ct,ref:s},at,{children:[ht,pt]}))}),ListItemText$1=ListItemText,shouldSpreadAdditionalProps=a=>!a||!isHostComponent(a),shouldSpreadAdditionalProps$1=shouldSpreadAdditionalProps;function getSliderUtilityClass(a){return generateUtilityClass("MuiSlider",a)}const sliderClasses=generateUtilityClasses("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),sliderClasses$1=sliderClasses,useValueLabelClasses=a=>{const{open:o}=a;return{offset:clsx(o&&sliderClasses$1.valueLabelOpen),circle:sliderClasses$1.valueLabelCircle,label:sliderClasses$1.valueLabelLabel}};function SliderValueLabel(a){const{children:o,className:s,value:$}=a,j=useValueLabelClasses(a);return o?reactExports.cloneElement(o,{className:clsx(o.props.className)},jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[o.props.children,jsxRuntimeExports.jsx("span",{className:clsx(j.offset,s),"aria-hidden":!0,children:jsxRuntimeExports.jsx("span",{className:j.circle,children:jsxRuntimeExports.jsx("span",{className:j.label,children:$})})})]})):null}const _excluded$1=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Identity(a){return a}const SliderRoot=styled$1("span",{name:"MuiSlider",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,o[`color${capitalize(s.color)}`],s.size!=="medium"&&o[`size${capitalize(s.size)}`],s.marked&&o.marked,s.orientation==="vertical"&&o.vertical,s.track==="inverted"&&o.trackInverted,s.track===!1&&o.trackFalse]}})(({theme:a,ownerState:o})=>_extends({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(a.vars||a).palette[o.color].main,WebkitTapHighlightColor:"transparent"},o.orientation==="horizontal"&&_extends({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},o.size==="small"&&{height:2},o.marked&&{marginBottom:20}),o.orientation==="vertical"&&_extends({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},o.size==="small"&&{width:2},o.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${sliderClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default",color:(a.vars||a).palette.grey[400]},[`&.${sliderClasses$1.dragging}`]:{[`& .${sliderClasses$1.thumb}, & .${sliderClasses$1.track}`]:{transition:"none"}}})),SliderRail=styled$1("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(a,o)=>o.rail})(({ownerState:a})=>_extends({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},a.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},a.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},a.track==="inverted"&&{opacity:1})),SliderTrack=styled$1("span",{name:"MuiSlider",slot:"Track",overridesResolver:(a,o)=>o.track})(({theme:a,ownerState:o})=>{const s=a.palette.mode==="light"?lighten(a.palette[o.color].main,.62):darken(a.palette[o.color].main,.5);return _extends({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:a.transitions.create(["left","width","bottom","height"],{duration:a.transitions.duration.shortest})},o.size==="small"&&{border:"none"},o.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},o.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},o.track===!1&&{display:"none"},o.track==="inverted"&&{backgroundColor:a.vars?a.vars.palette.Slider[`${o.color}Track`]:s,borderColor:a.vars?a.vars.palette.Slider[`${o.color}Track`]:s})}),SliderThumb=styled$1("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.thumb,o[`thumbColor${capitalize(s.color)}`],s.size!=="medium"&&o[`thumbSize${capitalize(s.size)}`]]}})(({theme:a,ownerState:o})=>_extends({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:a.transitions.create(["box-shadow","left","bottom"],{duration:a.transitions.duration.shortest})},o.size==="small"&&{width:12,height:12},o.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},o.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":_extends({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(a.vars||a).shadows[2]},o.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${sliderClasses$1.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${a.vars?`rgba(${a.vars.palette[o.color].mainChannel} / 0.16)`:alpha(a.palette[o.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${sliderClasses$1.active}`]:{boxShadow:`0px 0px 0px 14px ${a.vars?`rgba(${a.vars.palette[o.color].mainChannel} / 0.16)`:alpha(a.palette[o.color].main,.16)}`},[`&.${sliderClasses$1.disabled}`]:{"&:hover":{boxShadow:"none"}}})),StyledSliderValueLabel=styled$1(SliderValueLabel,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(a,o)=>o.valueLabel})(({theme:a,ownerState:o})=>_extends({[`&.${sliderClasses$1.valueLabelOpen}`]:{transform:`${o.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},a.typography.body2,{fontWeight:500,transition:a.transitions.create(["transform"],{duration:a.transitions.duration.shortest}),transform:`${o.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(a.vars||a).palette.grey[600],borderRadius:2,color:(a.vars||a).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},o.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},o.orientation==="vertical"&&{right:o.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},o.size==="small"&&{fontSize:a.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),SliderMark=styled$1("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:a=>slotShouldForwardProp(a)&&a!=="markActive",overridesResolver:(a,o)=>{const{markActive:s}=a;return[o.mark,s&&o.markActive]}})(({theme:a,ownerState:o,markActive:s})=>_extends({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},o.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},o.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},s&&{backgroundColor:(a.vars||a).palette.background.paper,opacity:.8})),SliderMarkLabel=styled$1("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:a=>slotShouldForwardProp(a)&&a!=="markLabelActive",overridesResolver:(a,o)=>o.markLabel})(({theme:a,ownerState:o,markLabelActive:s})=>_extends({},a.typography.body2,{color:(a.vars||a).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},o.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},o.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},s&&{color:(a.vars||a).palette.text.primary})),useUtilityClasses$1=a=>{const{disabled:o,dragging:s,marked:$,orientation:j,track:_e,classes:et,color:tt,size:rt}=a,nt={root:["root",o&&"disabled",s&&"dragging",$&&"marked",j==="vertical"&&"vertical",_e==="inverted"&&"trackInverted",_e===!1&&"trackFalse",tt&&`color${capitalize(tt)}`,rt&&`size${capitalize(rt)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",o&&"disabled",rt&&`thumbSize${capitalize(rt)}`,tt&&`thumbColor${capitalize(tt)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return composeClasses(nt,getSliderUtilityClass,et)},Forward=({children:a})=>a,Slider=reactExports.forwardRef(function(o,s){var $,j,_e,et,tt,rt,nt,it,ot,at,ut,ht,pt,Ct,lt,ft,gt,St,It,vt,dt,yt,Rt,Pt;const Dt=useThemeProps({props:o,name:"MuiSlider"}),Kt=useTheme().direction==="rtl",{"aria-label":qt,"aria-valuetext":Zt,"aria-labelledby":er,component:rr="span",components:Ot={},componentsProps:zt={},color:jt="primary",classes:Gt,className:Yt,disableSwap:nr=!1,disabled:ar=!1,getAriaLabel:ur,getAriaValueText:At,marks:xt=!1,max:Bt=100,min:Lt=0,orientation:Xt="horizontal",size:Et="medium",step:wt=1,scale:Mt=Identity,slotProps:Nt,slots:Vt,track:Qt="normal",valueLabelDisplay:Wt="off",valueLabelFormat:or=Identity}=Dt,fr=_objectWithoutPropertiesLoose(Dt,_excluded$1),cr=_extends({},Dt,{isRtl:Kt,max:Bt,min:Lt,classes:Gt,disabled:ar,disableSwap:nr,orientation:Xt,marks:xt,color:jt,size:Et,step:wt,scale:Mt,track:Qt,valueLabelDisplay:Wt,valueLabelFormat:or}),{axisProps:mr,getRootProps:hr,getHiddenInputProps:dr,getThumbProps:Ut,open:Ht,active:Jt,axis:mt,focusedThumbIndex:st,range:ct,dragging:Tt,marks:kt,values:bt,trackOffset:$t,trackLeap:tr}=useSlider(_extends({},cr,{rootRef:s}));cr.marked=kt.length>0&&kt.some(gr=>gr.label),cr.dragging=Tt,cr.focusedThumbIndex=st;const ir=useUtilityClasses$1(cr),lr=($=(j=Vt==null?void 0:Vt.root)!=null?j:Ot.Root)!=null?$:SliderRoot,pr=(_e=(et=Vt==null?void 0:Vt.rail)!=null?et:Ot.Rail)!=null?_e:SliderRail,sr=(tt=(rt=Vt==null?void 0:Vt.track)!=null?rt:Ot.Track)!=null?tt:SliderTrack,Rr=(nt=(it=Vt==null?void 0:Vt.thumb)!=null?it:Ot.Thumb)!=null?nt:SliderThumb,Pr=(ot=(at=Vt==null?void 0:Vt.valueLabel)!=null?at:Ot.ValueLabel)!=null?ot:StyledSliderValueLabel,_r=(ut=(ht=Vt==null?void 0:Vt.mark)!=null?ht:Ot.Mark)!=null?ut:SliderMark,Cr=(pt=(Ct=Vt==null?void 0:Vt.markLabel)!=null?Ct:Ot.MarkLabel)!=null?pt:SliderMarkLabel,Mr=(lt=(ft=Vt==null?void 0:Vt.input)!=null?ft:Ot.Input)!=null?lt:"input",Tr=(gt=Nt==null?void 0:Nt.root)!=null?gt:zt.root,$r=(St=Nt==null?void 0:Nt.rail)!=null?St:zt.rail,wr=(It=Nt==null?void 0:Nt.track)!=null?It:zt.track,Sr=(vt=Nt==null?void 0:Nt.thumb)!=null?vt:zt.thumb,Ir=(dt=Nt==null?void 0:Nt.valueLabel)!=null?dt:zt.valueLabel,Nr=(yt=Nt==null?void 0:Nt.mark)!=null?yt:zt.mark,Or=(Rt=Nt==null?void 0:Nt.markLabel)!=null?Rt:zt.markLabel,Br=(Pt=Nt==null?void 0:Nt.input)!=null?Pt:zt.input,Dr=useSlotProps({elementType:lr,getSlotProps:hr,externalSlotProps:Tr,externalForwardedProps:fr,additionalProps:_extends({},shouldSpreadAdditionalProps$1(lr)&&{as:rr}),ownerState:_extends({},cr,Tr==null?void 0:Tr.ownerState),className:[ir.root,Yt]}),Ur=useSlotProps({elementType:pr,externalSlotProps:$r,ownerState:cr,className:ir.rail}),Lr=useSlotProps({elementType:sr,externalSlotProps:wr,additionalProps:{style:_extends({},mr[mt].offset($t),mr[mt].leap(tr))},ownerState:_extends({},cr,wr==null?void 0:wr.ownerState),className:ir.track}),kr=useSlotProps({elementType:Rr,getSlotProps:Ut,externalSlotProps:Sr,ownerState:_extends({},cr,Sr==null?void 0:Sr.ownerState),className:ir.thumb}),Fr=useSlotProps({elementType:Pr,externalSlotProps:Ir,ownerState:_extends({},cr,Ir==null?void 0:Ir.ownerState),className:ir.valueLabel}),br=useSlotProps({elementType:_r,externalSlotProps:Nr,ownerState:cr,className:ir.mark}),Ar=useSlotProps({elementType:Cr,externalSlotProps:Or,ownerState:cr,className:ir.markLabel}),zr=useSlotProps({elementType:Mr,getSlotProps:dr,externalSlotProps:Br,ownerState:cr});return jsxRuntimeExports.jsxs(lr,_extends({},Dr,{children:[jsxRuntimeExports.jsx(pr,_extends({},Ur)),jsxRuntimeExports.jsx(sr,_extends({},Lr)),kt.filter(gr=>gr.value>=Lt&&gr.value<=Bt).map((gr,vr)=>{const xr=valueToPercent(gr.value,Lt,Bt),Er=mr[mt].offset(xr);let yr;return Qt===!1?yr=bt.indexOf(gr.value)!==-1:yr=Qt==="normal"&&(ct?gr.value>=bt[0]&&gr.value<=bt[bt.length-1]:gr.value<=bt[0])||Qt==="inverted"&&(ct?gr.value<=bt[0]||gr.value>=bt[bt.length-1]:gr.value>=bt[0]),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(_r,_extends({"data-index":vr},br,!isHostComponent(_r)&&{markActive:yr},{style:_extends({},Er,br.style),className:clsx(br.className,yr&&ir.markActive)})),gr.label!=null?jsxRuntimeExports.jsx(Cr,_extends({"aria-hidden":!0,"data-index":vr},Ar,!isHostComponent(Cr)&&{markLabelActive:yr},{style:_extends({},Er,Ar.style),className:clsx(ir.markLabel,Ar.className,yr&&ir.markLabelActive),children:gr.label})):null]},vr)}),bt.map((gr,vr)=>{const xr=valueToPercent(gr,Lt,Bt),Er=mr[mt].offset(xr),yr=Wt==="off"?Forward:Pr;return jsxRuntimeExports.jsx(yr,_extends({},!isHostComponent(yr)&&{valueLabelFormat:or,valueLabelDisplay:Wt,value:typeof or=="function"?or(Mt(gr),vr):or,index:vr,open:Ht===vr||Jt===vr||Wt==="on",disabled:ar},Fr,{children:jsxRuntimeExports.jsx(Rr,_extends({"data-index":vr},kr,{className:clsx(ir.thumb,kr.className,Jt===vr&&ir.active,st===vr&&ir.focusVisible),style:_extends({},Er,{pointerEvents:nr&&Jt!==vr?"none":void 0},kr.style),children:jsxRuntimeExports.jsx(Mr,_extends({"data-index":vr,"aria-label":ur?ur(vr):qt,"aria-valuenow":Mt(gr),"aria-labelledby":er,"aria-valuetext":At?At(Mt(gr),vr):Zt,value:bt[vr]},zr))}))}),vr)})]}))}),Slider$1=Slider;function getToolbarUtilityClass(a){return generateUtilityClass("MuiToolbar",a)}generateUtilityClasses("MuiToolbar",["root","gutters","regular","dense"]);const _excluded=["className","component","disableGutters","variant"],useUtilityClasses=a=>{const{classes:o,disableGutters:s,variant:$}=a;return composeClasses({root:["root",!s&&"gutters",$]},getToolbarUtilityClass,o)},ToolbarRoot=styled$1("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:s}=a;return[o.root,!s.disableGutters&&o.gutters,o[s.variant]]}})(({theme:a,ownerState:o})=>_extends({position:"relative",display:"flex",alignItems:"center"},!o.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}},o.variant==="dense"&&{minHeight:48}),({theme:a,ownerState:o})=>o.variant==="regular"&&a.mixins.toolbar),Toolbar=reactExports.forwardRef(function(o,s){const $=useThemeProps({props:o,name:"MuiToolbar"}),{className:j,component:_e="div",disableGutters:et=!1,variant:tt="regular"}=$,rt=_objectWithoutPropertiesLoose($,_excluded),nt=_extends({},$,{component:_e,disableGutters:et,variant:tt}),it=useUtilityClasses(nt);return jsxRuntimeExports.jsx(ToolbarRoot,_extends({as:_e,className:clsx(it.root,j),ref:s,ownerState:nt},rt))}),Toolbar$1=Toolbar;var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=reactExports;function h$1(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var k=typeof Object.is=="function"?Object.is:h$1,l=e.useState,m=e.useEffect,n$1=e.useLayoutEffect,p$1=e.useDebugValue;function q$1(a,o){var s=o(),$=l({inst:{value:s,getSnapshot:o}}),j=$[0].inst,_e=$[1];return n$1(function(){j.value=s,j.getSnapshot=o,r$1(j)&&_e({inst:j})},[a,s,o]),m(function(){return r$1(j)&&_e({inst:j}),a(function(){r$1(j)&&_e({inst:j})})},[a]),p$1(s),s}function r$1(a){var o=a.getSnapshot;a=a.value;try{var s=o();return!k(a,s)}catch{return!0}}function t$1(a,o){return o()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$1:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u$1;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;const SWRGlobalState=new WeakMap,EMPTY_CACHE={},INITIAL_CACHE={},noop$3=()=>{},UNDEFINED=noop$3(),OBJECT=Object,isUndefined=a=>a===UNDEFINED,isFunction=a=>typeof a=="function",mergeObjects=(a,o)=>({...a,...o}),STR_UNDEFINED="undefined",isWindowDefined=typeof window!=STR_UNDEFINED,isDocumentDefined=typeof document!=STR_UNDEFINED,hasRequestAnimationFrame=()=>isWindowDefined&&typeof window.requestAnimationFrame!=STR_UNDEFINED,createCacheHelper=(a,o)=>{const s=SWRGlobalState.get(a);return[()=>!isUndefined(o)&&a.get(o)||EMPTY_CACHE,$=>{if(!isUndefined(o)){const j=a.get(o);o in INITIAL_CACHE||(INITIAL_CACHE[o]=j),s[5](o,mergeObjects(j,$),j||EMPTY_CACHE)}},s[6],()=>!isUndefined(o)&&o in INITIAL_CACHE?INITIAL_CACHE[o]:!isUndefined(o)&&a.get(o)||EMPTY_CACHE]},table=new WeakMap;let counter=0;const stableHash=a=>{const o=typeof a,s=a&&a.constructor,$=s==Date;let j,_e;if(OBJECT(a)===a&&!$&&s!=RegExp){if(j=table.get(a),j)return j;if(j=++counter+"~",table.set(a,j),s==Array){for(j="@",_e=0;_e<a.length;_e++)j+=stableHash(a[_e])+",";table.set(a,j)}if(s==OBJECT){j="#";const et=OBJECT.keys(a).sort();for(;!isUndefined(_e=et.pop());)isUndefined(a[_e])||(j+=_e+":"+stableHash(a[_e])+",");table.set(a,j)}}else j=$?a.toJSON():o=="symbol"?a.toString():o=="string"?JSON.stringify(a):""+a;return j};let online=!0;const isOnline=()=>online,[onWindowEvent,offWindowEvent]=isWindowDefined&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[noop$3,noop$3],isVisible=()=>{const a=isDocumentDefined&&document.visibilityState;return isUndefined(a)||a!=="hidden"},initFocus=a=>(isDocumentDefined&&document.addEventListener("visibilitychange",a),onWindowEvent("focus",a),()=>{isDocumentDefined&&document.removeEventListener("visibilitychange",a),offWindowEvent("focus",a)}),initReconnect=a=>{const o=()=>{online=!0,a()},s=()=>{online=!1};return onWindowEvent("online",o),onWindowEvent("offline",s),()=>{offWindowEvent("online",o),offWindowEvent("offline",s)}},preset={isOnline,isVisible},defaultConfigOptions={initFocus,initReconnect},IS_REACT_LEGACY=!React.useId,IS_SERVER=!isWindowDefined||"Deno"in window,rAF=a=>hasRequestAnimationFrame()?window.requestAnimationFrame(a):setTimeout(a,1),useIsomorphicLayoutEffect=IS_SERVER?reactExports.useEffect:reactExports.useLayoutEffect,navigatorConnection=typeof navigator<"u"&&navigator.connection,slowConnection=!IS_SERVER&&navigatorConnection&&(["slow-2g","2g"].includes(navigatorConnection.effectiveType)||navigatorConnection.saveData),serialize=a=>{if(isFunction(a))try{a=a()}catch{a=""}const o=a;return a=typeof a=="string"?a:(Array.isArray(a)?a.length:a)?stableHash(a):"",[a,o]};let __timestamp=0;const getTimestamp=()=>++__timestamp,FOCUS_EVENT=0,RECONNECT_EVENT=1,MUTATE_EVENT=2,ERROR_REVALIDATE_EVENT=3;var constants={__proto__:null,ERROR_REVALIDATE_EVENT,FOCUS_EVENT,MUTATE_EVENT,RECONNECT_EVENT};async function internalMutate(...a){const[o,s,$,j]=a,_e=mergeObjects({populateCache:!0,throwOnError:!0},typeof j=="boolean"?{revalidate:j}:j||{});let et=_e.populateCache;const tt=_e.rollbackOnError;let rt=_e.optimisticData;const nt=_e.revalidate!==!1,it=ut=>typeof tt=="function"?tt(ut):tt!==!1,ot=_e.throwOnError;if(isFunction(s)){const ut=s,ht=[],pt=o.keys();for(let Ct=pt.next();!Ct.done;Ct=pt.next()){const lt=Ct.value;!/^\$(inf|sub)\$/.test(lt)&&ut(o.get(lt)._k)&&ht.push(lt)}return Promise.all(ht.map(at))}return at(s);async function at(ut){const[ht]=serialize(ut);if(!ht)return;const[pt,Ct]=createCacheHelper(o,ht),[lt,ft,gt]=SWRGlobalState.get(o),St=lt[ht],It=()=>nt&&(delete gt[ht],St&&St[0])?St[0](MUTATE_EVENT).then(()=>pt().data):pt().data;if(a.length<3)return It();let vt=$,dt;const yt=getTimestamp();ft[ht]=[yt,0];const Rt=!isUndefined(rt),Pt=pt(),Dt=Pt.data,Ft=Pt._c,Kt=isUndefined(Ft)?Dt:Ft;if(Rt&&(rt=isFunction(rt)?rt(Kt):rt,Ct({data:rt,_c:Kt})),isFunction(vt))try{vt=vt(Kt)}catch(Zt){dt=Zt}if(vt&&isFunction(vt.then))if(vt=await vt.catch(Zt=>{dt=Zt}),yt!==ft[ht][0]){if(dt)throw dt;return vt}else dt&&Rt&&it(dt)&&(et=!0,vt=Kt,Ct({data:vt,_c:UNDEFINED}));et&&(dt||(isFunction(et)&&(vt=et(vt,Kt)),Ct({data:vt,_c:UNDEFINED}))),ft[ht][1]=getTimestamp();const qt=await It();if(Ct({_c:UNDEFINED}),dt){if(ot)throw dt;return}return et?qt:vt}}const revalidateAllKeys=(a,o)=>{for(const s in a)a[s][0]&&a[s][0](o)},initCache=(a,o)=>{if(!SWRGlobalState.has(a)){const s=mergeObjects(defaultConfigOptions,o),$={},j=internalMutate.bind(UNDEFINED,a);let _e=noop$3;const et={},tt=(it,ot)=>{const at=et[it]||[];return et[it]=at,at.push(ot),()=>at.splice(at.indexOf(ot),1)},rt=(it,ot,at)=>{a.set(it,ot);const ut=et[it];if(ut)for(const ht of ut)ht(ot,at)},nt=()=>{if(!SWRGlobalState.has(a)&&(SWRGlobalState.set(a,[$,{},{},{},j,rt,tt]),!IS_SERVER)){const it=s.initFocus(setTimeout.bind(UNDEFINED,revalidateAllKeys.bind(UNDEFINED,$,FOCUS_EVENT))),ot=s.initReconnect(setTimeout.bind(UNDEFINED,revalidateAllKeys.bind(UNDEFINED,$,RECONNECT_EVENT)));_e=()=>{it&&it(),ot&&ot(),SWRGlobalState.delete(a)}}};return nt(),[a,j,nt,_e]}return[a,SWRGlobalState.get(a)[4]]},onErrorRetry=(a,o,s,$,j)=>{const _e=s.errorRetryCount,et=j.retryCount,tt=~~((Math.random()+.5)*(1<<(et<8?et:8)))*s.errorRetryInterval;!isUndefined(_e)&&et>_e||setTimeout($,tt,j)},compare=(a,o)=>stableHash(a)==stableHash(o),[cache,mutate]=initCache(new Map),defaultConfig=mergeObjects({onLoadingSlow:noop$3,onSuccess:noop$3,onError:noop$3,onErrorRetry,onDiscarded:noop$3,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:slowConnection?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:slowConnection?5e3:3e3,compare,isPaused:()=>!1,cache,mutate,fallback:{}},preset),mergeConfigs=(a,o)=>{const s=mergeObjects(a,o);if(o){const{use:$,fallback:j}=a,{use:_e,fallback:et}=o;$&&_e&&(s.use=$.concat(_e)),j&&et&&(s.fallback=mergeObjects(j,et))}return s},SWRConfigContext=reactExports.createContext({}),enableDevtools=isWindowDefined&&window.__SWR_DEVTOOLS_USE__,use=enableDevtools?window.__SWR_DEVTOOLS_USE__:[],setupDevTools=()=>{enableDevtools&&(window.__SWR_DEVTOOLS_REACT__=React)},normalize=a=>isFunction(a[1])?[a[0],a[1],a[2]||{}]:[a[0],null,(a[1]===null?a[2]:a[1])||{}],useSWRConfig=()=>mergeObjects(defaultConfig,reactExports.useContext(SWRConfigContext)),middleware=a=>(o,s,$)=>a(o,s&&((..._e)=>{const[et]=serialize(o),[,,,tt]=SWRGlobalState.get(cache),rt=tt[et];return rt?(delete tt[et],rt):s(..._e)}),$),BUILT_IN_MIDDLEWARE=use.concat(middleware),withArgs=a=>function(...s){const $=useSWRConfig(),[j,_e,et]=normalize(s),tt=mergeConfigs($,et);let rt=a;const{use:nt}=tt,it=(nt||[]).concat(BUILT_IN_MIDDLEWARE);for(let ot=it.length;ot--;)rt=it[ot](rt);return rt(j,_e||tt.fetcher||null,tt)},subscribeCallback=(a,o,s)=>{const $=o[a]||(o[a]=[]);return $.push(s),()=>{const j=$.indexOf(s);j>=0&&($[j]=$[$.length-1],$.pop())}};setupDevTools();const WITH_DEDUPE={dedupe:!0},useSWRHandler=(a,o,s)=>{const{cache:$,compare:j,suspense:_e,fallbackData:et,revalidateOnMount:tt,revalidateIfStale:rt,refreshInterval:nt,refreshWhenHidden:it,refreshWhenOffline:ot,keepPreviousData:at}=s,[ut,ht,pt]=SWRGlobalState.get($),[Ct,lt]=serialize(a),ft=reactExports.useRef(!1),gt=reactExports.useRef(!1),St=reactExports.useRef(Ct),It=reactExports.useRef(o),vt=reactExports.useRef(s),dt=()=>vt.current,yt=()=>dt().isVisible()&&dt().isOnline(),[Rt,Pt,Dt,Ft]=createCacheHelper($,Ct),Kt=reactExports.useRef({}).current,qt=isUndefined(et)?s.fallback[Ct]:et,Zt=(Et,wt)=>{for(const Mt in Kt){const Nt=Mt;if(Nt==="data"){if(!j(Et[Nt],wt[Nt])&&(!isUndefined(Et[Nt])||!j(ar,wt[Nt])))return!1}else if(wt[Nt]!==Et[Nt])return!1}return!0},er=reactExports.useMemo(()=>{const Et=(()=>!Ct||!o?!1:isUndefined(tt)?dt().isPaused()||_e?!1:isUndefined(rt)?!0:rt:tt)(),wt=or=>{const fr=mergeObjects(or);return delete fr._k,Et?{isValidating:!0,isLoading:!0,...fr}:fr},Mt=Rt(),Nt=Ft(),Vt=wt(Mt),Qt=Mt===Nt?Vt:wt(Nt);let Wt=Vt;return[()=>{const or=wt(Rt());return Zt(or,Wt)?(Wt.data=or.data,Wt.isLoading=or.isLoading,Wt.isValidating=or.isValidating,Wt.error=or.error,Wt):(Wt=or,or)},()=>Qt]},[$,Ct]),rr=shimExports.useSyncExternalStore(reactExports.useCallback(Et=>Dt(Ct,(wt,Mt)=>{Zt(Mt,wt)||Et()}),[$,Ct]),er[0],er[1]),Ot=!ft.current,zt=ut[Ct]&&ut[Ct].length>0,jt=rr.data,Gt=isUndefined(jt)?qt:jt,Yt=rr.error,nr=reactExports.useRef(Gt),ar=at?isUndefined(jt)?nr.current:jt:Gt,ur=(()=>zt&&!isUndefined(Yt)?!1:Ot&&!isUndefined(tt)?tt:dt().isPaused()?!1:_e?isUndefined(Gt)?!1:rt:isUndefined(Gt)||rt)(),At=!!(Ct&&o&&Ot&&ur),xt=isUndefined(rr.isValidating)?At:rr.isValidating,Bt=isUndefined(rr.isLoading)?At:rr.isLoading,Lt=reactExports.useCallback(async Et=>{const wt=It.current;if(!Ct||!wt||gt.current||dt().isPaused())return!1;let Mt,Nt,Vt=!0;const Qt=Et||{},Wt=!pt[Ct]||!Qt.dedupe,or=()=>IS_REACT_LEGACY?!gt.current&&Ct===St.current&&ft.current:Ct===St.current,fr={isValidating:!1,isLoading:!1},cr=()=>{Pt(fr)},mr=()=>{const dr=pt[Ct];dr&&dr[1]===Nt&&delete pt[Ct]},hr={isValidating:!0};isUndefined(Rt().data)&&(hr.isLoading=!0);try{if(Wt&&(Pt(hr),s.loadingTimeout&&isUndefined(Rt().data)&&setTimeout(()=>{Vt&&or()&&dt().onLoadingSlow(Ct,s)},s.loadingTimeout),pt[Ct]=[wt(lt),getTimestamp()]),[Mt,Nt]=pt[Ct],Mt=await Mt,Wt&&setTimeout(mr,s.dedupingInterval),!pt[Ct]||pt[Ct][1]!==Nt)return Wt&&or()&&dt().onDiscarded(Ct),!1;fr.error=UNDEFINED;const dr=ht[Ct];if(!isUndefined(dr)&&(Nt<=dr[0]||Nt<=dr[1]||dr[1]===0))return cr(),Wt&&or()&&dt().onDiscarded(Ct),!1;const Ut=Rt().data;fr.data=j(Ut,Mt)?Ut:Mt,Wt&&or()&&dt().onSuccess(Mt,Ct,s)}catch(dr){mr();const Ut=dt(),{shouldRetryOnError:Ht}=Ut;Ut.isPaused()||(fr.error=dr,Wt&&or()&&(Ut.onError(dr,Ct,Ut),(Ht===!0||isFunction(Ht)&&Ht(dr))&&yt()&&Ut.onErrorRetry(dr,Ct,Ut,Jt=>{const mt=ut[Ct];mt&&mt[0]&&mt[0](constants.ERROR_REVALIDATE_EVENT,Jt)},{retryCount:(Qt.retryCount||0)+1,dedupe:!0})))}return Vt=!1,cr(),!0},[Ct,$]),Xt=reactExports.useCallback((...Et)=>internalMutate($,St.current,...Et),[]);if(useIsomorphicLayoutEffect(()=>{It.current=o,vt.current=s,isUndefined(jt)||(nr.current=jt)}),useIsomorphicLayoutEffect(()=>{if(!Ct)return;const Et=Lt.bind(UNDEFINED,WITH_DEDUPE);let wt=0;const Nt=subscribeCallback(Ct,ut,(Vt,Qt={})=>{if(Vt==constants.FOCUS_EVENT){const Wt=Date.now();dt().revalidateOnFocus&&Wt>wt&&yt()&&(wt=Wt+dt().focusThrottleInterval,Et())}else if(Vt==constants.RECONNECT_EVENT)dt().revalidateOnReconnect&&yt()&&Et();else{if(Vt==constants.MUTATE_EVENT)return Lt();if(Vt==constants.ERROR_REVALIDATE_EVENT)return Lt(Qt)}});return gt.current=!1,St.current=Ct,ft.current=!0,Pt({_k:lt}),ur&&(isUndefined(Gt)||IS_SERVER?Et():rAF(Et)),()=>{gt.current=!0,Nt()}},[Ct]),useIsomorphicLayoutEffect(()=>{let Et;function wt(){const Nt=isFunction(nt)?nt(Rt().data):nt;Nt&&Et!==-1&&(Et=setTimeout(Mt,Nt))}function Mt(){!Rt().error&&(it||dt().isVisible())&&(ot||dt().isOnline())?Lt(WITH_DEDUPE).then(wt):wt()}return wt(),()=>{Et&&(clearTimeout(Et),Et=-1)}},[nt,it,ot,Ct]),reactExports.useDebugValue(ar),_e&&isUndefined(Gt)&&Ct)throw!IS_REACT_LEGACY&&IS_SERVER?new Error("Fallback data is required when using suspense in SSR."):(It.current=o,vt.current=s,gt.current=!1,isUndefined(Yt)?Lt(WITH_DEDUPE):Yt);return{mutate:Xt,get data(){return Kt.data=!0,ar},get error(){return Kt.error=!0,Yt},get isValidating(){return Kt.isValidating=!0,xt},get isLoading(){return Kt.isLoading=!0,Bt}}},useSWR=withArgs(useSWRHandler),NavBar=({accounts:a,handleLogout:o})=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Box$1,{sx:{flexGrow:1},children:jsxRuntimeExports.jsx(AppBar$1,{position:"static",elevation:0,sx:{color:"#000",backgroundColor:"#fff",boxShadow:"0px 4px 4px -2px rgba(0, 0, 0, 0.1)"},children:jsxRuntimeExports.jsxs(Toolbar$1,{children:[jsxRuntimeExports.jsx("img",{src:"./logo.png",style:{height:"3rem",marginRight:"1rem"}}),jsxRuntimeExports.jsx(Typography$1,{variant:"h6",component:"div",sx:{flexGrow:1},children:"OMP"}),a.length!==0&&jsxRuntimeExports.jsx(Button$1,{color:"inherit",onClick:()=>o(),children:"sign out"})]})})})});var Folder={},interopRequireDefault={exports:{}};(function(a){function o(s){return s&&s.__esModule?s:{default:s}}a.exports=o,a.exports.__esModule=!0,a.exports.default=a.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,createSvgIcon={};const require$$0=getAugmentedNamespace(utils);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=require$$0}(createSvgIcon)),createSvgIcon}var _interopRequireDefault$9=interopRequireDefaultExports;Object.defineProperty(Folder,"__esModule",{value:!0});var default_1$9=Folder.default=void 0,_createSvgIcon$9=_interopRequireDefault$9(requireCreateSvgIcon()),_jsxRuntime$9=jsxRuntimeExports,_default$9=(0,_createSvgIcon$9.default)((0,_jsxRuntime$9.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");default_1$9=Folder.default=_default$9;var MusicNote={},_interopRequireDefault$8=interopRequireDefaultExports;Object.defineProperty(MusicNote,"__esModule",{value:!0});var default_1$8=MusicNote.default=void 0,_createSvgIcon$8=_interopRequireDefault$8(requireCreateSvgIcon()),_jsxRuntime$8=jsxRuntimeExports,_default$8=(0,_createSvgIcon$8.default)((0,_jsxRuntime$8.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"}),"MusicNote");default_1$8=MusicNote.default=_default$8;var Movie={},_interopRequireDefault$7=interopRequireDefaultExports;Object.defineProperty(Movie,"__esModule",{value:!0});var default_1$7=Movie.default=void 0,_createSvgIcon$7=_interopRequireDefault$7(requireCreateSvgIcon()),_jsxRuntime$7=jsxRuntimeExports,_default$7=(0,_createSvgIcon$7.default)((0,_jsxRuntime$7.jsx)("path",{d:"m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"}),"Movie");default_1$7=Movie.default=_default$7;const createStoreImpl=a=>{let o;const s=new Set,$=(rt,nt)=>{const it=typeof rt=="function"?rt(o):rt;if(!Object.is(it,o)){const ot=o;o=nt??typeof it!="object"?it:Object.assign({},o,it),s.forEach(at=>at(o,ot))}},j=()=>o,tt={setState:$,getState:j,subscribe:rt=>(s.add(rt),()=>s.delete(rt)),destroy:()=>{({VITE_REDIRECTURI:"https://omp.msfasr.com",VITE_CLIENT_ID:"fac38cdd-7395-4845-b4bc-25dacfb9d720",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}};return o=a($,j,tt),tt},createStore=a=>a?createStoreImpl(a):createStoreImpl;var withSelector={exports:{}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=reactExports,n=shimExports;function p(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var q=typeof Object.is=="function"?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(a,o,s,$,j){var _e=t(null);if(_e.current===null){var et={hasValue:!1,value:null};_e.current=et}else et=_e.current;_e=v(function(){function rt(ut){if(!nt){if(nt=!0,it=ut,ut=$(ut),j!==void 0&&et.hasValue){var ht=et.value;if(j(ht,ut))return ot=ht}return ot=ut}if(ht=ot,q(it,ut))return ht;var pt=$(ut);return j!==void 0&&j(ht,pt)?ht:(it=ut,ot=pt)}var nt=!1,it,ot,at=s===void 0?null:s;return[function(){return rt(o())},at===null?void 0:function(){return rt(at())}]},[o,s,$,j]);var tt=r(a,_e[0],_e[1]);return u(function(){et.hasValue=!0,et.value=tt},[tt]),w(tt),tt};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;function useStore(a,o=a.getState,s){const $=useSyncExternalStoreWithSelector(a.subscribe,a.getState,a.getServerState||a.getState,o,s);return reactExports.useDebugValue($),$}const createImpl=a=>{({VITE_REDIRECTURI:"https://omp.msfasr.com",VITE_CLIENT_ID:"fac38cdd-7395-4845-b4bc-25dacfb9d720",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&typeof a!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const o=typeof a=="function"?createStore(a):a,s=($,j)=>useStore(o,$,j);return Object.assign(s,o),s},create=a=>a?createImpl(a):createImpl,usePlayListStore=create(a=>({type:"audio",playList:null,index:0,total:0,updateType:o=>a(()=>({type:o})),updatePlayList:o=>a(()=>({playList:o})),updateIndex:o=>a(()=>({index:o})),updateTotal:o=>a(()=>({total:o}))})),ListView=({data:a,error:o,isLoading:s,folderTree:$,setFolderTree:j})=>{const[_e,et,tt]=usePlayListStore(at=>[at.updateType,at.updatePlayList,at.updateIndex]),rt=at=>{j($.slice(0,at+1))};console.log("Get folder data");const nt=(at,ut)=>{if(console.log("点击的项目",at,ut),a[at].folder&&j([...$,ut]),a[at].file&&ut!==null){const ht=a.map(pt=>({title:pt.name,size:pt.size,path:$.join("/")==="Home"?"/":$.slice(1).join("/").concat(`/${pt.name}`)}));if(it(ut)){const pt=ht.filter(lt=>it(lt.title)),Ct=pt.findIndex(lt=>lt.title===ut);_e("audio"),tt(Ct),et(pt)}if(ot(ut)){const pt=ht.filter(lt=>ot(lt.title)),Ct=pt.findIndex(lt=>lt.title===ut);_e("video"),tt(Ct),et(pt)}}},it=at=>/.(wav|mp3|aac|ogg|flac|m4a|opus)$/i.test(at),ot=at=>/.(mp4|mkv|avi|mov|rmvb|webm|flv)$/i.test(at);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs$1,{separator:"›",sx:{m:"0.5rem"},children:$.map((at,ut)=>jsxRuntimeExports.jsx(Button$1,{color:"inherit",onClick:()=>rt(ut),children:at},ut))}),s||!a||o?jsxRuntimeExports.jsx("div",{style:{textAlign:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})}):jsxRuntimeExports.jsx(Grid$2,{container:!0,spacing:1,children:a.map((at,ut)=>jsxRuntimeExports.jsx(Grid$2,{item:!0,lg:4,md:6,sm:12,xs:12,onClick:()=>nt(ut,at.name),children:jsxRuntimeExports.jsx(ListItem$1,{disablePadding:!0,children:jsxRuntimeExports.jsxs(ListItemButton$1,{children:[jsxRuntimeExports.jsxs(ListItemIcon$1,{children:[at.folder&&jsxRuntimeExports.jsx(default_1$9,{}),it(at.name)&&jsxRuntimeExports.jsx(default_1$8,{}),ot(at.name)&&jsxRuntimeExports.jsx(default_1$7,{})]}),jsxRuntimeExports.jsxs(Grid$2,{container:!0,spacing:2,sx:{overflow:"hidden"},wrap:"nowrap",children:[jsxRuntimeExports.jsx(Grid$2,{item:!0,xs:!0,zeroMinWidth:!0,children:jsxRuntimeExports.jsx(ListItemText$1,{children:jsxRuntimeExports.jsx(Typography$1,{noWrap:!0,children:at.name})})}),jsxRuntimeExports.jsx(Grid$2,{item:!0,children:jsxRuntimeExports.jsx(ListItemText$1,{children:jsxRuntimeExports.jsx(Typography$1,{variant:"body2",color:"text.secondary",children:at.size/1024<1024?`${(at.size/1024).toFixed(2)} KB`:at.size/1024/1024<1024?`${(at.size/1024/1024).toFixed(2)} MB`:`${(at.size/1024/1024/1024).toFixed(2)} GB`})})})]})]})})},ut))})]})};var lib$3={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;typeof global$1.setTimeout=="function"&&(cachedSetTimeout=setTimeout);typeof global$1.clearTimeout=="function"&&(cachedClearTimeout=clearTimeout);function runTimeout(a){if(cachedSetTimeout===setTimeout)return setTimeout(a,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(a,0);try{return cachedSetTimeout(a,0)}catch{try{return cachedSetTimeout.call(null,a,0)}catch{return cachedSetTimeout.call(this,a,0)}}}function runClearTimeout(a){if(cachedClearTimeout===clearTimeout)return clearTimeout(a);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(a);try{return cachedClearTimeout(a)}catch{try{return cachedClearTimeout.call(null,a)}catch{return cachedClearTimeout.call(this,a)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var a=runTimeout(cleanUpNextTick);draining=!0;for(var o=queue.length;o;){for(currentQueue=queue,queue=[];++queueIndex<o;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,o=queue.length}currentQueue=null,draining=!1,runClearTimeout(a)}}function nextTick(a){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];queue.push(new Item(a,o)),queue.length===1&&!draining&&runTimeout(drainQueue)}function Item(a,o){this.fun=a,this.array=o}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser$2=!0,env={},argv=[],version="",versions={},release={},config$1={};function noop$2(){}var on=noop$2,addListener=noop$2,once$3=noop$2,off=noop$2,removeListener=noop$2,removeAllListeners=noop$2,emit=noop$2;function binding(a){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(a){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance$1=global$1.performance||{},performanceNow=performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow||function(){return new Date().getTime()};function hrtime(a){var o=performanceNow.call(performance$1)*.001,s=Math.floor(o),$=Math.floor(o%1*1e9);return a&&(s=s-a[0],$=$-a[1],$<0&&(s--,$+=1e9)),[s,$]}var startTime=new Date;function uptime(){var a=new Date,o=a-startTime;return o/1e3}var browser$1$1={nextTick,title,browser:browser$2,env,argv,version,versions,on,addListener,once:once$3,off,removeListener,removeAllListeners,emit,binding,cwd,chdir,umask,hrtime,platform,release,config:config$1,uptime},browser$1={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var a=1e3,o=a*60,s=o*60,$=s*24,j=$*7,_e=$*365.25;ms=function(it,ot){ot=ot||{};var at=typeof it;if(at==="string"&&it.length>0)return et(it);if(at==="number"&&isFinite(it))return ot.long?rt(it):tt(it);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(it))};function et(it){if(it=String(it),!(it.length>100)){var ot=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(it);if(ot){var at=parseFloat(ot[1]),ut=(ot[2]||"ms").toLowerCase();switch(ut){case"years":case"year":case"yrs":case"yr":case"y":return at*_e;case"weeks":case"week":case"w":return at*j;case"days":case"day":case"d":return at*$;case"hours":case"hour":case"hrs":case"hr":case"h":return at*s;case"minutes":case"minute":case"mins":case"min":case"m":return at*o;case"seconds":case"second":case"secs":case"sec":case"s":return at*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return at;default:return}}}}function tt(it){var ot=Math.abs(it);return ot>=$?Math.round(it/$)+"d":ot>=s?Math.round(it/s)+"h":ot>=o?Math.round(it/o)+"m":ot>=a?Math.round(it/a)+"s":it+"ms"}function rt(it){var ot=Math.abs(it);return ot>=$?nt(it,ot,$,"day"):ot>=s?nt(it,ot,s,"hour"):ot>=o?nt(it,ot,o,"minute"):ot>=a?nt(it,ot,a,"second"):it+" ms"}function nt(it,ot,at,ut){var ht=ot>=at*1.5;return Math.round(it/at)+" "+ut+(ht?"s":"")}return ms}function setup(a){s.debug=s,s.default=s,s.coerce=rt,s.disable=_e,s.enable=j,s.enabled=et,s.humanize=requireMs(),s.destroy=nt,Object.keys(a).forEach(it=>{s[it]=a[it]}),s.names=[],s.skips=[],s.formatters={};function o(it){let ot=0;for(let at=0;at<it.length;at++)ot=(ot<<5)-ot+it.charCodeAt(at),ot|=0;return s.colors[Math.abs(ot)%s.colors.length]}s.selectColor=o;function s(it){let ot,at=null,ut,ht;function pt(...Ct){if(!pt.enabled)return;const lt=pt,ft=Number(new Date),gt=ft-(ot||ft);lt.diff=gt,lt.prev=ot,lt.curr=ft,ot=ft,Ct[0]=s.coerce(Ct[0]),typeof Ct[0]!="string"&&Ct.unshift("%O");let St=0;Ct[0]=Ct[0].replace(/%([a-zA-Z%])/g,(vt,dt)=>{if(vt==="%%")return"%";St++;const yt=s.formatters[dt];if(typeof yt=="function"){const Rt=Ct[St];vt=yt.call(lt,Rt),Ct.splice(St,1),St--}return vt}),s.formatArgs.call(lt,Ct),(lt.log||s.log).apply(lt,Ct)}return pt.namespace=it,pt.useColors=s.useColors(),pt.color=s.selectColor(it),pt.extend=$,pt.destroy=s.destroy,Object.defineProperty(pt,"enabled",{enumerable:!0,configurable:!1,get:()=>at!==null?at:(ut!==s.namespaces&&(ut=s.namespaces,ht=s.enabled(it)),ht),set:Ct=>{at=Ct}}),typeof s.init=="function"&&s.init(pt),pt}function $(it,ot){const at=s(this.namespace+(typeof ot>"u"?":":ot)+it);return at.log=this.log,at}function j(it){s.save(it),s.namespaces=it,s.names=[],s.skips=[];let ot;const at=(typeof it=="string"?it:"").split(/[\s,]+/),ut=at.length;for(ot=0;ot<ut;ot++)at[ot]&&(it=at[ot].replace(/\*/g,".*?"),it[0]==="-"?s.skips.push(new RegExp("^"+it.slice(1)+"$")):s.names.push(new RegExp("^"+it+"$")))}function _e(){const it=[...s.names.map(tt),...s.skips.map(tt).map(ot=>"-"+ot)].join(",");return s.enable(""),it}function et(it){if(it[it.length-1]==="*")return!0;let ot,at;for(ot=0,at=s.skips.length;ot<at;ot++)if(s.skips[ot].test(it))return!1;for(ot=0,at=s.names.length;ot<at;ot++)if(s.names[ot].test(it))return!0;return!1}function tt(it){return it.toString().substring(2,it.toString().length-2).replace(/\.\*\?$/,"*")}function rt(it){return it instanceof Error?it.stack||it.message:it}function nt(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}var common$3=setup;(function(a,o){o.formatArgs=$,o.save=j,o.load=_e,o.useColors=s,o.storage=et(),o.destroy=(()=>{let rt=!1;return()=>{rt||(rt=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function $(rt){if(rt[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+rt[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const nt="color: "+this.color;rt.splice(1,0,nt,"color: inherit");let it=0,ot=0;rt[0].replace(/%[a-zA-Z%]/g,at=>{at!=="%%"&&(it++,at==="%c"&&(ot=it))}),rt.splice(ot,0,nt)}o.log=console.debug||console.log||(()=>{});function j(rt){try{rt?o.storage.setItem("debug",rt):o.storage.removeItem("debug")}catch{}}function _e(){let rt;try{rt=o.storage.getItem("debug")}catch{}return!rt&&typeof browser$1$1<"u"&&"env"in browser$1$1&&(rt={}.DEBUG),rt}function et(){try{return localStorage}catch{}}a.exports=common$3(o);const{formatters:tt}=a.exports;tt.j=function(rt){try{return JSON.stringify(rt)}catch(nt){return"[UnexpectedJSONParseError]: "+nt.message}}})(browser$1,browser$1.exports);var browserExports=browser$1.exports,core$2={},core$1={},ReadStreamTokenizer$1={},lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)lookup$1[o]=a[o],revLookup$1[a.charCodeAt(o)]=o;revLookup$1["-".charCodeAt(0)]=62,revLookup$1["_".charCodeAt(0)]=63}function toByteArray$1(a){inited||init();var o,s,$,j,_e,et,tt=a.length;if(tt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");_e=a[tt-2]==="="?2:a[tt-1]==="="?1:0,et=new Arr$1(tt*3/4-_e),$=_e>0?tt-4:tt;var rt=0;for(o=0,s=0;o<$;o+=4,s+=3)j=revLookup$1[a.charCodeAt(o)]<<18|revLookup$1[a.charCodeAt(o+1)]<<12|revLookup$1[a.charCodeAt(o+2)]<<6|revLookup$1[a.charCodeAt(o+3)],et[rt++]=j>>16&255,et[rt++]=j>>8&255,et[rt++]=j&255;return _e===2?(j=revLookup$1[a.charCodeAt(o)]<<2|revLookup$1[a.charCodeAt(o+1)]>>4,et[rt++]=j&255):_e===1&&(j=revLookup$1[a.charCodeAt(o)]<<10|revLookup$1[a.charCodeAt(o+1)]<<4|revLookup$1[a.charCodeAt(o+2)]>>2,et[rt++]=j>>8&255,et[rt++]=j&255),et}function tripletToBase64$1(a){return lookup$1[a>>18&63]+lookup$1[a>>12&63]+lookup$1[a>>6&63]+lookup$1[a&63]}function encodeChunk$1(a,o,s){for(var $,j=[],_e=o;_e<s;_e+=3)$=(a[_e]<<16)+(a[_e+1]<<8)+a[_e+2],j.push(tripletToBase64$1($));return j.join("")}function fromByteArray$1(a){inited||init();for(var o,s=a.length,$=s%3,j="",_e=[],et=16383,tt=0,rt=s-$;tt<rt;tt+=et)_e.push(encodeChunk$1(a,tt,tt+et>rt?rt:tt+et));return $===1?(o=a[s-1],j+=lookup$1[o>>2],j+=lookup$1[o<<4&63],j+="=="):$===2&&(o=(a[s-2]<<8)+a[s-1],j+=lookup$1[o>>10],j+=lookup$1[o>>4&63],j+=lookup$1[o<<2&63],j+="="),_e.push(j),_e.join("")}function read(a,o,s,$,j){var _e,et,tt=j*8-$-1,rt=(1<<tt)-1,nt=rt>>1,it=-7,ot=s?j-1:0,at=s?-1:1,ut=a[o+ot];for(ot+=at,_e=ut&(1<<-it)-1,ut>>=-it,it+=tt;it>0;_e=_e*256+a[o+ot],ot+=at,it-=8);for(et=_e&(1<<-it)-1,_e>>=-it,it+=$;it>0;et=et*256+a[o+ot],ot+=at,it-=8);if(_e===0)_e=1-nt;else{if(_e===rt)return et?NaN:(ut?-1:1)*(1/0);et=et+Math.pow(2,$),_e=_e-nt}return(ut?-1:1)*et*Math.pow(2,_e-$)}function write(a,o,s,$,j,_e){var et,tt,rt,nt=_e*8-j-1,it=(1<<nt)-1,ot=it>>1,at=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,ut=$?0:_e-1,ht=$?1:-1,pt=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(tt=isNaN(o)?1:0,et=it):(et=Math.floor(Math.log(o)/Math.LN2),o*(rt=Math.pow(2,-et))<1&&(et--,rt*=2),et+ot>=1?o+=at/rt:o+=at*Math.pow(2,1-ot),o*rt>=2&&(et++,rt/=2),et+ot>=it?(tt=0,et=it):et+ot>=1?(tt=(o*rt-1)*Math.pow(2,j),et=et+ot):(tt=o*Math.pow(2,ot-1)*Math.pow(2,j),et=0));j>=8;a[s+ut]=tt&255,ut+=ht,tt/=256,j-=8);for(et=et<<j|tt,nt+=j;nt>0;a[s+ut]=et&255,ut+=ht,et/=256,nt-=8);a[s+ut-ht]|=pt*128}var toString={}.toString,isArray=Array.isArray||function(a){return toString.call(a)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT!==void 0?global$1.TYPED_ARRAY_SUPPORT:!0;kMaxLength();function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(a,o){if(kMaxLength()<o)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(o),a.__proto__=Buffer.prototype):(a===null&&(a=new Buffer(o)),a.length=o),a}function Buffer(a,o,s){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(a,o,s);if(typeof a=="number"){if(typeof o=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,a)}return from(this,a,o,s)}Buffer.poolSize=8192;Buffer._augment=function(a){return a.__proto__=Buffer.prototype,a};function from(a,o,s,$){if(typeof o=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&o instanceof ArrayBuffer?fromArrayBuffer(a,o,s,$):typeof o=="string"?fromString(a,o,s):fromObject(a,o)}Buffer.from=function(a,o,s){return from(null,a,o,s)};Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer[Symbol.species]);function assertSize(a){if(typeof a!="number")throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function alloc(a,o,s,$){return assertSize(o),o<=0?createBuffer(a,o):s!==void 0?typeof $=="string"?createBuffer(a,o).fill(s,$):createBuffer(a,o).fill(s):createBuffer(a,o)}Buffer.alloc=function(a,o,s){return alloc(null,a,o,s)};function allocUnsafe(a,o){if(assertSize(o),a=createBuffer(a,o<0?0:checked(o)|0),!Buffer.TYPED_ARRAY_SUPPORT)for(var s=0;s<o;++s)a[s]=0;return a}Buffer.allocUnsafe=function(a){return allocUnsafe(null,a)};Buffer.allocUnsafeSlow=function(a){return allocUnsafe(null,a)};function fromString(a,o,s){if((typeof s!="string"||s==="")&&(s="utf8"),!Buffer.isEncoding(s))throw new TypeError('"encoding" must be a valid string encoding');var $=byteLength$1(o,s)|0;a=createBuffer(a,$);var j=a.write(o,s);return j!==$&&(a=a.slice(0,j)),a}function fromArrayLike(a,o){var s=o.length<0?0:checked(o.length)|0;a=createBuffer(a,s);for(var $=0;$<s;$+=1)a[$]=o[$]&255;return a}function fromArrayBuffer(a,o,s,$){if(o.byteLength,s<0||o.byteLength<s)throw new RangeError("'offset' is out of bounds");if(o.byteLength<s+($||0))throw new RangeError("'length' is out of bounds");return s===void 0&&$===void 0?o=new Uint8Array(o):$===void 0?o=new Uint8Array(o,s):o=new Uint8Array(o,s,$),Buffer.TYPED_ARRAY_SUPPORT?(a=o,a.__proto__=Buffer.prototype):a=fromArrayLike(a,o),a}function fromObject(a,o){if(internalIsBuffer(o)){var s=checked(o.length)|0;return a=createBuffer(a,s),a.length===0||o.copy(a,0,0,s),a}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||isnan(o.length)?createBuffer(a,0):fromArrayLike(a,o);if(o.type==="Buffer"&&isArray(o.data))return fromArrayLike(a,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(a){if(a>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return a|0}Buffer.isBuffer=isBuffer;function internalIsBuffer(a){return!!(a!=null&&a._isBuffer)}Buffer.compare=function(o,s){if(!internalIsBuffer(o)||!internalIsBuffer(s))throw new TypeError("Arguments must be Buffers");if(o===s)return 0;for(var $=o.length,j=s.length,_e=0,et=Math.min($,j);_e<et;++_e)if(o[_e]!==s[_e]){$=o[_e],j=s[_e];break}return $<j?-1:j<$?1:0};Buffer.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Buffer.concat=function(o,s){if(!isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return Buffer.alloc(0);var $;if(s===void 0)for(s=0,$=0;$<o.length;++$)s+=o[$].length;var j=Buffer.allocUnsafe(s),_e=0;for($=0;$<o.length;++$){var et=o[$];if(!internalIsBuffer(et))throw new TypeError('"list" argument must be an Array of Buffers');et.copy(j,_e),_e+=et.length}return j};function byteLength$1(a,o){if(internalIsBuffer(a))return a.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;typeof a!="string"&&(a=""+a);var s=a.length;if(s===0)return 0;for(var $=!1;;)switch(o){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":case void 0:return utf8ToBytes(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return base64ToBytes(a).length;default:if($)return utf8ToBytes(a).length;o=(""+o).toLowerCase(),$=!0}}Buffer.byteLength=byteLength$1;function slowToString(a,o,s){var $=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,o>>>=0,s<=o))return"";for(a||(a="utf8");;)switch(a){case"hex":return hexSlice(this,o,s);case"utf8":case"utf-8":return utf8Slice(this,o,s);case"ascii":return asciiSlice(this,o,s);case"latin1":case"binary":return latin1Slice(this,o,s);case"base64":return base64Slice(this,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,o,s);default:if($)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),$=!0}}Buffer.prototype._isBuffer=!0;function swap(a,o,s){var $=a[o];a[o]=a[s],a[s]=$}Buffer.prototype.swap16=function(){var o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var s=0;s<o;s+=2)swap(this,s,s+1);return this};Buffer.prototype.swap32=function(){var o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var s=0;s<o;s+=4)swap(this,s,s+3),swap(this,s+1,s+2);return this};Buffer.prototype.swap64=function(){var o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var s=0;s<o;s+=8)swap(this,s,s+7),swap(this,s+1,s+6),swap(this,s+2,s+5),swap(this,s+3,s+4);return this};Buffer.prototype.toString=function(){var o=this.length|0;return o===0?"":arguments.length===0?utf8Slice(this,0,o):slowToString.apply(this,arguments)};Buffer.prototype.equals=function(o){if(!internalIsBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:Buffer.compare(this,o)===0};Buffer.prototype.inspect=function(){var o="",s=INSPECT_MAX_BYTES;return this.length>0&&(o=this.toString("hex",0,s).match(/.{2}/g).join(" "),this.length>s&&(o+=" ... ")),"<Buffer "+o+">"};Buffer.prototype.compare=function(o,s,$,j,_e){if(!internalIsBuffer(o))throw new TypeError("Argument must be a Buffer");if(s===void 0&&(s=0),$===void 0&&($=o?o.length:0),j===void 0&&(j=0),_e===void 0&&(_e=this.length),s<0||$>o.length||j<0||_e>this.length)throw new RangeError("out of range index");if(j>=_e&&s>=$)return 0;if(j>=_e)return-1;if(s>=$)return 1;if(s>>>=0,$>>>=0,j>>>=0,_e>>>=0,this===o)return 0;for(var et=_e-j,tt=$-s,rt=Math.min(et,tt),nt=this.slice(j,_e),it=o.slice(s,$),ot=0;ot<rt;++ot)if(nt[ot]!==it[ot]){et=nt[ot],tt=it[ot];break}return et<tt?-1:tt<et?1:0};function bidirectionalIndexOf(a,o,s,$,j){if(a.length===0)return-1;if(typeof s=="string"?($=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,isNaN(s)&&(s=j?0:a.length-1),s<0&&(s=a.length+s),s>=a.length){if(j)return-1;s=a.length-1}else if(s<0)if(j)s=0;else return-1;if(typeof o=="string"&&(o=Buffer.from(o,$)),internalIsBuffer(o))return o.length===0?-1:arrayIndexOf(a,o,s,$,j);if(typeof o=="number")return o=o&255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(a,o,s):Uint8Array.prototype.lastIndexOf.call(a,o,s):arrayIndexOf(a,[o],s,$,j);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(a,o,s,$,j){var _e=1,et=a.length,tt=o.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(a.length<2||o.length<2)return-1;_e=2,et/=2,tt/=2,s/=2}function rt(ut,ht){return _e===1?ut[ht]:ut.readUInt16BE(ht*_e)}var nt;if(j){var it=-1;for(nt=s;nt<et;nt++)if(rt(a,nt)===rt(o,it===-1?0:nt-it)){if(it===-1&&(it=nt),nt-it+1===tt)return it*_e}else it!==-1&&(nt-=nt-it),it=-1}else for(s+tt>et&&(s=et-tt),nt=s;nt>=0;nt--){for(var ot=!0,at=0;at<tt;at++)if(rt(a,nt+at)!==rt(o,at)){ot=!1;break}if(ot)return nt}return-1}Buffer.prototype.includes=function(o,s,$){return this.indexOf(o,s,$)!==-1};Buffer.prototype.indexOf=function(o,s,$){return bidirectionalIndexOf(this,o,s,$,!0)};Buffer.prototype.lastIndexOf=function(o,s,$){return bidirectionalIndexOf(this,o,s,$,!1)};function hexWrite(a,o,s,$){s=Number(s)||0;var j=a.length-s;$?($=Number($),$>j&&($=j)):$=j;var _e=o.length;if(_e%2!==0)throw new TypeError("Invalid hex string");$>_e/2&&($=_e/2);for(var et=0;et<$;++et){var tt=parseInt(o.substr(et*2,2),16);if(isNaN(tt))return et;a[s+et]=tt}return et}function utf8Write(a,o,s,$){return blitBuffer(utf8ToBytes(o,a.length-s),a,s,$)}function asciiWrite(a,o,s,$){return blitBuffer(asciiToBytes(o),a,s,$)}function latin1Write(a,o,s,$){return asciiWrite(a,o,s,$)}function base64Write(a,o,s,$){return blitBuffer(base64ToBytes(o),a,s,$)}function ucs2Write(a,o,s,$){return blitBuffer(utf16leToBytes(o,a.length-s),a,s,$)}Buffer.prototype.write=function(o,s,$,j){if(s===void 0)j="utf8",$=this.length,s=0;else if($===void 0&&typeof s=="string")j=s,$=this.length,s=0;else if(isFinite(s))s=s|0,isFinite($)?($=$|0,j===void 0&&(j="utf8")):(j=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _e=this.length-s;if(($===void 0||$>_e)&&($=_e),o.length>0&&($<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");for(var et=!1;;)switch(j){case"hex":return hexWrite(this,o,s,$);case"utf8":case"utf-8":return utf8Write(this,o,s,$);case"ascii":return asciiWrite(this,o,s,$);case"latin1":case"binary":return latin1Write(this,o,s,$);case"base64":return base64Write(this,o,s,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,o,s,$);default:if(et)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),et=!0}};Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(a,o,s){return o===0&&s===a.length?fromByteArray$1(a):fromByteArray$1(a.slice(o,s))}function utf8Slice(a,o,s){s=Math.min(a.length,s);for(var $=[],j=o;j<s;){var _e=a[j],et=null,tt=_e>239?4:_e>223?3:_e>191?2:1;if(j+tt<=s){var rt,nt,it,ot;switch(tt){case 1:_e<128&&(et=_e);break;case 2:rt=a[j+1],(rt&192)===128&&(ot=(_e&31)<<6|rt&63,ot>127&&(et=ot));break;case 3:rt=a[j+1],nt=a[j+2],(rt&192)===128&&(nt&192)===128&&(ot=(_e&15)<<12|(rt&63)<<6|nt&63,ot>2047&&(ot<55296||ot>57343)&&(et=ot));break;case 4:rt=a[j+1],nt=a[j+2],it=a[j+3],(rt&192)===128&&(nt&192)===128&&(it&192)===128&&(ot=(_e&15)<<18|(rt&63)<<12|(nt&63)<<6|it&63,ot>65535&&ot<1114112&&(et=ot))}}et===null?(et=65533,tt=1):et>65535&&(et-=65536,$.push(et>>>10&1023|55296),et=56320|et&1023),$.push(et),j+=tt}return decodeCodePointsArray($)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(a){var o=a.length;if(o<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,a);for(var s="",$=0;$<o;)s+=String.fromCharCode.apply(String,a.slice($,$+=MAX_ARGUMENTS_LENGTH));return s}function asciiSlice(a,o,s){var $="";s=Math.min(a.length,s);for(var j=o;j<s;++j)$+=String.fromCharCode(a[j]&127);return $}function latin1Slice(a,o,s){var $="";s=Math.min(a.length,s);for(var j=o;j<s;++j)$+=String.fromCharCode(a[j]);return $}function hexSlice(a,o,s){var $=a.length;(!o||o<0)&&(o=0),(!s||s<0||s>$)&&(s=$);for(var j="",_e=o;_e<s;++_e)j+=toHex(a[_e]);return j}function utf16leSlice(a,o,s){for(var $=a.slice(o,s),j="",_e=0;_e<$.length;_e+=2)j+=String.fromCharCode($[_e]+$[_e+1]*256);return j}Buffer.prototype.slice=function(o,s){var $=this.length;o=~~o,s=s===void 0?$:~~s,o<0?(o+=$,o<0&&(o=0)):o>$&&(o=$),s<0?(s+=$,s<0&&(s=0)):s>$&&(s=$),s<o&&(s=o);var j;if(Buffer.TYPED_ARRAY_SUPPORT)j=this.subarray(o,s),j.__proto__=Buffer.prototype;else{var _e=s-o;j=new Buffer(_e,void 0);for(var et=0;et<_e;++et)j[et]=this[et+o]}return j};function checkOffset(a,o,s){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+o>s)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function(o,s,$){o=o|0,s=s|0,$||checkOffset(o,s,this.length);for(var j=this[o],_e=1,et=0;++et<s&&(_e*=256);)j+=this[o+et]*_e;return j};Buffer.prototype.readUIntBE=function(o,s,$){o=o|0,s=s|0,$||checkOffset(o,s,this.length);for(var j=this[o+--s],_e=1;s>0&&(_e*=256);)j+=this[o+--s]*_e;return j};Buffer.prototype.readUInt8=function(o,s){return s||checkOffset(o,1,this.length),this[o]};Buffer.prototype.readUInt16LE=function(o,s){return s||checkOffset(o,2,this.length),this[o]|this[o+1]<<8};Buffer.prototype.readUInt16BE=function(o,s){return s||checkOffset(o,2,this.length),this[o]<<8|this[o+1]};Buffer.prototype.readUInt32LE=function(o,s){return s||checkOffset(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216};Buffer.prototype.readUInt32BE=function(o,s){return s||checkOffset(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])};Buffer.prototype.readIntLE=function(o,s,$){o=o|0,s=s|0,$||checkOffset(o,s,this.length);for(var j=this[o],_e=1,et=0;++et<s&&(_e*=256);)j+=this[o+et]*_e;return _e*=128,j>=_e&&(j-=Math.pow(2,8*s)),j};Buffer.prototype.readIntBE=function(o,s,$){o=o|0,s=s|0,$||checkOffset(o,s,this.length);for(var j=s,_e=1,et=this[o+--j];j>0&&(_e*=256);)et+=this[o+--j]*_e;return _e*=128,et>=_e&&(et-=Math.pow(2,8*s)),et};Buffer.prototype.readInt8=function(o,s){return s||checkOffset(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]};Buffer.prototype.readInt16LE=function(o,s){s||checkOffset(o,2,this.length);var $=this[o]|this[o+1]<<8;return $&32768?$|4294901760:$};Buffer.prototype.readInt16BE=function(o,s){s||checkOffset(o,2,this.length);var $=this[o+1]|this[o]<<8;return $&32768?$|4294901760:$};Buffer.prototype.readInt32LE=function(o,s){return s||checkOffset(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24};Buffer.prototype.readInt32BE=function(o,s){return s||checkOffset(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]};Buffer.prototype.readFloatLE=function(o,s){return s||checkOffset(o,4,this.length),read(this,o,!0,23,4)};Buffer.prototype.readFloatBE=function(o,s){return s||checkOffset(o,4,this.length),read(this,o,!1,23,4)};Buffer.prototype.readDoubleLE=function(o,s){return s||checkOffset(o,8,this.length),read(this,o,!0,52,8)};Buffer.prototype.readDoubleBE=function(o,s){return s||checkOffset(o,8,this.length),read(this,o,!1,52,8)};function checkInt(a,o,s,$,j,_e){if(!internalIsBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>j||o<_e)throw new RangeError('"value" argument is out of bounds');if(s+$>a.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function(o,s,$,j){if(o=+o,s=s|0,$=$|0,!j){var _e=Math.pow(2,8*$)-1;checkInt(this,o,s,$,_e,0)}var et=1,tt=0;for(this[s]=o&255;++tt<$&&(et*=256);)this[s+tt]=o/et&255;return s+$};Buffer.prototype.writeUIntBE=function(o,s,$,j){if(o=+o,s=s|0,$=$|0,!j){var _e=Math.pow(2,8*$)-1;checkInt(this,o,s,$,_e,0)}var et=$-1,tt=1;for(this[s+et]=o&255;--et>=0&&(tt*=256);)this[s+et]=o/tt&255;return s+$};Buffer.prototype.writeUInt8=function(o,s,$){return o=+o,s=s|0,$||checkInt(this,o,s,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),this[s]=o&255,s+1};function objectWriteUInt16(a,o,s,$){o<0&&(o=65535+o+1);for(var j=0,_e=Math.min(a.length-s,2);j<_e;++j)a[s+j]=(o&255<<8*($?j:1-j))>>>($?j:1-j)*8}Buffer.prototype.writeUInt16LE=function(o,s,$){return o=+o,s=s|0,$||checkInt(this,o,s,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[s]=o&255,this[s+1]=o>>>8):objectWriteUInt16(this,o,s,!0),s+2};Buffer.prototype.writeUInt16BE=function(o,s,$){return o=+o,s=s|0,$||checkInt(this,o,s,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[s]=o>>>8,this[s+1]=o&255):objectWriteUInt16(this,o,s,!1),s+2};function objectWriteUInt32(a,o,s,$){o<0&&(o=4294967295+o+1);for(var j=0,_e=Math.min(a.length-s,4);j<_e;++j)a[s+j]=o>>>($?j:3-j)*8&255}Buffer.prototype.writeUInt32LE=function(o,s,$){return o=+o,s=s|0,$||checkInt(this,o,s,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[s+3]=o>>>24,this[s+2]=o>>>16,this[s+1]=o>>>8,this[s]=o&255):objectWriteUInt32(this,o,s,!0),s+4};Buffer.prototype.writeUInt32BE=function(o,s,$){return o=+o,s=s|0,$||checkInt(this,o,s,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[s]=o>>>24,this[s+1]=o>>>16,this[s+2]=o>>>8,this[s+3]=o&255):objectWriteUInt32(this,o,s,!1),s+4};Buffer.prototype.writeIntLE=function(o,s,$,j){if(o=+o,s=s|0,!j){var _e=Math.pow(2,8*$-1);checkInt(this,o,s,$,_e-1,-_e)}var et=0,tt=1,rt=0;for(this[s]=o&255;++et<$&&(tt*=256);)o<0&&rt===0&&this[s+et-1]!==0&&(rt=1),this[s+et]=(o/tt>>0)-rt&255;return s+$};Buffer.prototype.writeIntBE=function(o,s,$,j){if(o=+o,s=s|0,!j){var _e=Math.pow(2,8*$-1);checkInt(this,o,s,$,_e-1,-_e)}var et=$-1,tt=1,rt=0;for(this[s+et]=o&255;--et>=0&&(tt*=256);)o<0&&rt===0&&this[s+et+1]!==0&&(rt=1),this[s+et]=(o/tt>>0)-rt&255;return s+$};Buffer.prototype.writeInt8=function(o,s,$){return o=+o,s=s|0,$||checkInt(this,o,s,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),o<0&&(o=255+o+1),this[s]=o&255,s+1};Buffer.prototype.writeInt16LE=function(o,s,$){return o=+o,s=s|0,$||checkInt(this,o,s,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[s]=o&255,this[s+1]=o>>>8):objectWriteUInt16(this,o,s,!0),s+2};Buffer.prototype.writeInt16BE=function(o,s,$){return o=+o,s=s|0,$||checkInt(this,o,s,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[s]=o>>>8,this[s+1]=o&255):objectWriteUInt16(this,o,s,!1),s+2};Buffer.prototype.writeInt32LE=function(o,s,$){return o=+o,s=s|0,$||checkInt(this,o,s,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[s]=o&255,this[s+1]=o>>>8,this[s+2]=o>>>16,this[s+3]=o>>>24):objectWriteUInt32(this,o,s,!0),s+4};Buffer.prototype.writeInt32BE=function(o,s,$){return o=+o,s=s|0,$||checkInt(this,o,s,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),Buffer.TYPED_ARRAY_SUPPORT?(this[s]=o>>>24,this[s+1]=o>>>16,this[s+2]=o>>>8,this[s+3]=o&255):objectWriteUInt32(this,o,s,!1),s+4};function checkIEEE754(a,o,s,$,j,_e){if(s+$>a.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function writeFloat(a,o,s,$,j){return j||checkIEEE754(a,o,s,4),write(a,o,s,$,23,4),s+4}Buffer.prototype.writeFloatLE=function(o,s,$){return writeFloat(this,o,s,!0,$)};Buffer.prototype.writeFloatBE=function(o,s,$){return writeFloat(this,o,s,!1,$)};function writeDouble(a,o,s,$,j){return j||checkIEEE754(a,o,s,8),write(a,o,s,$,52,8),s+8}Buffer.prototype.writeDoubleLE=function(o,s,$){return writeDouble(this,o,s,!0,$)};Buffer.prototype.writeDoubleBE=function(o,s,$){return writeDouble(this,o,s,!1,$)};Buffer.prototype.copy=function(o,s,$,j){if($||($=0),!j&&j!==0&&(j=this.length),s>=o.length&&(s=o.length),s||(s=0),j>0&&j<$&&(j=$),j===$||o.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("sourceStart out of bounds");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),o.length-s<j-$&&(j=o.length-s+$);var _e=j-$,et;if(this===o&&$<s&&s<j)for(et=_e-1;et>=0;--et)o[et+s]=this[et+$];else if(_e<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(et=0;et<_e;++et)o[et+s]=this[et+$];else Uint8Array.prototype.set.call(o,this.subarray($,$+_e),s);return _e};Buffer.prototype.fill=function(o,s,$,j){if(typeof o=="string"){if(typeof s=="string"?(j=s,s=0,$=this.length):typeof $=="string"&&(j=$,$=this.length),o.length===1){var _e=o.charCodeAt(0);_e<256&&(o=_e)}if(j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!Buffer.isEncoding(j))throw new TypeError("Unknown encoding: "+j)}else typeof o=="number"&&(o=o&255);if(s<0||this.length<s||this.length<$)throw new RangeError("Out of range index");if($<=s)return this;s=s>>>0,$=$===void 0?this.length:$>>>0,o||(o=0);var et;if(typeof o=="number")for(et=s;et<$;++et)this[et]=o;else{var tt=internalIsBuffer(o)?o:utf8ToBytes(new Buffer(o,j).toString()),rt=tt.length;for(et=0;et<$-s;++et)this[et+s]=tt[et%rt]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(a){if(a=stringtrim(a).replace(INVALID_BASE64_RE,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function stringtrim(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function toHex(a){return a<16?"0"+a.toString(16):a.toString(16)}function utf8ToBytes(a,o){o=o||1/0;for(var s,$=a.length,j=null,_e=[],et=0;et<$;++et){if(s=a.charCodeAt(et),s>55295&&s<57344){if(!j){if(s>56319){(o-=3)>-1&&_e.push(239,191,189);continue}else if(et+1===$){(o-=3)>-1&&_e.push(239,191,189);continue}j=s;continue}if(s<56320){(o-=3)>-1&&_e.push(239,191,189),j=s;continue}s=(j-55296<<10|s-56320)+65536}else j&&(o-=3)>-1&&_e.push(239,191,189);if(j=null,s<128){if((o-=1)<0)break;_e.push(s)}else if(s<2048){if((o-=2)<0)break;_e.push(s>>6|192,s&63|128)}else if(s<65536){if((o-=3)<0)break;_e.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((o-=4)<0)break;_e.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return _e}function asciiToBytes(a){for(var o=[],s=0;s<a.length;++s)o.push(a.charCodeAt(s)&255);return o}function utf16leToBytes(a,o){for(var s,$,j,_e=[],et=0;et<a.length&&!((o-=2)<0);++et)s=a.charCodeAt(et),$=s>>8,j=s%256,_e.push(j),_e.push($);return _e}function base64ToBytes(a){return toByteArray$1(base64clean(a))}function blitBuffer(a,o,s,$){for(var j=0;j<$&&!(j+s>=o.length||j>=a.length);++j)o[j+s]=a[j];return j}function isnan(a){return a!==a}function isBuffer(a){return a!=null&&(!!a._isBuffer||isFastBuffer(a)||isSlowBuffer(a))}function isFastBuffer(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function isSlowBuffer(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&isFastBuffer(a.slice(0,0))}var AbstractTokenizer$1={},lib$2={},EndOfFileStream={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.EndOfStreamError=a.defaultMessages=void 0,a.defaultMessages="End-Of-Stream";class o extends Error{constructor(){super(a.defaultMessages)}}a.EndOfStreamError=o})(EndOfFileStream);var StreamReader$1={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0});Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((o,s)=>{this.reject=s,this.resolve=o})}}Deferred$1.Deferred=Deferred;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.StreamReader=a.EndOfStreamError=void 0;const o=EndOfFileStream,s=Deferred$1;var $=EndOfFileStream;Object.defineProperty(a,"EndOfStreamError",{enumerable:!0,get:function(){return $.EndOfStreamError}});const j=1*1024*1024;class _e{constructor(tt){if(this.s=tt,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!tt.read||!tt.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new o.EndOfStreamError)),this.s.once("error",rt=>this.reject(rt)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(tt,rt,nt){const it=await this.read(tt,rt,nt);return this.peekQueue.push(tt.subarray(rt,rt+it)),it}async read(tt,rt,nt){if(nt===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new o.EndOfStreamError;let it=nt,ot=0;for(;this.peekQueue.length>0&&it>0;){const at=this.peekQueue.pop();if(!at)throw new Error("peekData should be defined");const ut=Math.min(at.length,it);tt.set(at.subarray(0,ut),rt+ot),ot+=ut,it-=ut,ut<at.length&&this.peekQueue.push(at.subarray(ut))}for(;it>0&&!this.endOfStream;){const at=Math.min(it,j),ut=await this.readFromStream(tt,rt+ot,at);if(ot+=ut,ut<at)break;it-=ut}return ot}async readFromStream(tt,rt,nt){const it=this.s.read(nt);if(it)return tt.set(it,rt),it.length;{const ot={buffer:tt,offset:rt,length:nt,deferred:new s.Deferred};return this.deferred=ot.deferred,this.s.once("readable",()=>{this.readDeferred(ot)}),ot.deferred.promise}}readDeferred(tt){const rt=this.s.read(tt.length);rt?(tt.buffer.set(rt,tt.offset),tt.deferred.resolve(rt.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(tt)})}reject(tt){this.endOfStream=!0,this.deferred&&(this.deferred.reject(tt),this.deferred=null)}}a.StreamReader=_e})(StreamReader$1);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.StreamReader=a.EndOfStreamError=void 0;var o=EndOfFileStream;Object.defineProperty(a,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}});var s=StreamReader$1;Object.defineProperty(a,"StreamReader",{enumerable:!0,get:function(){return s.StreamReader}})})(lib$2);Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0});AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib$2;class AbstractTokenizer{constructor(o){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=o||{}}async readToken(o,s=this.position){const $=Buffer.alloc(o.len);if(await this.readBuffer($,{position:s})<o.len)throw new peek_readable_1$2.EndOfStreamError;return o.get($,0)}async peekToken(o,s=this.position){const $=Buffer.alloc(o.len);if(await this.peekBuffer($,{position:s})<o.len)throw new peek_readable_1$2.EndOfStreamError;return o.get($,0)}async readNumber(o){if(await this.readBuffer(this.numBuffer,{length:o.len})<o.len)throw new peek_readable_1$2.EndOfStreamError;return o.get(this.numBuffer,0)}async peekNumber(o){if(await this.peekBuffer(this.numBuffer,{length:o.len})<o.len)throw new peek_readable_1$2.EndOfStreamError;return o.get(this.numBuffer,0)}async ignore(o){if(this.fileInfo.size!==void 0){const s=this.fileInfo.size-this.position;if(o>s)return this.position+=s,s}return this.position+=o,o}async close(){}normalizeOptions(o,s){if(s&&s.position!==void 0&&s.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return s?{mayBeLess:s.mayBeLess===!0,offset:s.offset?s.offset:0,length:s.length?s.length:o.length-(s.offset?s.offset:0),position:s.position?s.position:this.position}:{mayBeLess:!1,offset:0,length:o.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer;Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0});ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib$2,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(o,s){super(s),this.streamReader=new peek_readable_1$1.StreamReader(o)}async getFileInfo(){return this.fileInfo}async readBuffer(o,s){const $=this.normalizeOptions(o,s),j=$.position-this.position;if(j>0)return await this.ignore(j),this.readBuffer(o,s);if(j<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if($.length===0)return 0;const _e=await this.streamReader.read(o,$.offset,$.length);if(this.position+=_e,(!s||!s.mayBeLess)&&_e<$.length)throw new peek_readable_1$1.EndOfStreamError;return _e}async peekBuffer(o,s){const $=this.normalizeOptions(o,s);let j=0;if($.position){const _e=$.position-this.position;if(_e>0){const et=new Uint8Array($.length+_e);return j=await this.peekBuffer(et,{mayBeLess:$.mayBeLess}),o.set(et.subarray(_e),$.offset),j-_e}else if(_e<0)throw new Error("Cannot peek from a negative offset in a stream")}if($.length>0){try{j=await this.streamReader.peek(o,$.offset,$.length)}catch(_e){if(s&&s.mayBeLess&&_e instanceof peek_readable_1$1.EndOfStreamError)return 0;throw _e}if(!$.mayBeLess&&j<$.length)throw new peek_readable_1$1.EndOfStreamError}return j}async ignore(o){const s=Math.min(maxBufferSize,o),$=new Uint8Array(s);let j=0;for(;j<o;){const _e=o-j,et=await this.readBuffer($,{length:Math.min(s,_e)});if(et<0)return et;j+=et}return j}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0});BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib$2,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(o,s){super(s),this.uint8Array=o,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:o.length}async readBuffer(o,s){if(s&&s.position){if(s.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=s.position}const $=await this.peekBuffer(o,s);return this.position+=$,$}async peekBuffer(o,s){const $=this.normalizeOptions(o,s),j=Math.min(this.uint8Array.length-$.position,$.length);if(!$.mayBeLess&&j<$.length)throw new peek_readable_1.EndOfStreamError;return o.set(this.uint8Array.subarray($.position,$.position+j),$.offset),j}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fromBuffer=a.fromStream=a.EndOfStreamError=void 0;const o=ReadStreamTokenizer$1,s=BufferTokenizer$1;var $=lib$2;Object.defineProperty(a,"EndOfStreamError",{enumerable:!0,get:function(){return $.EndOfStreamError}});function j(et,tt){return tt=tt||{},new o.ReadStreamTokenizer(et,tt)}a.fromStream=j;function _e(et,tt){return new s.BufferTokenizer(et,tt)}a.fromBuffer=_e})(core$1);var ParserFactory$1={},lib$1={},ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(a,o,s,$,j){var _e,et,tt=j*8-$-1,rt=(1<<tt)-1,nt=rt>>1,it=-7,ot=s?j-1:0,at=s?-1:1,ut=a[o+ot];for(ot+=at,_e=ut&(1<<-it)-1,ut>>=-it,it+=tt;it>0;_e=_e*256+a[o+ot],ot+=at,it-=8);for(et=_e&(1<<-it)-1,_e>>=-it,it+=$;it>0;et=et*256+a[o+ot],ot+=at,it-=8);if(_e===0)_e=1-nt;else{if(_e===rt)return et?NaN:(ut?-1:1)*(1/0);et=et+Math.pow(2,$),_e=_e-nt}return(ut?-1:1)*et*Math.pow(2,_e-$)};ieee754.write=function(a,o,s,$,j,_e){var et,tt,rt,nt=_e*8-j-1,it=(1<<nt)-1,ot=it>>1,at=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,ut=$?0:_e-1,ht=$?1:-1,pt=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(tt=isNaN(o)?1:0,et=it):(et=Math.floor(Math.log(o)/Math.LN2),o*(rt=Math.pow(2,-et))<1&&(et--,rt*=2),et+ot>=1?o+=at/rt:o+=at*Math.pow(2,1-ot),o*rt>=2&&(et++,rt/=2),et+ot>=it?(tt=0,et=it):et+ot>=1?(tt=(o*rt-1)*Math.pow(2,j),et=et+ot):(tt=o*Math.pow(2,ot-1)*Math.pow(2,j),et=0));j>=8;a[s+ut]=tt&255,ut+=ht,tt/=256,j-=8);for(et=et<<j|tt,nt+=j;nt>0;a[s+ut]=et&255,ut+=ht,et/=256,nt-=8);a[s+ut-ht]|=pt*128};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.AnsiStringType=a.StringType=a.BufferType=a.Uint8ArrayType=a.IgnoreType=a.Float80_LE=a.Float80_BE=a.Float64_LE=a.Float64_BE=a.Float32_LE=a.Float32_BE=a.Float16_LE=a.Float16_BE=a.INT64_BE=a.UINT64_BE=a.INT64_LE=a.UINT64_LE=a.INT32_LE=a.INT32_BE=a.INT24_BE=a.INT24_LE=a.INT16_LE=a.INT16_BE=a.INT8=a.UINT32_BE=a.UINT32_LE=a.UINT24_BE=a.UINT24_LE=a.UINT16_BE=a.UINT16_LE=a.UINT8=void 0;const o=ieee754;function s(rt){return new DataView(rt.buffer,rt.byteOffset)}a.UINT8={len:1,get(rt,nt){return s(rt).getUint8(nt)},put(rt,nt,it){return s(rt).setUint8(nt,it),nt+1}},a.UINT16_LE={len:2,get(rt,nt){return s(rt).getUint16(nt,!0)},put(rt,nt,it){return s(rt).setUint16(nt,it,!0),nt+2}},a.UINT16_BE={len:2,get(rt,nt){return s(rt).getUint16(nt)},put(rt,nt,it){return s(rt).setUint16(nt,it),nt+2}},a.UINT24_LE={len:3,get(rt,nt){const it=s(rt);return it.getUint8(nt)+(it.getUint16(nt+1,!0)<<8)},put(rt,nt,it){const ot=s(rt);return ot.setUint8(nt,it&255),ot.setUint16(nt+1,it>>8,!0),nt+3}},a.UINT24_BE={len:3,get(rt,nt){const it=s(rt);return(it.getUint16(nt)<<8)+it.getUint8(nt+2)},put(rt,nt,it){const ot=s(rt);return ot.setUint16(nt,it>>8),ot.setUint8(nt+2,it&255),nt+3}},a.UINT32_LE={len:4,get(rt,nt){return s(rt).getUint32(nt,!0)},put(rt,nt,it){return s(rt).setUint32(nt,it,!0),nt+4}},a.UINT32_BE={len:4,get(rt,nt){return s(rt).getUint32(nt)},put(rt,nt,it){return s(rt).setUint32(nt,it),nt+4}},a.INT8={len:1,get(rt,nt){return s(rt).getInt8(nt)},put(rt,nt,it){return s(rt).setInt8(nt,it),nt+1}},a.INT16_BE={len:2,get(rt,nt){return s(rt).getInt16(nt)},put(rt,nt,it){return s(rt).setInt16(nt,it),nt+2}},a.INT16_LE={len:2,get(rt,nt){return s(rt).getInt16(nt,!0)},put(rt,nt,it){return s(rt).setInt16(nt,it,!0),nt+2}},a.INT24_LE={len:3,get(rt,nt){const it=a.UINT24_LE.get(rt,nt);return it>8388607?it-16777216:it},put(rt,nt,it){const ot=s(rt);return ot.setUint8(nt,it&255),ot.setUint16(nt+1,it>>8,!0),nt+3}},a.INT24_BE={len:3,get(rt,nt){const it=a.UINT24_BE.get(rt,nt);return it>8388607?it-16777216:it},put(rt,nt,it){const ot=s(rt);return ot.setUint16(nt,it>>8),ot.setUint8(nt+2,it&255),nt+3}},a.INT32_BE={len:4,get(rt,nt){return s(rt).getInt32(nt)},put(rt,nt,it){return s(rt).setInt32(nt,it),nt+4}},a.INT32_LE={len:4,get(rt,nt){return s(rt).getInt32(nt,!0)},put(rt,nt,it){return s(rt).setInt32(nt,it,!0),nt+4}},a.UINT64_LE={len:8,get(rt,nt){return s(rt).getBigUint64(nt,!0)},put(rt,nt,it){return s(rt).setBigUint64(nt,it,!0),nt+8}},a.INT64_LE={len:8,get(rt,nt){return s(rt).getBigInt64(nt,!0)},put(rt,nt,it){return s(rt).setBigInt64(nt,it,!0),nt+8}},a.UINT64_BE={len:8,get(rt,nt){return s(rt).getBigUint64(nt)},put(rt,nt,it){return s(rt).setBigUint64(nt,it),nt+8}},a.INT64_BE={len:8,get(rt,nt){return s(rt).getBigInt64(nt)},put(rt,nt,it){return s(rt).setBigInt64(nt,it),nt+8}},a.Float16_BE={len:2,get(rt,nt){return o.read(rt,nt,!1,10,this.len)},put(rt,nt,it){return o.write(rt,it,nt,!1,10,this.len),nt+this.len}},a.Float16_LE={len:2,get(rt,nt){return o.read(rt,nt,!0,10,this.len)},put(rt,nt,it){return o.write(rt,it,nt,!0,10,this.len),nt+this.len}},a.Float32_BE={len:4,get(rt,nt){return s(rt).getFloat32(nt)},put(rt,nt,it){return s(rt).setFloat32(nt,it),nt+4}},a.Float32_LE={len:4,get(rt,nt){return s(rt).getFloat32(nt,!0)},put(rt,nt,it){return s(rt).setFloat32(nt,it,!0),nt+4}},a.Float64_BE={len:8,get(rt,nt){return s(rt).getFloat64(nt)},put(rt,nt,it){return s(rt).setFloat64(nt,it),nt+8}},a.Float64_LE={len:8,get(rt,nt){return s(rt).getFloat64(nt,!0)},put(rt,nt,it){return s(rt).setFloat64(nt,it,!0),nt+8}},a.Float80_BE={len:10,get(rt,nt){return o.read(rt,nt,!1,63,this.len)},put(rt,nt,it){return o.write(rt,it,nt,!1,63,this.len),nt+this.len}},a.Float80_LE={len:10,get(rt,nt){return o.read(rt,nt,!0,63,this.len)},put(rt,nt,it){return o.write(rt,it,nt,!0,63,this.len),nt+this.len}};class ${constructor(nt){this.len=nt}get(nt,it){}}a.IgnoreType=$;class j{constructor(nt){this.len=nt}get(nt,it){return nt.subarray(it,it+this.len)}}a.Uint8ArrayType=j;class _e{constructor(nt){this.len=nt}get(nt,it){return Buffer.from(nt.subarray(it,it+this.len))}}a.BufferType=_e;class et{constructor(nt,it){this.len=nt,this.encoding=it}get(nt,it){return Buffer.from(nt).toString(this.encoding,it,it+this.len)}}a.StringType=et;class tt{constructor(nt){this.len=nt}static decode(nt,it,ot){let at="";for(let ut=it;ut<ot;++ut)at+=tt.codePointToString(tt.singleByteDecoder(nt[ut]));return at}static inRange(nt,it,ot){return it<=nt&&nt<=ot}static codePointToString(nt){return nt<=65535?String.fromCharCode(nt):(nt-=65536,String.fromCharCode((nt>>10)+55296,(nt&1023)+56320))}static singleByteDecoder(nt){if(tt.inRange(nt,0,127))return nt;const it=tt.windows1252[nt-128];if(it===null)throw Error("invaliding encoding");return it}get(nt,it=0){return tt.decode(nt,it,it+this.len)}}a.AnsiStringType=tt,tt.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var util$b={};util$b.stringToBytes=a=>[...a].map(o=>o.charCodeAt(0));util$b.tarHeaderChecksumMatches=(a,o=0)=>{const s=parseInt(a.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(s))return!1;let $=8*32;for(let j=o;j<o+148;j++)$+=a[j];for(let j=o+156;j<o+512;j++)$+=a[j];return s===$};util$b.uint32SyncSafeToken={get:(a,o)=>a[o+3]&127|a[o+2]<<7|a[o+1]<<14|a[o]<<21,len:4};var supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token$s=lib$1,strtok3$5=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util$b,supported=supported$1,minimumBytes=4100;async function fromStream(a){const o=await strtok3$5.fromStream(a);try{return await fromTokenizer(o)}finally{await o.close()}}async function fromBuffer(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer||Buffer.isBuffer(a)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof a}\``);const o=a instanceof Buffer?a:Buffer.from(a);if(!(o&&o.length>1))return;const s=strtok3$5.fromBuffer(o);return fromTokenizer(s)}function _check(a,o,s){s={offset:0,...s};for(const[$,j]of o.entries())if(s.mask){if(j!==(s.mask[$]&a[$+s.offset]))return!1}else if(j!==a[$+s.offset])return!1;return!0}async function fromTokenizer(a){try{return _fromTokenizer(a)}catch(o){if(!(o instanceof strtok3$5.EndOfStreamError))throw o}}async function _fromTokenizer(a){let o=Buffer.alloc(minimumBytes);const s=12,$=(_e,et)=>_check(o,_e,et),j=(_e,et)=>$(stringToBytes(_e),et);if(a.fileInfo.size||(a.fileInfo.size=Number.MAX_SAFE_INTEGER),await a.peekBuffer(o,{length:s,mayBeLess:!0}),$([66,77]))return{ext:"bmp",mime:"image/bmp"};if($([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if($([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if($([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if($([37,33]))return await a.peekBuffer(o,{length:24,mayBeLess:!0}),j("PS-Adobe-",{offset:2})&&j(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if($([31,160])||$([31,157]))return{ext:"Z",mime:"application/x-compress"};if($([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if($([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if($([31,139,8]))return{ext:"gz",mime:"application/gzip"};if($([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(j("ID3")){await a.ignore(6);const _e=await a.readToken(uint32SyncSafeToken);return a.position+_e>a.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await a.ignore(_e),fromTokenizer(a))}if(j("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((o[0]===67||o[0]===70)&&$([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if($([71,73,70]))return{ext:"gif",mime:"image/gif"};if(j("FLIF"))return{ext:"flif",mime:"image/flif"};if(j("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(j("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(j("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(j("FORM"))return{ext:"aif",mime:"audio/aiff"};if(j("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if($([80,75,3,4])){try{for(;a.position+30<a.fileInfo.size;){await a.readBuffer(o,{length:30});const _e={compressedSize:o.readUInt32LE(18),uncompressedSize:o.readUInt32LE(22),filenameLength:o.readUInt16LE(26),extraFieldLength:o.readUInt16LE(28)};if(_e.filename=await a.readToken(new Token$s.StringType(_e.filenameLength,"utf-8")),await a.ignore(_e.extraFieldLength),_e.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(_e.filename.endsWith(".rels")||_e.filename.endsWith(".xml"))switch(_e.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(_e.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(_e.filename.startsWith("3D/")&&_e.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(_e.filename==="mimetype"&&_e.compressedSize===_e.uncompressedSize)switch(await a.readToken(new Token$s.StringType(_e.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(_e.compressedSize===0){let et=-1;for(;et<0&&a.position<a.fileInfo.size;)await a.peekBuffer(o,{mayBeLess:!0}),et=o.indexOf("504B0304",0,"hex"),await a.ignore(et>=0?et:o.length)}else await a.ignore(_e.compressedSize)}}catch(_e){if(!(_e instanceof strtok3$5.EndOfStreamError))throw _e}return{ext:"zip",mime:"application/zip"}}if(j("OggS")){await a.ignore(28);const _e=Buffer.alloc(8);return await a.readBuffer(_e),_check(_e,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(_e,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(_e,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(_e,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(_e,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(_e,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if($([80,75])&&(o[2]===3||o[2]===5||o[2]===7)&&(o[3]===4||o[3]===6||o[3]===8))return{ext:"zip",mime:"application/zip"};if(j("ftyp",{offset:4})&&o[8]&96){const _e=o.toString("binary",8,12).replace("\0"," ").trim();switch(_e){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return _e.startsWith("3g")?_e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(j("MThd"))return{ext:"mid",mime:"audio/midi"};if(j("wOFF")&&($([0,1,0,0],{offset:4})||j("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(j("wOF2")&&($([0,1,0,0],{offset:4})||j("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if($([212,195,178,161])||$([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(j("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(j("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(j("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if($([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(j("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(j("%PDF")){await a.ignore(1350);const _e=10*1024*1024,et=Buffer.alloc(Math.min(_e,a.fileInfo.size));return await a.readBuffer(et,{mayBeLess:!0}),et.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if($([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if($([73,73,42,0]))return j("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:$([28,0,254,0],{offset:8})||$([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:$([8,0,0,0],{offset:4})&&($([45,0,254,0],{offset:8})||$([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(o=Buffer.alloc(24),await a.peekBuffer(o),($([16,251,134,1],{offset:4})||$([8,0,0,0],{offset:4}))&&$([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if($([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(j("MAC "))return{ext:"ape",mime:"audio/ape"};if($([26,69,223,163])){async function _e(){const it=await a.peekNumber(Token$s.UINT8);let ot=128,at=0;for(;!(it&ot)&&ot!==0;)++at,ot>>=1;const ut=Buffer.alloc(at+1);return await a.readBuffer(ut),ut}async function et(){const it=await _e(),ot=await _e();ot[0]^=128>>ot.length-1;const at=Math.min(6,ot.length);return{id:it.readUIntBE(0,it.length),len:ot.readUIntBE(ot.length-at,at)}}async function tt(it,ot){for(;ot>0;){const at=await et();if(at.id===17026)return a.readToken(new Token$s.StringType(at.len,"utf-8"));await a.ignore(at.len),--ot}}const rt=await et();switch(await tt(1,rt.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if($([82,73,70,70])){if($([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if($([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if($([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(j("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if($([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(j("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(j("MSCF")||j("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if($([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if($([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if($([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if($([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(j("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(j("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if($([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(j("IMPM"))return{ext:"it",mime:"audio/x-it"};if(j("-lh0-",{offset:2})||j("-lh1-",{offset:2})||j("-lh2-",{offset:2})||j("-lh3-",{offset:2})||j("-lh4-",{offset:2})||j("-lh5-",{offset:2})||j("-lh6-",{offset:2})||j("-lh7-",{offset:2})||j("-lzs-",{offset:2})||j("-lz4-",{offset:2})||j("-lz5-",{offset:2})||j("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if($([0,0,1,186])){if($([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if($([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(j("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if($([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(j("<?xml "))return{ext:"xml",mime:"application/xml"};if($([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if($([82,97,114,33,26,7])&&(o[6]===0||o[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(j("solid "))return{ext:"stl",mime:"model/stl"};if(j("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(j("!<arch>"))return await a.ignore(8),await a.readToken(new Token$s.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if($([137,80,78,71,13,10,26,10])){await a.ignore(8);async function _e(){return{length:await a.readToken(Token$s.INT32_BE),type:await a.readToken(new Token$s.StringType(4,"binary"))}}do{const et=await _e();if(et.length<0)return;switch(et.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await a.ignore(et.length+4)}}while(a.position+8<a.fileInfo.size);return{ext:"png",mime:"image/png"}}if($([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if($([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if($([102,114,101,101],{offset:4})||$([109,100,97,116],{offset:4})||$([109,111,111,118],{offset:4})||$([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if($([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(j("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if($([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if($([48,38,178,117,142,102,207,17,166,217])){async function _e(){const et=Buffer.alloc(16);return await a.readBuffer(et),{id:et,size:Number(await a.readToken(Token$s.UINT64_LE))}}for(await a.ignore(30);a.position+24<a.fileInfo.size;){const et=await _e();let tt=et.size-24;if(_check(et.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const rt=Buffer.alloc(16);if(tt-=await a.readBuffer(rt),_check(rt,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(rt,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await a.ignore(tt)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if($([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if(($([126,16,4])||$([126,24,4]))&&$([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if($([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if($([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await a.ignore(20),await a.readToken(new Token$s.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if($([255,10])||$([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if($([0,0,1,186])||$([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if($([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if($([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if($([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if($([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await a.peekBuffer(o,{length:Math.min(256,a.fileInfo.size),mayBeLess:!0}),j("BEGIN:")){if(j("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(j("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(j("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(j("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(j("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if($([4,0,0,0])&&o.length>=16){const _e=o.readUInt32LE(12);if(_e>12&&o.length>=_e+16)try{const et=o.slice(16,_e+16).toString();if(JSON.parse(et).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if($([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(j("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if($([71],{offset:4})&&($([71],{offset:192})||$([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if($([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if($([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if($([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if($([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if($([76,80],{offset:34})&&($([0,0,1],{offset:8})||$([1,0,2],{offset:8})||$([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if($([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await a.peekBuffer(o,{length:Math.min(512,a.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(o))return{ext:"tar",mime:"application/x-tar"};if($([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(j("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(o.length>=2&&$([255,224],{offset:0,mask:[255,224]})){if($([16],{offset:1,mask:[22]}))return $([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if($([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if($([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if($([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const a=new stream.PassThrough;let o;stream.pipeline?o=stream.pipeline(readableStream,a,()=>{}):o=readableStream.pipe(a);const s=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const $=await fromBuffer(s);a.fileType=$}catch($){reject($)}resolve(o)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}});Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}});var core=fileType,contentType={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var PARAM_REGEXP=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,TEXT_REGEXP=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,TOKEN_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,QESC_REGEXP=/\\([\u000b\u0020-\u00ff])/g,QUOTE_REGEXP=/([\\"])/g,TYPE_REGEXP$1=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;contentType.format=format$1;contentType.parse=parse$2;function format$1(a){if(!a||typeof a!="object")throw new TypeError("argument obj is required");var o=a.parameters,s=a.type;if(!s||!TYPE_REGEXP$1.test(s))throw new TypeError("invalid type");var $=s;if(o&&typeof o=="object")for(var j,_e=Object.keys(o).sort(),et=0;et<_e.length;et++){if(j=_e[et],!TOKEN_REGEXP.test(j))throw new TypeError("invalid parameter name");$+="; "+j+"="+qstring(o[j])}return $}function parse$2(a){if(!a)throw new TypeError("argument string is required");var o=typeof a=="object"?getcontenttype(a):a;if(typeof o!="string")throw new TypeError("argument string is required to be a string");var s=o.indexOf(";"),$=s!==-1?o.slice(0,s).trim():o.trim();if(!TYPE_REGEXP$1.test($))throw new TypeError("invalid media type");var j=new ContentType$1($.toLowerCase());if(s!==-1){var _e,et,tt;for(PARAM_REGEXP.lastIndex=s;et=PARAM_REGEXP.exec(o);){if(et.index!==s)throw new TypeError("invalid parameter format");s+=et[0].length,_e=et[1].toLowerCase(),tt=et[2],tt.charCodeAt(0)===34&&(tt=tt.slice(1,-1),tt.indexOf("\\")!==-1&&(tt=tt.replace(QESC_REGEXP,"$1"))),j.parameters[_e]=tt}if(s!==o.length)throw new TypeError("invalid parameter format")}return j}function getcontenttype(a){var o;if(typeof a.getHeader=="function"?o=a.getHeader("content-type"):typeof a.headers=="object"&&(o=a.headers&&a.headers["content-type"]),typeof o!="string")throw new TypeError("content-type header is missing from object");return o}function qstring(a){var o=String(a);if(TOKEN_REGEXP.test(o))return o;if(o.length>0&&!TEXT_REGEXP.test(o))throw new TypeError("invalid parameter value");return'"'+o.replace(QUOTE_REGEXP,"\\$1")+'"'}function ContentType$1(a){this.parameters=Object.create(null),this.type=a}var mediaTyper={};/*!
 * media-typer
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */var SUBTYPE_NAME_REGEXP=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,TYPE_NAME_REGEXP=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,TYPE_REGEXP=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;mediaTyper.format=format;mediaTyper.parse=parse$1;mediaTyper.test=test;function format(a){if(!a||typeof a!="object")throw new TypeError("argument obj is required");var o=a.subtype,s=a.suffix,$=a.type;if(!$||!TYPE_NAME_REGEXP.test($))throw new TypeError("invalid type");if(!o||!SUBTYPE_NAME_REGEXP.test(o))throw new TypeError("invalid subtype");var j=$+"/"+o;if(s){if(!TYPE_NAME_REGEXP.test(s))throw new TypeError("invalid suffix");j+="+"+s}return j}function test(a){if(!a)throw new TypeError("argument string is required");if(typeof a!="string")throw new TypeError("argument string is required to be a string");return TYPE_REGEXP.test(a.toLowerCase())}function parse$1(a){if(!a)throw new TypeError("argument string is required");if(typeof a!="string")throw new TypeError("argument string is required to be a string");var o=TYPE_REGEXP.exec(a.toLowerCase());if(!o)throw new TypeError("invalid media type");var s=o[1],$=o[2],j,_e=$.lastIndexOf("+");return _e!==-1&&(j=$.substr(_e+1),$=$.substr(0,_e)),new MediaType(s,$,j)}function MediaType(a,o,s){this.type=a,this.subtype=o,this.suffix=s}var MetadataCollector$1={},type={},types={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TrackType=a.TargetType=a.DataType=void 0,function(o){o[o.string=0]="string",o[o.uint=1]="uint",o[o.uid=2]="uid",o[o.bool=3]="bool",o[o.binary=4]="binary",o[o.float=5]="float"}(a.DataType||(a.DataType={})),function(o){o[o.shot=10]="shot",o[o.scene=20]="scene",o[o.track=30]="track",o[o.part=40]="part",o[o.album=50]="album",o[o.edition=60]="edition",o[o.collection=70]="collection"}(a.TargetType||(a.TargetType={})),function(o){o[o.video=1]="video",o[o.audio=2]="audio",o[o.complex=3]="complex",o[o.logo=4]="logo",o[o.subtitle=17]="subtitle",o[o.button=18]="button",o[o.control=32]="control"}(a.TrackType||(a.TrackType={}))})(types);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TrackType=void 0;var o=types;Object.defineProperty(a,"TrackType",{enumerable:!0,get:function(){return o.TrackType}})})(type);var GenericTagTypes={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isUnique=a.isSingleton=a.commonTags=void 0,a.commonTags={year:{multiple:!1},track:{multiple:!1},disk:{multiple:!1},title:{multiple:!1},artist:{multiple:!1},artists:{multiple:!0,unique:!0},albumartist:{multiple:!1},album:{multiple:!1},date:{multiple:!1},originaldate:{multiple:!1},originalyear:{multiple:!1},comment:{multiple:!0,unique:!1},genre:{multiple:!0,unique:!0},picture:{multiple:!0,unique:!0},composer:{multiple:!0,unique:!0},lyrics:{multiple:!0,unique:!1},albumsort:{multiple:!1,unique:!0},titlesort:{multiple:!1,unique:!0},work:{multiple:!1,unique:!0},artistsort:{multiple:!1,unique:!0},albumartistsort:{multiple:!1,unique:!0},composersort:{multiple:!1,unique:!0},lyricist:{multiple:!0,unique:!0},writer:{multiple:!0,unique:!0},conductor:{multiple:!0,unique:!0},remixer:{multiple:!0,unique:!0},arranger:{multiple:!0,unique:!0},engineer:{multiple:!0,unique:!0},producer:{multiple:!0,unique:!0},technician:{multiple:!0,unique:!0},djmixer:{multiple:!0,unique:!0},mixer:{multiple:!0,unique:!0},label:{multiple:!0,unique:!0},grouping:{multiple:!1},subtitle:{multiple:!0},discsubtitle:{multiple:!1},totaltracks:{multiple:!1},totaldiscs:{multiple:!1},compilation:{multiple:!1},rating:{multiple:!0},bpm:{multiple:!1},mood:{multiple:!1},media:{multiple:!1},catalognumber:{multiple:!0,unique:!0},tvShow:{multiple:!1},tvShowSort:{multiple:!1},tvSeason:{multiple:!1},tvEpisode:{multiple:!1},tvEpisodeId:{multiple:!1},tvNetwork:{multiple:!1},podcast:{multiple:!1},podcasturl:{multiple:!1},releasestatus:{multiple:!1},releasetype:{multiple:!0},releasecountry:{multiple:!1},script:{multiple:!1},language:{multiple:!1},copyright:{multiple:!1},license:{multiple:!1},encodedby:{multiple:!1},encodersettings:{multiple:!1},gapless:{multiple:!1},barcode:{multiple:!1},isrc:{multiple:!0},asin:{multiple:!1},musicbrainz_recordingid:{multiple:!1},musicbrainz_trackid:{multiple:!1},musicbrainz_albumid:{multiple:!1},musicbrainz_artistid:{multiple:!0},musicbrainz_albumartistid:{multiple:!0},musicbrainz_releasegroupid:{multiple:!1},musicbrainz_workid:{multiple:!1},musicbrainz_trmid:{multiple:!1},musicbrainz_discid:{multiple:!1},acoustid_id:{multiple:!1},acoustid_fingerprint:{multiple:!1},musicip_puid:{multiple:!1},musicip_fingerprint:{multiple:!1},website:{multiple:!1},"performer:instrument":{multiple:!0,unique:!0},averageLevel:{multiple:!1},peakLevel:{multiple:!1},notes:{multiple:!0,unique:!1},key:{multiple:!1},originalalbum:{multiple:!1},originalartist:{multiple:!1},discogs_artist_id:{multiple:!0,unique:!0},discogs_release_id:{multiple:!1},discogs_label_id:{multiple:!1},discogs_master_release_id:{multiple:!1},discogs_votes:{multiple:!1},discogs_rating:{multiple:!1},replaygain_track_peak:{multiple:!1},replaygain_track_gain:{multiple:!1},replaygain_album_peak:{multiple:!1},replaygain_album_gain:{multiple:!1},replaygain_track_minmax:{multiple:!1},replaygain_album_minmax:{multiple:!1},replaygain_undo:{multiple:!1},description:{multiple:!0},longDescription:{multiple:!1},category:{multiple:!0},hdVideo:{multiple:!1},keywords:{multiple:!0},movement:{multiple:!1},movementIndex:{multiple:!1},movementTotal:{multiple:!1},podcastId:{multiple:!1},showMovement:{multiple:!1},stik:{multiple:!1}};function o($){return a.commonTags.hasOwnProperty($)&&!a.commonTags[$].multiple}a.isSingleton=o;function s($){return!a.commonTags[$].multiple||a.commonTags[$].unique}a.isUnique=s})(GenericTagTypes);var CombinedTagMapper$1={},ID3v1TagMap={},GenericTagMapper={};Object.defineProperty(GenericTagMapper,"__esModule",{value:!0});GenericTagMapper.CommonTagMapper=void 0;class CommonTagMapper{static toIntOrNull(o){const s=parseInt(o,10);return isNaN(s)?null:s}static normalizeTrack(o){const s=o.toString().split("/");return{no:parseInt(s[0],10)||null,of:parseInt(s[1],10)||null}}constructor(o,s){this.tagTypes=o,this.tagMap=s}mapGenericTag(o,s){o={id:o.id,value:o.value},this.postMap(o,s);const $=this.getCommonName(o.id);return $?{id:$,value:o.value}:null}getCommonName(o){return this.tagMap[o]}postMap(o,s){}}CommonTagMapper.maxRatingScore=1;GenericTagMapper.CommonTagMapper=CommonTagMapper;Object.defineProperty(ID3v1TagMap,"__esModule",{value:!0});ID3v1TagMap.ID3v1TagMapper=void 0;const GenericTagMapper_1$6=GenericTagMapper,id3v1TagMap={title:"title",artist:"artist",album:"album",year:"year",comment:"comment",track:"track",genre:"genre"};class ID3v1TagMapper extends GenericTagMapper_1$6.CommonTagMapper{constructor(){super(["ID3v1"],id3v1TagMap)}}ID3v1TagMap.ID3v1TagMapper=ID3v1TagMapper;var ID3v24TagMapper$1={},CaseInsensitiveTagMap$1={};Object.defineProperty(CaseInsensitiveTagMap$1,"__esModule",{value:!0});CaseInsensitiveTagMap$1.CaseInsensitiveTagMap=void 0;const GenericTagMapper_1$5=GenericTagMapper;class CaseInsensitiveTagMap extends GenericTagMapper_1$5.CommonTagMapper{constructor(o,s){const $={};for(const j of Object.keys(s))$[j.toUpperCase()]=s[j];super(o,$)}getCommonName(o){return this.tagMap[o.toUpperCase()]}}CaseInsensitiveTagMap$1.CaseInsensitiveTagMap=CaseInsensitiveTagMap;var Util={};Object.defineProperty(Util,"__esModule",{value:!0});Util.toRatio=Util.dbToRatio=Util.ratioToDb=Util.a2hex=Util.isBitSet=Util.getBitAllignedNumber=Util.stripNulls=Util.decodeString=Util.trimRightNull=Util.findZero=Util.getBit=void 0;function getBit(a,o,s){return(a[o]&1<<s)!==0}Util.getBit=getBit;function findZero(a,o,s,$){let j=o;if($==="utf16le"){for(;a[j]!==0||a[j+1]!==0;){if(j>=s)return s;j+=2}return j}else{for(;a[j]!==0;){if(j>=s)return s;j++}return j}}Util.findZero=findZero;function trimRightNull(a){const o=a.indexOf("\0");return o===-1?a:a.substr(0,o)}Util.trimRightNull=trimRightNull;function swapBytes(a){const o=a.length;if(o&1)throw new Error("Buffer length must be even");for(let s=0;s<o;s+=2){const $=a[s];a[s]=a[s+1],a[s+1]=$}return a}function decodeString(a,o){if(a[0]===255&&a[1]===254)return decodeString(a.subarray(2),o);if(o==="utf16le"&&a[0]===254&&a[1]===255){if(a.length&1)throw new Error("Expected even number of octets for 16-bit unicode string");return decodeString(swapBytes(a),o)}return Buffer.from(a).toString(o)}Util.decodeString=decodeString;function stripNulls(a){return a=a.replace(/^\x00+/g,""),a=a.replace(/\x00+$/g,""),a}Util.stripNulls=stripNulls;function getBitAllignedNumber(a,o,s,$){const j=o+~~(s/8),_e=s%8;let et=a[j];et&=255>>_e;const tt=8-_e,rt=$-tt;return rt<0?et>>=8-_e-$:rt>0&&(et<<=rt,et|=getBitAllignedNumber(a,o,s+tt,rt)),et}Util.getBitAllignedNumber=getBitAllignedNumber;function isBitSet(a,o,s){return getBitAllignedNumber(a,o,s,1)===1}Util.isBitSet=isBitSet;function a2hex(a){const o=[];for(let s=0,$=a.length;s<$;s++){const j=Number(a.charCodeAt(s)).toString(16);o.push(j.length===1?"0"+j:j)}return o.join(" ")}Util.a2hex=a2hex;function ratioToDb(a){return 10*Math.log10(a)}Util.ratioToDb=ratioToDb;function dbToRatio(a){return Math.pow(10,a/10)}Util.dbToRatio=dbToRatio;function toRatio(a){const o=a.split(" ").map(s=>s.trim().toLowerCase());if(o.length>=1){const s=parseFloat(o[0]);return o.length===2&&o[1]==="db"?{dB:s,ratio:dbToRatio(s)}:{dB:ratioToDb(s),ratio:s}}}Util.toRatio=toRatio;Object.defineProperty(ID3v24TagMapper$1,"__esModule",{value:!0});ID3v24TagMapper$1.ID3v24TagMapper=void 0;const GenericTagMapper_1$4=GenericTagMapper,CaseInsensitiveTagMap_1$2=CaseInsensitiveTagMap$1,util$a=Util,id3v24TagMap={TIT2:"title",TPE1:"artist","TXXX:Artists":"artists",TPE2:"albumartist",TALB:"album",TDRV:"date",TORY:"originalyear",TPOS:"disk",TCON:"genre",APIC:"picture",TCOM:"composer","USLT:description":"lyrics",TSOA:"albumsort",TSOT:"titlesort",TOAL:"originalalbum",TSOP:"artistsort",TSO2:"albumartistsort",TSOC:"composersort",TEXT:"lyricist","TXXX:Writer":"writer",TPE3:"conductor",TPE4:"remixer","IPLS:arranger":"arranger","IPLS:engineer":"engineer","IPLS:producer":"producer","IPLS:DJ-mix":"djmixer","IPLS:mix":"mixer",TPUB:"label",TIT1:"grouping",TIT3:"subtitle",TRCK:"track",TCMP:"compilation",POPM:"rating",TBPM:"bpm",TMED:"media","TXXX:CATALOGNUMBER":"catalognumber","TXXX:MusicBrainz Album Status":"releasestatus","TXXX:MusicBrainz Album Type":"releasetype","TXXX:MusicBrainz Album Release Country":"releasecountry","TXXX:RELEASECOUNTRY":"releasecountry","TXXX:SCRIPT":"script",TLAN:"language",TCOP:"copyright",WCOP:"license",TENC:"encodedby",TSSE:"encodersettings","TXXX:BARCODE":"barcode","TXXX:ISRC":"isrc",TSRC:"isrc","TXXX:ASIN":"asin","TXXX:originalyear":"originalyear","UFID:http://musicbrainz.org":"musicbrainz_recordingid","TXXX:MusicBrainz Release Track Id":"musicbrainz_trackid","TXXX:MusicBrainz Album Id":"musicbrainz_albumid","TXXX:MusicBrainz Artist Id":"musicbrainz_artistid","TXXX:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","TXXX:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","TXXX:MusicBrainz Work Id":"musicbrainz_workid","TXXX:MusicBrainz TRM Id":"musicbrainz_trmid","TXXX:MusicBrainz Disc Id":"musicbrainz_discid","TXXX:ACOUSTID_ID":"acoustid_id","TXXX:Acoustid Id":"acoustid_id","TXXX:Acoustid Fingerprint":"acoustid_fingerprint","TXXX:MusicIP PUID":"musicip_puid","TXXX:MusicMagic Fingerprint":"musicip_fingerprint",WOAR:"website",TDRC:"date",TYER:"year",TDOR:"originaldate","TIPL:arranger":"arranger","TIPL:engineer":"engineer","TIPL:producer":"producer","TIPL:DJ-mix":"djmixer","TIPL:mix":"mixer",TMOO:"mood",SYLT:"lyrics",TSST:"discsubtitle",TKEY:"key",COMM:"comment",TOPE:"originalartist","PRIV:AverageLevel":"averageLevel","PRIV:PeakLevel":"peakLevel","TXXX:DISCOGS_ARTIST_ID":"discogs_artist_id","TXXX:DISCOGS_ARTISTS":"artists","TXXX:DISCOGS_ARTIST_NAME":"artists","TXXX:DISCOGS_ALBUM_ARTISTS":"albumartist","TXXX:DISCOGS_CATALOG":"catalognumber","TXXX:DISCOGS_COUNTRY":"releasecountry","TXXX:DISCOGS_DATE":"originaldate","TXXX:DISCOGS_LABEL":"label","TXXX:DISCOGS_LABEL_ID":"discogs_label_id","TXXX:DISCOGS_MASTER_RELEASE_ID":"discogs_master_release_id","TXXX:DISCOGS_RATING":"discogs_rating","TXXX:DISCOGS_RELEASED":"date","TXXX:DISCOGS_RELEASE_ID":"discogs_release_id","TXXX:DISCOGS_VOTES":"discogs_votes","TXXX:CATALOGID":"catalognumber","TXXX:STYLE":"genre","TXXX:REPLAYGAIN_TRACK_PEAK":"replaygain_track_peak","TXXX:REPLAYGAIN_TRACK_GAIN":"replaygain_track_gain","TXXX:REPLAYGAIN_ALBUM_PEAK":"replaygain_album_peak","TXXX:REPLAYGAIN_ALBUM_GAIN":"replaygain_album_gain","TXXX:MP3GAIN_MINMAX":"replaygain_track_minmax","TXXX:MP3GAIN_ALBUM_MINMAX":"replaygain_album_minmax","TXXX:MP3GAIN_UNDO":"replaygain_undo",MVNM:"movement",MVIN:"movementIndex",PCST:"podcast",TCAT:"category",TDES:"description",TDRL:"date",TGID:"podcastId",TKWD:"keywords",WFED:"podcasturl"};class ID3v24TagMapper extends CaseInsensitiveTagMap_1$2.CaseInsensitiveTagMap{static toRating(o){return{source:o.email,rating:o.rating>0?(o.rating-1)/254*GenericTagMapper_1$4.CommonTagMapper.maxRatingScore:void 0}}constructor(){super(["ID3v2.3","ID3v2.4"],id3v24TagMap)}postMap(o,s){switch(o.id){case"UFID":o.value.owner_identifier==="http://musicbrainz.org"&&(o.id+=":"+o.value.owner_identifier,o.value=util$a.decodeString(o.value.identifier,"latin1"));break;case"PRIV":switch(o.value.owner_identifier){case"AverageLevel":case"PeakValue":o.id+=":"+o.value.owner_identifier,o.value=o.value.data.length===4?o.value.data.readUInt32LE(0):null,o.value===null&&s.addWarning("Failed to parse PRIV:PeakValue");break;default:s.addWarning(`Unknown PRIV owner-identifier: ${o.value.owner_identifier}`)}break;case"COMM":o.value=o.value?o.value.text:null;break;case"POPM":o.value=ID3v24TagMapper.toRating(o.value);break}}}ID3v24TagMapper$1.ID3v24TagMapper=ID3v24TagMapper;var AsfTagMapper$1={};Object.defineProperty(AsfTagMapper$1,"__esModule",{value:!0});AsfTagMapper$1.AsfTagMapper=void 0;const GenericTagMapper_1$3=GenericTagMapper,asfTagMap={Title:"title",Author:"artist","WM/AlbumArtist":"albumartist","WM/AlbumTitle":"album","WM/Year":"date","WM/OriginalReleaseTime":"originaldate","WM/OriginalReleaseYear":"originalyear",Description:"comment","WM/TrackNumber":"track","WM/PartOfSet":"disk","WM/Genre":"genre","WM/Composer":"composer","WM/Lyrics":"lyrics","WM/AlbumSortOrder":"albumsort","WM/TitleSortOrder":"titlesort","WM/ArtistSortOrder":"artistsort","WM/AlbumArtistSortOrder":"albumartistsort","WM/ComposerSortOrder":"composersort","WM/Writer":"lyricist","WM/Conductor":"conductor","WM/ModifiedBy":"remixer","WM/Engineer":"engineer","WM/Producer":"producer","WM/DJMixer":"djmixer","WM/Mixer":"mixer","WM/Publisher":"label","WM/ContentGroupDescription":"grouping","WM/SubTitle":"subtitle","WM/SetSubTitle":"discsubtitle","WM/IsCompilation":"compilation","WM/SharedUserRating":"rating","WM/BeatsPerMinute":"bpm","WM/Mood":"mood","WM/Media":"media","WM/CatalogNo":"catalognumber","MusicBrainz/Album Status":"releasestatus","MusicBrainz/Album Type":"releasetype","MusicBrainz/Album Release Country":"releasecountry","WM/Script":"script","WM/Language":"language",Copyright:"copyright",LICENSE:"license","WM/EncodedBy":"encodedby","WM/EncodingSettings":"encodersettings","WM/Barcode":"barcode","WM/ISRC":"isrc","MusicBrainz/Track Id":"musicbrainz_recordingid","MusicBrainz/Release Track Id":"musicbrainz_trackid","MusicBrainz/Album Id":"musicbrainz_albumid","MusicBrainz/Artist Id":"musicbrainz_artistid","MusicBrainz/Album Artist Id":"musicbrainz_albumartistid","MusicBrainz/Release Group Id":"musicbrainz_releasegroupid","MusicBrainz/Work Id":"musicbrainz_workid","MusicBrainz/TRM Id":"musicbrainz_trmid","MusicBrainz/Disc Id":"musicbrainz_discid","Acoustid/Id":"acoustid_id","Acoustid/Fingerprint":"acoustid_fingerprint","MusicIP/PUID":"musicip_puid","WM/ARTISTS":"artists","WM/InitialKey":"key",ASIN:"asin","WM/Work":"work","WM/AuthorURL":"website","WM/Picture":"picture"};class AsfTagMapper extends GenericTagMapper_1$3.CommonTagMapper{static toRating(o){return{rating:parseFloat(o+1)/5}}constructor(){super(["asf"],asfTagMap)}postMap(o){switch(o.id){case"WM/SharedUserRating":const s=o.id.split(":");o.value=AsfTagMapper.toRating(o.value),o.id=s[0];break}}}AsfTagMapper$1.AsfTagMapper=AsfTagMapper;var ID3v22TagMapper={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ID3v22TagMapper=a.id3v22TagMap=void 0;const o=CaseInsensitiveTagMap$1;a.id3v22TagMap={TT2:"title",TP1:"artist",TP2:"albumartist",TAL:"album",TYE:"year",COM:"comment",TRK:"track",TPA:"disk",TCO:"genre",PIC:"picture",TCM:"composer",TOR:"originaldate",TOT:"originalalbum",TXT:"lyricist",TP3:"conductor",TPB:"label",TT1:"grouping",TT3:"subtitle",TLA:"language",TCR:"copyright",WCP:"license",TEN:"encodedby",TSS:"encodersettings",WAR:"website","COM:iTunPGAP":"gapless",PCS:"podcast",TCP:"compilation",TDR:"date",TS2:"albumartistsort",TSA:"albumsort",TSC:"composersort",TSP:"artistsort",TST:"titlesort",WFD:"podcasturl",TBP:"bpm"};class s extends o.CaseInsensitiveTagMap{constructor(){super(["ID3v2.2"],a.id3v22TagMap)}}a.ID3v22TagMapper=s})(ID3v22TagMapper);var APEv2TagMapper$1={};Object.defineProperty(APEv2TagMapper$1,"__esModule",{value:!0});APEv2TagMapper$1.APEv2TagMapper=void 0;const CaseInsensitiveTagMap_1$1=CaseInsensitiveTagMap$1,apev2TagMap={Title:"title",Artist:"artist",Artists:"artists","Album Artist":"albumartist",Album:"album",Year:"date",Originalyear:"originalyear",Originaldate:"originaldate",Comment:"comment",Track:"track",Disc:"disk",DISCNUMBER:"disk",Genre:"genre","Cover Art (Front)":"picture","Cover Art (Back)":"picture",Composer:"composer",Lyrics:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",Lyricist:"lyricist",Writer:"writer",Conductor:"conductor",MixArtist:"remixer",Arranger:"arranger",Engineer:"engineer",Producer:"producer",DJMixer:"djmixer",Mixer:"mixer",Label:"label",Grouping:"grouping",Subtitle:"subtitle",DiscSubtitle:"discsubtitle",Compilation:"compilation",BPM:"bpm",Mood:"mood",Media:"media",CatalogNumber:"catalognumber",MUSICBRAINZ_ALBUMSTATUS:"releasestatus",MUSICBRAINZ_ALBUMTYPE:"releasetype",RELEASECOUNTRY:"releasecountry",Script:"script",Language:"language",Copyright:"copyright",LICENSE:"license",EncodedBy:"encodedby",EncoderSettings:"encodersettings",Barcode:"barcode",ISRC:"isrc",ASIN:"asin",musicbrainz_trackid:"musicbrainz_recordingid",musicbrainz_releasetrackid:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",Acoustid_Id:"acoustid_id",ACOUSTID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",Weblink:"website",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",MP3GAIN_MINMAX:"replaygain_track_minmax",MP3GAIN_UNDO:"replaygain_undo"};class APEv2TagMapper extends CaseInsensitiveTagMap_1$1.CaseInsensitiveTagMap{constructor(){super(["APEv2"],apev2TagMap)}}APEv2TagMapper$1.APEv2TagMapper=APEv2TagMapper;var MP4TagMapper={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.MP4TagMapper=a.tagType=void 0;const o=CaseInsensitiveTagMap$1,s={"©nam":"title","©ART":"artist",aART:"albumartist","----:com.apple.iTunes:Band":"albumartist","©alb":"album","©day":"date","©cmt":"comment","©com":"comment",trkn:"track",disk:"disk","©gen":"genre",covr:"picture","©wrt":"composer","©lyr":"lyrics",soal:"albumsort",sonm:"titlesort",soar:"artistsort",soaa:"albumartistsort",soco:"composersort","----:com.apple.iTunes:LYRICIST":"lyricist","----:com.apple.iTunes:CONDUCTOR":"conductor","----:com.apple.iTunes:REMIXER":"remixer","----:com.apple.iTunes:ENGINEER":"engineer","----:com.apple.iTunes:PRODUCER":"producer","----:com.apple.iTunes:DJMIXER":"djmixer","----:com.apple.iTunes:MIXER":"mixer","----:com.apple.iTunes:LABEL":"label","©grp":"grouping","----:com.apple.iTunes:SUBTITLE":"subtitle","----:com.apple.iTunes:DISCSUBTITLE":"discsubtitle",cpil:"compilation",tmpo:"bpm","----:com.apple.iTunes:MOOD":"mood","----:com.apple.iTunes:MEDIA":"media","----:com.apple.iTunes:CATALOGNUMBER":"catalognumber",tvsh:"tvShow",tvsn:"tvSeason",tves:"tvEpisode",sosn:"tvShowSort",tven:"tvEpisodeId",tvnn:"tvNetwork",pcst:"podcast",purl:"podcasturl","----:com.apple.iTunes:MusicBrainz Album Status":"releasestatus","----:com.apple.iTunes:MusicBrainz Album Type":"releasetype","----:com.apple.iTunes:MusicBrainz Album Release Country":"releasecountry","----:com.apple.iTunes:SCRIPT":"script","----:com.apple.iTunes:LANGUAGE":"language",cprt:"copyright","©cpy":"copyright","----:com.apple.iTunes:LICENSE":"license","©too":"encodedby",pgap:"gapless","----:com.apple.iTunes:BARCODE":"barcode","----:com.apple.iTunes:ISRC":"isrc","----:com.apple.iTunes:ASIN":"asin","----:com.apple.iTunes:NOTES":"comment","----:com.apple.iTunes:MusicBrainz Track Id":"musicbrainz_recordingid","----:com.apple.iTunes:MusicBrainz Release Track Id":"musicbrainz_trackid","----:com.apple.iTunes:MusicBrainz Album Id":"musicbrainz_albumid","----:com.apple.iTunes:MusicBrainz Artist Id":"musicbrainz_artistid","----:com.apple.iTunes:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","----:com.apple.iTunes:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","----:com.apple.iTunes:MusicBrainz Work Id":"musicbrainz_workid","----:com.apple.iTunes:MusicBrainz TRM Id":"musicbrainz_trmid","----:com.apple.iTunes:MusicBrainz Disc Id":"musicbrainz_discid","----:com.apple.iTunes:Acoustid Id":"acoustid_id","----:com.apple.iTunes:Acoustid Fingerprint":"acoustid_fingerprint","----:com.apple.iTunes:MusicIP PUID":"musicip_puid","----:com.apple.iTunes:fingerprint":"musicip_fingerprint","----:com.apple.iTunes:replaygain_track_gain":"replaygain_track_gain","----:com.apple.iTunes:replaygain_track_peak":"replaygain_track_peak","----:com.apple.iTunes:replaygain_album_gain":"replaygain_album_gain","----:com.apple.iTunes:replaygain_album_peak":"replaygain_album_peak","----:com.apple.iTunes:replaygain_track_minmax":"replaygain_track_minmax","----:com.apple.iTunes:replaygain_album_minmax":"replaygain_album_minmax","----:com.apple.iTunes:replaygain_undo":"replaygain_undo",gnre:"genre","----:com.apple.iTunes:ALBUMARTISTSORT":"albumartistsort","----:com.apple.iTunes:ARTISTS":"artists","----:com.apple.iTunes:ORIGINALDATE":"originaldate","----:com.apple.iTunes:ORIGINALYEAR":"originalyear",desc:"description",ldes:"longDescription","©mvn":"movement","©mvi":"movementIndex","©mvc":"movementTotal","©wrk":"work",catg:"category",egid:"podcastId",hdvd:"hdVideo",keyw:"keywords",shwm:"showMovement",stik:"stik"};a.tagType="iTunes";class $ extends o.CaseInsensitiveTagMap{constructor(){super([a.tagType],s)}}a.MP4TagMapper=$})(MP4TagMapper);var VorbisTagMapper$1={};Object.defineProperty(VorbisTagMapper$1,"__esModule",{value:!0});VorbisTagMapper$1.VorbisTagMapper=void 0;const GenericTagMapper_1$2=GenericTagMapper,vorbisTagMap={TITLE:"title",ARTIST:"artist",ARTISTS:"artists",ALBUMARTIST:"albumartist","ALBUM ARTIST":"albumartist",ALBUM:"album",DATE:"date",ORIGINALDATE:"originaldate",ORIGINALYEAR:"originalyear",COMMENT:"comment",TRACKNUMBER:"track",DISCNUMBER:"disk",GENRE:"genre",METADATA_BLOCK_PICTURE:"picture",COMPOSER:"composer",LYRICS:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",LYRICIST:"lyricist",WRITER:"writer",CONDUCTOR:"conductor",REMIXER:"remixer",ARRANGER:"arranger",ENGINEER:"engineer",PRODUCER:"producer",DJMIXER:"djmixer",MIXER:"mixer",LABEL:"label",GROUPING:"grouping",SUBTITLE:"subtitle",DISCSUBTITLE:"discsubtitle",TRACKTOTAL:"totaltracks",DISCTOTAL:"totaldiscs",COMPILATION:"compilation",RATING:"rating",BPM:"bpm",KEY:"key",MOOD:"mood",MEDIA:"media",CATALOGNUMBER:"catalognumber",RELEASESTATUS:"releasestatus",RELEASETYPE:"releasetype",RELEASECOUNTRY:"releasecountry",SCRIPT:"script",LANGUAGE:"language",COPYRIGHT:"copyright",LICENSE:"license",ENCODEDBY:"encodedby",ENCODERSETTINGS:"encodersettings",BARCODE:"barcode",ISRC:"isrc",ASIN:"asin",MUSICBRAINZ_TRACKID:"musicbrainz_recordingid",MUSICBRAINZ_RELEASETRACKID:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",ACOUSTID_ID:"acoustid_id",ACOUSTID_ID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",WEBSITE:"website",NOTES:"notes",TOTALTRACKS:"totaltracks",TOTALDISCS:"totaldiscs",DISCOGS_ARTIST_ID:"discogs_artist_id",DISCOGS_ARTISTS:"artists",DISCOGS_ARTIST_NAME:"artists",DISCOGS_ALBUM_ARTISTS:"albumartist",DISCOGS_CATALOG:"catalognumber",DISCOGS_COUNTRY:"releasecountry",DISCOGS_DATE:"originaldate",DISCOGS_LABEL:"label",DISCOGS_LABEL_ID:"discogs_label_id",DISCOGS_MASTER_RELEASE_ID:"discogs_master_release_id",DISCOGS_RATING:"discogs_rating",DISCOGS_RELEASED:"date",DISCOGS_RELEASE_ID:"discogs_release_id",DISCOGS_VOTES:"discogs_votes",CATALOGID:"catalognumber",STYLE:"genre",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",REPLAYGAIN_ALBUM_GAIN:"replaygain_album_gain",REPLAYGAIN_ALBUM_PEAK:"replaygain_album_peak",REPLAYGAIN_MINMAX:"replaygain_track_minmax",REPLAYGAIN_ALBUM_MINMAX:"replaygain_album_minmax",REPLAYGAIN_UNDO:"replaygain_undo"};class VorbisTagMapper extends GenericTagMapper_1$2.CommonTagMapper{static toRating(o,s){return{source:o&&o.toLowerCase(),rating:parseFloat(s)*GenericTagMapper_1$2.CommonTagMapper.maxRatingScore}}constructor(){super(["vorbis"],vorbisTagMap)}postMap(o){if(o.id.indexOf("RATING:")===0){const s=o.id.split(":");o.value=VorbisTagMapper.toRating(s[1],o.value),o.id=s[0]}}}VorbisTagMapper$1.VorbisTagMapper=VorbisTagMapper;var RiffInfoTagMap={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.RiffInfoTagMapper=a.riffInfoTagMap=void 0;const o=GenericTagMapper;a.riffInfoTagMap={IART:"artist",ICRD:"date",INAM:"title",TITL:"title",IPRD:"album",ITRK:"track",IPRT:"track",COMM:"comment",ICMT:"comment",ICNT:"releasecountry",GNRE:"genre",IWRI:"writer",RATE:"rating",YEAR:"year",ISFT:"encodedby",CODE:"encodedby",TURL:"website",IGNR:"genre",IENG:"engineer",ITCH:"technician",IMED:"media",IRPD:"album"};class s extends o.CommonTagMapper{constructor(){super(["exif"],a.riffInfoTagMap)}}a.RiffInfoTagMapper=s})(RiffInfoTagMap);var MatroskaTagMapper$1={};Object.defineProperty(MatroskaTagMapper$1,"__esModule",{value:!0});MatroskaTagMapper$1.MatroskaTagMapper=void 0;const CaseInsensitiveTagMap_1=CaseInsensitiveTagMap$1,ebmlTagMap={"segment:title":"title","album:ARTIST":"albumartist","album:ARTISTSORT":"albumartistsort","album:TITLE":"album","album:DATE_RECORDED":"originaldate","album:PART_NUMBER":"disk","album:TOTAL_PARTS":"totaltracks","track:ARTIST":"artist","track:ARTISTSORT":"artistsort","track:TITLE":"title","track:PART_NUMBER":"track","track:MUSICBRAINZ_TRACKID":"musicbrainz_recordingid","track:MUSICBRAINZ_ALBUMID":"musicbrainz_albumid","track:MUSICBRAINZ_ARTISTID":"musicbrainz_artistid","track:PUBLISHER":"label","track:GENRE":"genre","track:ENCODER":"encodedby","track:ENCODER_OPTIONS":"encodersettings","edition:TOTAL_PARTS":"totaldiscs",picture:"picture"};class MatroskaTagMapper extends CaseInsensitiveTagMap_1.CaseInsensitiveTagMap{constructor(){super(["matroska"],ebmlTagMap)}}MatroskaTagMapper$1.MatroskaTagMapper=MatroskaTagMapper;var AiffTagMap={};Object.defineProperty(AiffTagMap,"__esModule",{value:!0});AiffTagMap.AiffTagMapper=void 0;const GenericTagMapper_1$1=GenericTagMapper,tagMap={NAME:"title",AUTH:"artist","(c) ":"copyright",ANNO:"comment"};class AiffTagMapper extends GenericTagMapper_1$1.CommonTagMapper{constructor(){super(["AIFF"],tagMap)}}AiffTagMap.AiffTagMapper=AiffTagMapper;Object.defineProperty(CombinedTagMapper$1,"__esModule",{value:!0});CombinedTagMapper$1.CombinedTagMapper=void 0;const ID3v1TagMap_1=ID3v1TagMap,ID3v24TagMapper_1=ID3v24TagMapper$1,AsfTagMapper_1=AsfTagMapper$1,ID3v22TagMapper_1=ID3v22TagMapper,APEv2TagMapper_1=APEv2TagMapper$1,MP4TagMapper_1=MP4TagMapper,VorbisTagMapper_1=VorbisTagMapper$1,RiffInfoTagMap_1=RiffInfoTagMap,MatroskaTagMapper_1=MatroskaTagMapper$1,AiffTagMap_1=AiffTagMap;class CombinedTagMapper{constructor(){this.tagMappers={},[new ID3v1TagMap_1.ID3v1TagMapper,new ID3v22TagMapper_1.ID3v22TagMapper,new ID3v24TagMapper_1.ID3v24TagMapper,new MP4TagMapper_1.MP4TagMapper,new MP4TagMapper_1.MP4TagMapper,new VorbisTagMapper_1.VorbisTagMapper,new APEv2TagMapper_1.APEv2TagMapper,new AsfTagMapper_1.AsfTagMapper,new RiffInfoTagMap_1.RiffInfoTagMapper,new MatroskaTagMapper_1.MatroskaTagMapper,new AiffTagMap_1.AiffTagMapper].forEach(o=>{this.registerTagMapper(o)})}mapTag(o,s,$){if(this.tagMappers[o])return this.tagMappers[o].mapGenericTag(s,$);throw new Error("No generic tag mapper defined for tag-format: "+o)}registerTagMapper(o){for(const s of o.tagTypes)this.tagMappers[s]=o}}CombinedTagMapper$1.CombinedTagMapper=CombinedTagMapper;Object.defineProperty(MetadataCollector$1,"__esModule",{value:!0});MetadataCollector$1.joinArtists=MetadataCollector$1.MetadataCollector=void 0;const type_1$2=type,debug_1$n=browserExports,GenericTagTypes_1=GenericTagTypes,CombinedTagMapper_1=CombinedTagMapper$1,GenericTagMapper_1=GenericTagMapper,Util_1$1=Util,FileType$1=core,debug$n=(0,debug_1$n.default)("music-metadata:collector"),TagPriority=["matroska","APEv2","vorbis","ID3v2.4","ID3v2.3","ID3v2.2","exif","asf","iTunes","AIFF","ID3v1"];class MetadataCollector{constructor(o){this.opts=o,this.format={tagTypes:[],trackInfo:[]},this.native={},this.common={track:{no:null,of:null},disk:{no:null,of:null},movementIndex:{}},this.quality={warnings:[]},this.commonOrigin={},this.originPriority={},this.tagMapper=new CombinedTagMapper_1.CombinedTagMapper;let s=1;for(const $ of TagPriority)this.originPriority[$]=s++;this.originPriority.artificial=500,this.originPriority.id3v1=600}hasAny(){return Object.keys(this.native).length>0}addStreamInfo(o){debug$n(`streamInfo: type=${type_1$2.TrackType[o.type]}, codec=${o.codecName}`),this.format.trackInfo.push(o)}setFormat(o,s){debug$n(`format: ${o} = ${s}`),this.format[o]=s,this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"format",id:o,value:s}})}addTag(o,s,$){debug$n(`tag ${o}.${s} = ${$}`),this.native[o]||(this.format.tagTypes.push(o),this.native[o]=[]),this.native[o].push({id:s,value:$}),this.toCommon(o,s,$)}addWarning(o){this.quality.warnings.push({message:o})}postMap(o,s){switch(s.id){case"artist":if(this.commonOrigin.artist===this.originPriority[o])return this.postMap("artificial",{id:"artists",value:s.value});this.common.artists||this.setGenericTag("artificial",{id:"artists",value:s.value});break;case"artists":if((!this.common.artist||this.commonOrigin.artist===this.originPriority.artificial)&&(!this.common.artists||this.common.artists.indexOf(s.value)===-1)){const et=(this.common.artists||[]).concat([s.value]),rt={id:"artist",value:joinArtists(et)};this.setGenericTag("artificial",rt)}break;case"picture":this.postFixPicture(s.value).then(et=>{et!==null&&(s.value=et,this.setGenericTag(o,s))});return;case"totaltracks":this.common.track.of=GenericTagMapper_1.CommonTagMapper.toIntOrNull(s.value);return;case"totaldiscs":this.common.disk.of=GenericTagMapper_1.CommonTagMapper.toIntOrNull(s.value);return;case"movementTotal":this.common.movementIndex.of=GenericTagMapper_1.CommonTagMapper.toIntOrNull(s.value);return;case"track":case"disk":case"movementIndex":const $=this.common[s.id].of;this.common[s.id]=GenericTagMapper_1.CommonTagMapper.normalizeTrack(s.value),this.common[s.id].of=$??this.common[s.id].of;return;case"bpm":case"year":case"originalyear":s.value=parseInt(s.value,10);break;case"date":const j=parseInt(s.value.substr(0,4),10);isNaN(j)||(this.common.year=j);break;case"discogs_label_id":case"discogs_release_id":case"discogs_master_release_id":case"discogs_artist_id":case"discogs_votes":s.value=typeof s.value=="string"?parseInt(s.value,10):s.value;break;case"replaygain_track_gain":case"replaygain_track_peak":case"replaygain_album_gain":case"replaygain_album_peak":s.value=(0,Util_1$1.toRatio)(s.value);break;case"replaygain_track_minmax":s.value=s.value.split(",").map(et=>parseInt(et,10));break;case"replaygain_undo":const _e=s.value.split(",").map(et=>parseInt(et,10));s.value={leftChannel:_e[0],rightChannel:_e[1]};break;case"gapless":case"compilation":case"podcast":case"showMovement":s.value=s.value==="1"||s.value===1;break;case"isrc":if(this.common[s.id]&&this.common[s.id].indexOf(s.value)!==-1)return;break}s.value!==null&&this.setGenericTag(o,s)}toCommonMetadata(){return{format:this.format,native:this.native,quality:this.quality,common:this.common}}async postFixPicture(o){if(o.data&&o.data.length>0){if(!o.format){const s=await FileType$1.fromBuffer(o.data);if(s)o.format=s.mime;else return null}switch(o.format=o.format.toLocaleLowerCase(),o.format){case"image/jpg":o.format="image/jpeg"}return o}return this.addWarning("Empty picture tag found"),null}toCommon(o,s,$){const j={id:s,value:$},_e=this.tagMapper.mapTag(o,j,this);_e&&this.postMap(o,_e)}setGenericTag(o,s){debug$n(`common.${s.id} = ${s.value}`);const $=this.commonOrigin[s.id]||1e3,j=this.originPriority[o];if((0,GenericTagTypes_1.isSingleton)(s.id))if(j<=$)this.common[s.id]=s.value,this.commonOrigin[s.id]=j;else return debug$n(`Ignore native tag (singleton): ${o}.${s.id} = ${s.value}`);else if(j===$)!(0,GenericTagTypes_1.isUnique)(s.id)||this.common[s.id].indexOf(s.value)===-1?this.common[s.id].push(s.value):debug$n(`Ignore duplicate value: ${o}.${s.id} = ${s.value}`);else if(j<$)this.common[s.id]=[s.value],this.commonOrigin[s.id]=j;else return debug$n(`Ignore native tag (list): ${o}.${s.id} = ${s.value}`);this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"common",id:s.id,value:s.value}})}}MetadataCollector$1.MetadataCollector=MetadataCollector;function joinArtists(a){return a.length>2?a.slice(0,a.length-1).join(", ")+" & "+a[a.length-1]:a.join(" & ")}MetadataCollector$1.joinArtists=joinArtists;var AiffParser={},ID3v2Parser$1={},FrameParser$1={},ID3v2Token={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TextEncodingToken=a.ExtendedHeader=a.ID3v2Header=a.UINT32SYNCSAFE=a.AttachedPictureType=void 0;const o=lib$1,s=Util;(function($){$[$.Other=0]="Other",$[$["32x32 pixels 'file icon' (PNG only)"]=1]="32x32 pixels 'file icon' (PNG only)",$[$["Other file icon"]=2]="Other file icon",$[$["Cover (front)"]=3]="Cover (front)",$[$["Cover (back)"]=4]="Cover (back)",$[$["Leaflet page"]=5]="Leaflet page",$[$["Media (e.g. label side of CD)"]=6]="Media (e.g. label side of CD)",$[$["Lead artist/lead performer/soloist"]=7]="Lead artist/lead performer/soloist",$[$["Artist/performer"]=8]="Artist/performer",$[$.Conductor=9]="Conductor",$[$["Band/Orchestra"]=10]="Band/Orchestra",$[$.Composer=11]="Composer",$[$["Lyricist/text writer"]=12]="Lyricist/text writer",$[$["Recording Location"]=13]="Recording Location",$[$["During recording"]=14]="During recording",$[$["During performance"]=15]="During performance",$[$["Movie/video screen capture"]=16]="Movie/video screen capture",$[$["A bright coloured fish"]=17]="A bright coloured fish",$[$.Illustration=18]="Illustration",$[$["Band/artist logotype"]=19]="Band/artist logotype",$[$["Publisher/Studio logotype"]=20]="Publisher/Studio logotype"})(a.AttachedPictureType||(a.AttachedPictureType={})),a.UINT32SYNCSAFE={get:($,j)=>$[j+3]&127|$[j+2]<<7|$[j+1]<<14|$[j]<<21,len:4},a.ID3v2Header={len:10,get:($,j)=>({fileIdentifier:new o.StringType(3,"ascii").get($,j),version:{major:o.INT8.get($,j+3),revision:o.INT8.get($,j+4)},flags:{unsynchronisation:s.getBit($,j+5,7),isExtendedHeader:s.getBit($,j+5,6),expIndicator:s.getBit($,j+5,5),footer:s.getBit($,j+5,4)},size:a.UINT32SYNCSAFE.get($,j+6)})},a.ExtendedHeader={len:10,get:($,j)=>({size:o.UINT32_BE.get($,j),extendedFlags:o.UINT16_BE.get($,j+4),sizeOfPadding:o.UINT32_BE.get($,j+6),crcDataPresent:s.getBit($,j+4,31)})},a.TextEncodingToken={len:1,get:($,j)=>{switch($[j]){case 0:return{encoding:"latin1"};case 1:return{encoding:"utf16le",bom:!0};case 2:return{encoding:"utf16le",bom:!1};case 3:return{encoding:"utf8",bom:!1};default:return{encoding:"utf8",bom:!1}}}}})(ID3v2Token);var ID3v1Parser={},BasicParser$1={};Object.defineProperty(BasicParser$1,"__esModule",{value:!0});BasicParser$1.BasicParser=void 0;class BasicParser{init(o,s,$){return this.metadata=o,this.tokenizer=s,this.options=$,this}}BasicParser$1.BasicParser=BasicParser;var APEv2Parser$1={},APEv2Token={},FourCC={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.FourCcToken=void 0;const o=Util,s=/^[\x21-\x7e©][\x20-\x7e\x00()]{3}/;a.FourCcToken={len:4,get:($,j)=>{const _e=$.toString("binary",j,j+a.FourCcToken.len);if(!_e.match(s))throw new Error(`FourCC contains invalid characters: ${o.a2hex(_e)} "${_e}"`);return _e},put:($,j,_e)=>{const et=Buffer.from(_e,"binary");if(et.length!==4)throw new Error("Invalid length");return et.copy($,j)}}})(FourCC);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isBitSet=a.parseTagFlags=a.TagField=a.TagItemHeader=a.TagFooter=a.Header=a.DescriptorParser=a.DataType=void 0;const o=lib$1,s=FourCC;(function(et){et[et.text_utf8=0]="text_utf8",et[et.binary=1]="binary",et[et.external_info=2]="external_info",et[et.reserved=3]="reserved"})(a.DataType||(a.DataType={})),a.DescriptorParser={len:52,get:(et,tt)=>({ID:s.FourCcToken.get(et,tt),version:o.UINT32_LE.get(et,tt+4)/1e3,descriptorBytes:o.UINT32_LE.get(et,tt+8),headerBytes:o.UINT32_LE.get(et,tt+12),seekTableBytes:o.UINT32_LE.get(et,tt+16),headerDataBytes:o.UINT32_LE.get(et,tt+20),apeFrameDataBytes:o.UINT32_LE.get(et,tt+24),apeFrameDataBytesHigh:o.UINT32_LE.get(et,tt+28),terminatingDataBytes:o.UINT32_LE.get(et,tt+32),fileMD5:new o.Uint8ArrayType(16).get(et,tt+36)})},a.Header={len:24,get:(et,tt)=>({compressionLevel:o.UINT16_LE.get(et,tt),formatFlags:o.UINT16_LE.get(et,tt+2),blocksPerFrame:o.UINT32_LE.get(et,tt+4),finalFrameBlocks:o.UINT32_LE.get(et,tt+8),totalFrames:o.UINT32_LE.get(et,tt+12),bitsPerSample:o.UINT16_LE.get(et,tt+16),channel:o.UINT16_LE.get(et,tt+18),sampleRate:o.UINT32_LE.get(et,tt+20)})},a.TagFooter={len:32,get:(et,tt)=>({ID:new o.StringType(8,"ascii").get(et,tt),version:o.UINT32_LE.get(et,tt+8),size:o.UINT32_LE.get(et,tt+12),fields:o.UINT32_LE.get(et,tt+16),flags:j(o.UINT32_LE.get(et,tt+20))})},a.TagItemHeader={len:8,get:(et,tt)=>({size:o.UINT32_LE.get(et,tt),flags:j(o.UINT32_LE.get(et,tt+4))})};const $=et=>new o.Uint8ArrayType(et.size-a.TagFooter.len);a.TagField=$;function j(et){return{containsHeader:_e(et,31),containsFooter:_e(et,30),isHeader:_e(et,31),readOnly:_e(et,0),dataType:(et&6)>>1}}a.parseTagFlags=j;function _e(et,tt){return(et&1<<tt)!==0}a.isBitSet=_e})(APEv2Token);Object.defineProperty(APEv2Parser$1,"__esModule",{value:!0});APEv2Parser$1.APEv2Parser=void 0;const debug_1$m=browserExports,strtok3$4=core$1,token_types_1$2=lib$1,util$9=Util,BasicParser_1$b=BasicParser$1,APEv2Token_1=APEv2Token,debug$m=(0,debug_1$m.default)("music-metadata:parser:APEv2"),tagFormat$1="APEv2",preamble="APETAGEX";class APEv2Parser extends BasicParser_1$b.BasicParser{constructor(){super(...arguments),this.ape={}}static tryParseApeHeader(o,s,$){const j=new APEv2Parser;return j.init(o,s,$),j.tryParseApeHeader()}static calculateDuration(o){let s=o.totalFrames>1?o.blocksPerFrame*(o.totalFrames-1):0;return s+=o.finalFrameBlocks,s/o.sampleRate}static async findApeFooterOffset(o,s){const $=Buffer.alloc(APEv2Token_1.TagFooter.len);await o.randomRead($,0,APEv2Token_1.TagFooter.len,s-APEv2Token_1.TagFooter.len);const j=APEv2Token_1.TagFooter.get($,0);if(j.ID==="APETAGEX")return debug$m(`APE footer header at offset=${s}`),{footer:j,offset:s-j.size}}static parseTagFooter(o,s,$){const j=APEv2Token_1.TagFooter.get(s,s.length-APEv2Token_1.TagFooter.len);if(j.ID!==preamble)throw new Error("Unexpected APEv2 Footer ID preamble value.");strtok3$4.fromBuffer(s);const _e=new APEv2Parser;return _e.init(o,strtok3$4.fromBuffer(s),$),_e.parseTags(j)}async tryParseApeHeader(){if(this.tokenizer.fileInfo.size&&this.tokenizer.fileInfo.size-this.tokenizer.position<APEv2Token_1.TagFooter.len){debug$m("No APEv2 header found, end-of-file reached");return}const o=await this.tokenizer.peekToken(APEv2Token_1.TagFooter);if(o.ID===preamble)return await this.tokenizer.ignore(APEv2Token_1.TagFooter.len),this.parseTags(o);if(debug$m(`APEv2 header not found at offset=${this.tokenizer.position}`),this.tokenizer.fileInfo.size){const s=this.tokenizer.fileInfo.size-this.tokenizer.position,$=Buffer.alloc(s);return await this.tokenizer.readBuffer($),APEv2Parser.parseTagFooter(this.metadata,$,this.options)}}async parse(){const o=await this.tokenizer.readToken(APEv2Token_1.DescriptorParser);if(o.ID!=="MAC ")throw new Error("Unexpected descriptor ID");this.ape.descriptor=o;const s=o.descriptorBytes-APEv2Token_1.DescriptorParser.len,$=await(s>0?this.parseDescriptorExpansion(s):this.parseHeader());return await this.tokenizer.ignore($.forwardBytes),this.tryParseApeHeader()}async parseTags(o){const s=Buffer.alloc(256);let $=o.size-APEv2Token_1.TagFooter.len;debug$m(`Parse APE tags at offset=${this.tokenizer.position}, size=${$}`);for(let j=0;j<o.fields;j++){if($<APEv2Token_1.TagItemHeader.len){this.metadata.addWarning(`APEv2 Tag-header: ${o.fields-j} items remaining, but no more tag data to read.`);break}const _e=await this.tokenizer.readToken(APEv2Token_1.TagItemHeader);$-=APEv2Token_1.TagItemHeader.len+_e.size,await this.tokenizer.peekBuffer(s,{length:Math.min(s.length,$)});let et=util$9.findZero(s,0,s.length);const tt=await this.tokenizer.readToken(new token_types_1$2.StringType(et,"ascii"));switch(await this.tokenizer.ignore(1),$-=tt.length+1,_e.flags.dataType){case APEv2Token_1.DataType.text_utf8:{const nt=(await this.tokenizer.readToken(new token_types_1$2.StringType(_e.size,"utf8"))).split(/\x00/g);for(const it of nt)this.metadata.addTag(tagFormat$1,tt,it);break}case APEv2Token_1.DataType.binary:if(this.options.skipCovers)await this.tokenizer.ignore(_e.size);else{const rt=Buffer.alloc(_e.size);await this.tokenizer.readBuffer(rt),et=util$9.findZero(rt,0,rt.length);const nt=rt.toString("utf8",0,et),it=Buffer.from(rt.slice(et+1));this.metadata.addTag(tagFormat$1,tt,{description:nt,data:it})}break;case APEv2Token_1.DataType.external_info:debug$m(`Ignore external info ${tt}`),await this.tokenizer.ignore(_e.size);break;case APEv2Token_1.DataType.reserved:debug$m(`Ignore external info ${tt}`),this.metadata.addWarning(`APEv2 header declares a reserved datatype for "${tt}"`),await this.tokenizer.ignore(_e.size);break}}}async parseDescriptorExpansion(o){return await this.tokenizer.ignore(o),this.parseHeader()}async parseHeader(){const o=await this.tokenizer.readToken(APEv2Token_1.Header);return this.metadata.setFormat("lossless",!0),this.metadata.setFormat("container","Monkey's Audio"),this.metadata.setFormat("bitsPerSample",o.bitsPerSample),this.metadata.setFormat("sampleRate",o.sampleRate),this.metadata.setFormat("numberOfChannels",o.channel),this.metadata.setFormat("duration",APEv2Parser.calculateDuration(o)),{forwardBytes:this.ape.descriptor.seekTableBytes+this.ape.descriptor.headerDataBytes+this.ape.descriptor.apeFrameDataBytes+this.ape.descriptor.terminatingDataBytes}}}APEv2Parser$1.APEv2Parser=APEv2Parser;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.hasID3v1Header=a.ID3v1Parser=a.Genres=void 0;const o=browserExports,s=lib$1,$=Util,j=BasicParser$1,_e=APEv2Parser$1,et=(0,o.default)("music-metadata:parser:ID3v1");a.Genres=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","Alt. Rock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast-Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Abstract","Art Rock","Baroque","Bhangra","Big Beat","Breakbeat","Chillout","Downtempo","Dub","EBM","Eclectic","Electro","Electroclash","Emo","Experimental","Garage","Global","IDM","Illbient","Industro-Goth","Jam Band","Krautrock","Leftfield","Lounge","Math Rock","New Romantic","Nu-Breakz","Post-Punk","Post-Rock","Psytrance","Shoegaze","Space Rock","Trop Rock","World Music","Neoclassical","Audiobook","Audio Theatre","Neue Deutsche Welle","Podcast","Indie Rock","G-Funk","Dubstep","Garage Rock","Psybient"];const tt={len:128,get:(ot,at)=>{const ut=new rt(3).get(ot,at);return ut==="TAG"?{header:ut,title:new rt(30).get(ot,at+3),artist:new rt(30).get(ot,at+33),album:new rt(30).get(ot,at+63),year:new rt(4).get(ot,at+93),comment:new rt(28).get(ot,at+97),zeroByte:s.UINT8.get(ot,at+127),track:s.UINT8.get(ot,at+126),genre:s.UINT8.get(ot,at+127)}:null}};class rt extends s.StringType{constructor(at){super(at,"binary")}get(at,ut){let ht=super.get(at,ut);return ht=$.trimRightNull(ht),ht=ht.trim(),ht.length>0?ht:void 0}}class nt extends j.BasicParser{static getGenre(at){if(at<a.Genres.length)return a.Genres[at]}async parse(){if(!this.tokenizer.fileInfo.size){et("Skip checking for ID3v1 because the file-size is unknown");return}if(this.options.apeHeader){this.tokenizer.ignore(this.options.apeHeader.offset-this.tokenizer.position);const ht=new _e.APEv2Parser;ht.init(this.metadata,this.tokenizer,this.options),await ht.parseTags(this.options.apeHeader.footer)}const at=this.tokenizer.fileInfo.size-tt.len;if(this.tokenizer.position>at){et("Already consumed the last 128 bytes");return}const ut=await this.tokenizer.readToken(tt,at);if(ut){et("ID3v1 header found at: pos=%s",this.tokenizer.fileInfo.size-tt.len);for(const pt of["title","artist","album","comment","track","year"])ut[pt]&&ut[pt]!==""&&this.addTag(pt,ut[pt]);const ht=nt.getGenre(ut.genre);ht&&this.addTag("genre",ht)}else et("ID3v1 header not found at: pos=%s",this.tokenizer.fileInfo.size-tt.len)}addTag(at,ut){this.metadata.addTag("ID3v1",at,ut)}}a.ID3v1Parser=nt;async function it(ot){if(ot.fileSize>=128){const at=Buffer.alloc(3);return await ot.randomRead(at,0,at.length,ot.fileSize-128),at.toString("binary")==="TAG"}return!1}a.hasID3v1Header=it})(ID3v1Parser);Object.defineProperty(FrameParser$1,"__esModule",{value:!0});FrameParser$1.FrameParser=FrameParser$1.parseGenre=void 0;const debug_1$l=browserExports,Token$r=lib$1,util$8=Util,ID3v2Token_1$3=ID3v2Token,ID3v1Parser_1$3=ID3v1Parser,debug$l=(0,debug_1$l.default)("music-metadata:id3v2:frame-parser"),defaultEnc="latin1";function parseGenre(a){const o=[];let s,$="";for(const j of a)if(typeof s=="string")if(j==="("&&s==="")$+="(",s=void 0;else if(j===")"){$!==""&&(o.push($),$="");const _e=parseGenreCode(s);_e&&o.push(_e),s=void 0}else s+=j;else j==="("?s="":$+=j;return $&&(o.length===0&&$.match(/^\d*$/)&&($=ID3v1Parser_1$3.Genres[$]),o.push($)),o}FrameParser$1.parseGenre=parseGenre;function parseGenreCode(a){if(a==="RX")return"Remix";if(a==="CR")return"Cover";if(a.match(/^\d*$/))return ID3v1Parser_1$3.Genres[a]}class FrameParser{constructor(o,s){this.major=o,this.warningCollector=s}readData(o,s,$){if(o.length===0){this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${s}`);return}const{encoding:j,bom:_e}=ID3v2Token_1$3.TextEncodingToken.get(o,0),et=o.length;let tt=0,rt=[];const nt=FrameParser.getNullTerminatorLength(j);let it;const ot={};switch(debug$l(`Parsing tag type=${s}, encoding=${j}, bom=${_e}`),s!=="TXXX"&&s[0]==="T"?"T*":s){case"T*":case"IPLS":case"MVIN":case"MVNM":case"PCS":case"PCST":let at;try{at=util$8.decodeString(o.slice(1),j).replace(/\x00+$/,"")}catch(pt){this.warningCollector.addWarning(`id3v2.${this.major} type=${s} header has invalid string value: ${pt.message}`)}switch(s){case"TMCL":case"TIPL":case"IPLS":rt=this.splitValue(s,at),rt=FrameParser.functionList(rt);break;case"TRK":case"TRCK":case"TPOS":rt=at;break;case"TCOM":case"TEXT":case"TOLY":case"TOPE":case"TPE1":case"TSRC":rt=this.splitValue(s,at);break;case"TCO":case"TCON":rt=this.splitValue(s,at).map(pt=>parseGenre(pt)).reduce((pt,Ct)=>pt.concat(Ct),[]);break;case"PCS":case"PCST":rt=this.major>=4?this.splitValue(s,at):[at],rt=Array.isArray(rt)&&rt[0]===""?1:0;break;default:rt=this.major>=4?this.splitValue(s,at):[at]}break;case"TXXX":rt=FrameParser.readIdentifierAndData(o,tt+1,et,j),rt={description:rt.id,text:this.splitValue(s,util$8.decodeString(rt.data,j).replace(/\x00+$/,""))};break;case"PIC":case"APIC":if($){const pt={};switch(tt+=1,this.major){case 2:pt.format=util$8.decodeString(o.slice(tt,tt+3),"latin1"),tt+=3;break;case 3:case 4:it=util$8.findZero(o,tt,et,defaultEnc),pt.format=util$8.decodeString(o.slice(tt,it),defaultEnc),tt=it+1;break;default:throw new Error("Warning: unexpected major versionIndex: "+this.major)}pt.format=FrameParser.fixPictureMimeType(pt.format),pt.type=ID3v2Token_1$3.AttachedPictureType[o[tt]],tt+=1,it=util$8.findZero(o,tt,et,j),pt.description=util$8.decodeString(o.slice(tt,it),j),tt=it+nt,pt.data=Buffer.from(o.slice(tt,et)),rt=pt}break;case"CNT":case"PCNT":rt=Token$r.UINT32_BE.get(o,0);break;case"SYLT":for(tt+=7,rt=[];tt<et;){const pt=o.slice(tt,tt=util$8.findZero(o,tt,et,j));tt+=5,rt.push(util$8.decodeString(pt,j))}break;case"ULT":case"USLT":case"COM":case"COMM":tt+=1,ot.language=util$8.decodeString(o.slice(tt,tt+3),defaultEnc),tt+=3,it=util$8.findZero(o,tt,et,j),ot.description=util$8.decodeString(o.slice(tt,it),j),tt=it+nt,ot.text=util$8.decodeString(o.slice(tt,et),j).replace(/\x00+$/,""),rt=[ot];break;case"UFID":rt=FrameParser.readIdentifierAndData(o,tt,et,defaultEnc),rt={owner_identifier:rt.id,identifier:rt.data};break;case"PRIV":rt=FrameParser.readIdentifierAndData(o,tt,et,defaultEnc),rt={owner_identifier:rt.id,data:rt.data};break;case"POPM":it=util$8.findZero(o,tt,et,defaultEnc);const ut=util$8.decodeString(o.slice(tt,it),defaultEnc);tt=it+1;const ht=et-tt;rt={email:ut,rating:Token$r.UINT8.get(o,tt),counter:ht>=5?Token$r.UINT32_BE.get(o,tt+1):void 0};break;case"GEOB":{it=util$8.findZero(o,tt+1,et,j);const pt=util$8.decodeString(o.slice(tt+1,it),defaultEnc);tt=it+1,it=util$8.findZero(o,tt,et-tt,j);const Ct=util$8.decodeString(o.slice(tt,it),defaultEnc);tt=it+1,it=util$8.findZero(o,tt,et-tt,j);const lt=util$8.decodeString(o.slice(tt,it),defaultEnc);rt={type:pt,filename:Ct,description:lt,data:o.slice(tt+1,et)};break}case"WCOM":case"WCOP":case"WOAF":case"WOAR":case"WOAS":case"WORS":case"WPAY":case"WPUB":rt=util$8.decodeString(o.slice(tt,it),defaultEnc);break;case"WXXX":{it=util$8.findZero(o,tt+1,et,j);const pt=util$8.decodeString(o.slice(tt+1,it),j);tt=it+(j==="utf16le"?2:1),rt={description:pt,url:util$8.decodeString(o.slice(tt,et),defaultEnc)};break}case"WFD":case"WFED":rt=util$8.decodeString(o.slice(tt+1,util$8.findZero(o,tt+1,et,j)),j);break;case"MCDI":{rt=o.slice(0,et);break}default:debug$l("Warning: unsupported id3v2-tag-type: "+s);break}return rt}static fixPictureMimeType(o){switch(o=o.toLocaleLowerCase(),o){case"jpg":return"image/jpeg";case"png":return"image/png"}return o}static functionList(o){const s={};for(let $=0;$+1<o.length;$+=2){const j=o[$+1].split(",");s[o[$]]=s.hasOwnProperty(o[$])?s[o[$]].concat(j):j}return s}splitValue(o,s){let $;return this.major<4?($=s.split(/\x00/g),$.length>1?this.warningCollector.addWarning(`ID3v2.${this.major} ${o} uses non standard null-separator.`):$=s.split(/\//g)):$=s.split(/\x00/g),FrameParser.trimArray($)}static trimArray(o){return o.map(s=>s.replace(/\x00+$/,"").trim())}static readIdentifierAndData(o,s,$,j){const _e=util$8.findZero(o,s,$,j),et=util$8.decodeString(o.slice(s,_e),j);return s=_e+FrameParser.getNullTerminatorLength(j),{id:et,data:o.slice(s,$)}}static getNullTerminatorLength(o){return o==="utf16le"?2:1}}FrameParser$1.FrameParser=FrameParser;Object.defineProperty(ID3v2Parser$1,"__esModule",{value:!0});ID3v2Parser$1.ID3v2Parser=void 0;const Token$q=lib$1,util$7=Util,FrameParser_1=FrameParser$1,ID3v2Token_1$2=ID3v2Token;class ID3v2Parser{static removeUnsyncBytes(o){let s=0,$=0;for(;s<o.length-1;)s!==$&&(o[$]=o[s]),s+=o[s]===255&&o[s+1]===0?2:1,$++;return s<o.length&&(o[$++]=o[s]),o.slice(0,$)}static getFrameHeaderLength(o){switch(o){case 2:return 6;case 3:case 4:return 10;default:throw new Error("header versionIndex is incorrect")}}static readFrameFlags(o){return{status:{tag_alter_preservation:util$7.getBit(o,0,6),file_alter_preservation:util$7.getBit(o,0,5),read_only:util$7.getBit(o,0,4)},format:{grouping_identity:util$7.getBit(o,1,7),compression:util$7.getBit(o,1,3),encryption:util$7.getBit(o,1,2),unsynchronisation:util$7.getBit(o,1,1),data_length_indicator:util$7.getBit(o,1,0)}}}static readFrameData(o,s,$,j,_e){const et=new FrameParser_1.FrameParser($,_e);switch($){case 2:return et.readData(o,s.id,j);case 3:case 4:return s.flags.format.unsynchronisation&&(o=ID3v2Parser.removeUnsyncBytes(o)),s.flags.format.data_length_indicator&&(o=o.slice(4,o.length)),et.readData(o,s.id,j);default:throw new Error("Unexpected majorVer: "+$)}}static makeDescriptionTagName(o,s){return o+(s?":"+s:"")}async parse(o,s,$){this.tokenizer=s,this.metadata=o,this.options=$;const j=await this.tokenizer.readToken(ID3v2Token_1$2.ID3v2Header);if(j.fileIdentifier!=="ID3")throw new Error("expected ID3-header file-identifier 'ID3' was not found");return this.id3Header=j,this.headerType="ID3v2."+j.version.major,j.flags.isExtendedHeader?this.parseExtendedHeader():this.parseId3Data(j.size)}async parseExtendedHeader(){const o=await this.tokenizer.readToken(ID3v2Token_1$2.ExtendedHeader),s=o.size-ID3v2Token_1$2.ExtendedHeader.len;return s>0?this.parseExtendedHeaderData(s,o.size):this.parseId3Data(this.id3Header.size-o.size)}async parseExtendedHeaderData(o,s){return await this.tokenizer.ignore(o),this.parseId3Data(this.id3Header.size-s)}async parseId3Data(o){const s=await this.tokenizer.readToken(new Token$q.Uint8ArrayType(o));for(const $ of this.parseMetadata(s))if($.id==="TXXX"){if($.value)for(const j of $.value.text)this.addTag(ID3v2Parser.makeDescriptionTagName($.id,$.value.description),j)}else if($.id==="COM")for(const j of $.value)this.addTag(ID3v2Parser.makeDescriptionTagName($.id,j.description),j.text);else if($.id==="COMM")for(const j of $.value)this.addTag(ID3v2Parser.makeDescriptionTagName($.id,j.description),j);else if(Array.isArray($.value))for(const j of $.value)this.addTag($.id,j);else this.addTag($.id,$.value)}addTag(o,s){this.metadata.addTag(this.headerType,o,s)}parseMetadata(o){let s=0;const $=[];for(;s!==o.length;){const j=ID3v2Parser.getFrameHeaderLength(this.id3Header.version.major);if(s+j>o.length){this.metadata.addWarning("Illegal ID3v2 tag length");break}const _e=o.slice(s,s+=j),et=this.readFrameHeader(_e,this.id3Header.version.major),tt=o.slice(s,s+=et.length),rt=ID3v2Parser.readFrameData(tt,et,this.id3Header.version.major,!this.options.skipCovers,this.metadata);rt&&$.push({id:et.id,value:rt})}return $}readFrameHeader(o,s){let $;switch(s){case 2:$={id:Buffer.from(o.slice(0,3)).toString("ascii"),length:Token$q.UINT24_BE.get(o,3)},$.id.match(/[A-Z0-9]{3}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${$.id}`);break;case 3:case 4:$={id:Buffer.from(o.slice(0,4)).toString("ascii"),length:(s===4?ID3v2Token_1$2.UINT32SYNCSAFE:Token$q.UINT32_BE).get(o,4),flags:ID3v2Parser.readFrameFlags(o.slice(8,10))},$.id.match(/[A-Z0-9]{4}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${$.id}`);break;default:throw new Error("Unexpected majorVer: "+s)}return $}}ID3v2Parser$1.ID3v2Parser=ID3v2Parser;var AiffToken$1={};Object.defineProperty(AiffToken$1,"__esModule",{value:!0});AiffToken$1.Common=void 0;const Token$p=lib$1,FourCC_1$a=FourCC;class Common{constructor(o,s){this.isAifc=s;const $=s?22:18;if(o.chunkSize<$)throw new Error(`COMMON CHUNK size should always be at least ${$}`);this.len=o.chunkSize}get(o,s){const $=o.readUInt16BE(s+8)-16398,j=o.readUInt16BE(s+8+2),_e={numChannels:o.readUInt16BE(s),numSampleFrames:o.readUInt32BE(s+2),sampleSize:o.readUInt16BE(s+6),sampleRate:$<0?j>>Math.abs($):j<<$};if(this.isAifc){if(_e.compressionType=FourCC_1$a.FourCcToken.get(o,s+18),this.len>22){const et=o.readInt8(s+22);if(et>0){const tt=(et+1)%2;if(23+et+tt===this.len)_e.compressionName=new Token$p.StringType(et,"binary").get(o,s+23);else throw new Error("Illegal pstring length")}else _e.compressionName=void 0}}else _e.compressionName="PCM";return _e}}AiffToken$1.Common=Common;var iff$1={};Object.defineProperty(iff$1,"__esModule",{value:!0});iff$1.Header=void 0;const Token$o=lib$1,FourCC_1$9=FourCC;iff$1.Header={len:8,get:(a,o)=>({chunkID:FourCC_1$9.FourCcToken.get(a,o),chunkSize:Number(BigInt(Token$o.UINT32_BE.get(a,o+4)))})};Object.defineProperty(AiffParser,"__esModule",{value:!0});AiffParser.AIFFParser=void 0;const Token$n=lib$1,debug_1$k=browserExports,strtok3$3=core$1,ID3v2Parser_1$4=ID3v2Parser$1,FourCC_1$8=FourCC,BasicParser_1$a=BasicParser$1,AiffToken=AiffToken$1,iff=iff$1,debug$k=(0,debug_1$k.default)("music-metadata:parser:aiff"),compressionTypes={NONE:"not compressed	PCM	Apple Computer",sowt:"PCM (byte swapped)",fl32:"32-bit floating point IEEE 32-bit float",fl64:"64-bit floating point IEEE 64-bit float	Apple Computer",alaw:"ALaw 2:1	8-bit ITU-T G.711 A-law",ulaw:"µLaw 2:1	8-bit ITU-T G.711 µ-law	Apple Computer",ULAW:"CCITT G.711 u-law 8-bit ITU-T G.711 µ-law",ALAW:"CCITT G.711 A-law 8-bit ITU-T G.711 A-law",FL32:"Float 32	IEEE 32-bit float "};class AIFFParser extends BasicParser_1$a.BasicParser{async parse(){if((await this.tokenizer.readToken(iff.Header)).chunkID!=="FORM")throw new Error("Invalid Chunk-ID, expected 'FORM'");const s=await this.tokenizer.readToken(FourCC_1$8.FourCcToken);switch(s){case"AIFF":this.metadata.setFormat("container",s),this.isCompressed=!1;break;case"AIFC":this.metadata.setFormat("container","AIFF-C"),this.isCompressed=!0;break;default:throw Error("Unsupported AIFF type: "+s)}this.metadata.setFormat("lossless",!this.isCompressed);try{for(;!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=iff.Header.len;){debug$k("Reading AIFF chunk at offset="+this.tokenizer.position);const $=await this.tokenizer.readToken(iff.Header),j=2*Math.round($.chunkSize/2),_e=await this.readData($);await this.tokenizer.ignore(j-_e)}}catch($){if($ instanceof strtok3$3.EndOfStreamError)debug$k("End-of-stream");else throw $}}async readData(o){var s;switch(o.chunkID){case"COMM":const $=await this.tokenizer.readToken(new AiffToken.Common(o,this.isCompressed));return this.metadata.setFormat("bitsPerSample",$.sampleSize),this.metadata.setFormat("sampleRate",$.sampleRate),this.metadata.setFormat("numberOfChannels",$.numChannels),this.metadata.setFormat("numberOfSamples",$.numSampleFrames),this.metadata.setFormat("duration",$.numSampleFrames/$.sampleRate),this.metadata.setFormat("codec",(s=$.compressionName)!==null&&s!==void 0?s:compressionTypes[$.compressionType]),o.chunkSize;case"ID3 ":const j=await this.tokenizer.readToken(new Token$n.Uint8ArrayType(o.chunkSize)),_e=strtok3$3.fromBuffer(j);return await new ID3v2Parser_1$4.ID3v2Parser().parse(this.metadata,_e,this.options),o.chunkSize;case"SSND":return this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*o.chunkSize/this.metadata.format.duration),0;case"NAME":case"AUTH":case"(c) ":case"ANNO":return this.readTextChunk(o);default:return debug$k(`Ignore chunk id=${o.chunkID}, size=${o.chunkSize}`),0}}async readTextChunk(o){return(await this.tokenizer.readToken(new Token$n.StringType(o.chunkSize,"ascii"))).split("\0").map($=>$.trim()).filter($=>$&&$.length>0).forEach($=>{this.metadata.addTag("AIFF",o.chunkID,$.trim())}),o.chunkSize}}AiffParser.AIFFParser=AIFFParser;var AsfParser$1={},GUID$1={};Object.defineProperty(GUID$1,"__esModule",{value:!0});class GUID{static fromBin(o,s=0){return new GUID(this.decode(o,s))}static decode(o,s=0){return(o.readUInt32LE(s).toString(16)+"-"+o.readUInt16LE(s+4).toString(16)+"-"+o.readUInt16LE(s+6).toString(16)+"-"+o.readUInt16BE(s+8).toString(16)+"-"+o.slice(s+10,s+16).toString("hex")).toUpperCase()}static decodeMediaType(o){switch(o.str){case GUID.AudioMedia.str:return"audio";case GUID.VideoMedia.str:return"video";case GUID.CommandMedia.str:return"command";case GUID.Degradable_JPEG_Media.str:return"degradable-jpeg";case GUID.FileTransferMedia.str:return"file-transfer";case GUID.BinaryMedia.str:return"binary"}}static encode(o){const s=Buffer.alloc(16);return s.writeUInt32LE(parseInt(o.slice(0,8),16),0),s.writeUInt16LE(parseInt(o.slice(9,13),16),4),s.writeUInt16LE(parseInt(o.slice(14,18),16),6),Buffer.from(o.slice(19,23),"hex").copy(s,8),Buffer.from(o.slice(24),"hex").copy(s,10),s}constructor(o){this.str=o}equals(o){return this.str===o.str}toBin(){return GUID.encode(this.str)}}GUID.HeaderObject=new GUID("75B22630-668E-11CF-A6D9-00AA0062CE6C");GUID.DataObject=new GUID("75B22636-668E-11CF-A6D9-00AA0062CE6C");GUID.SimpleIndexObject=new GUID("33000890-E5B1-11CF-89F4-00A0C90349CB");GUID.IndexObject=new GUID("D6E229D3-35DA-11D1-9034-00A0C90349BE");GUID.MediaObjectIndexObject=new GUID("FEB103F8-12AD-4C64-840F-2A1D2F7AD48C");GUID.TimecodeIndexObject=new GUID("3CB73FD0-0C4A-4803-953D-EDF7B6228F0C");GUID.FilePropertiesObject=new GUID("8CABDCA1-A947-11CF-8EE4-00C00C205365");GUID.StreamPropertiesObject=new GUID("B7DC0791-A9B7-11CF-8EE6-00C00C205365");GUID.HeaderExtensionObject=new GUID("5FBF03B5-A92E-11CF-8EE3-00C00C205365");GUID.CodecListObject=new GUID("86D15240-311D-11D0-A3A4-00A0C90348F6");GUID.ScriptCommandObject=new GUID("1EFB1A30-0B62-11D0-A39B-00A0C90348F6");GUID.MarkerObject=new GUID("F487CD01-A951-11CF-8EE6-00C00C205365");GUID.BitrateMutualExclusionObject=new GUID("D6E229DC-35DA-11D1-9034-00A0C90349BE");GUID.ErrorCorrectionObject=new GUID("75B22635-668E-11CF-A6D9-00AA0062CE6C");GUID.ContentDescriptionObject=new GUID("75B22633-668E-11CF-A6D9-00AA0062CE6C");GUID.ExtendedContentDescriptionObject=new GUID("D2D0A440-E307-11D2-97F0-00A0C95EA850");GUID.ContentBrandingObject=new GUID("2211B3FA-BD23-11D2-B4B7-00A0C955FC6E");GUID.StreamBitratePropertiesObject=new GUID("7BF875CE-468D-11D1-8D82-006097C9A2B2");GUID.ContentEncryptionObject=new GUID("2211B3FB-BD23-11D2-B4B7-00A0C955FC6E");GUID.ExtendedContentEncryptionObject=new GUID("298AE614-2622-4C17-B935-DAE07EE9289C");GUID.DigitalSignatureObject=new GUID("2211B3FC-BD23-11D2-B4B7-00A0C955FC6E");GUID.PaddingObject=new GUID("1806D474-CADF-4509-A4BA-9AABCB96AAE8");GUID.ExtendedStreamPropertiesObject=new GUID("14E6A5CB-C672-4332-8399-A96952065B5A");GUID.AdvancedMutualExclusionObject=new GUID("A08649CF-4775-4670-8A16-6E35357566CD");GUID.GroupMutualExclusionObject=new GUID("D1465A40-5A79-4338-B71B-E36B8FD6C249");GUID.StreamPrioritizationObject=new GUID("D4FED15B-88D3-454F-81F0-ED5C45999E24");GUID.BandwidthSharingObject=new GUID("A69609E6-517B-11D2-B6AF-00C04FD908E9");GUID.LanguageListObject=new GUID("7C4346A9-EFE0-4BFC-B229-393EDE415C85");GUID.MetadataObject=new GUID("C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA");GUID.MetadataLibraryObject=new GUID("44231C94-9498-49D1-A141-1D134E457054");GUID.IndexParametersObject=new GUID("D6E229DF-35DA-11D1-9034-00A0C90349BE");GUID.MediaObjectIndexParametersObject=new GUID("6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7");GUID.TimecodeIndexParametersObject=new GUID("F55E496D-9797-4B5D-8C8B-604DFE9BFB24");GUID.CompatibilityObject=new GUID("26F18B5D-4584-47EC-9F5F-0E651F0452C9");GUID.AdvancedContentEncryptionObject=new GUID("43058533-6981-49E6-9B74-AD12CB86D58C");GUID.AudioMedia=new GUID("F8699E40-5B4D-11CF-A8FD-00805F5C442B");GUID.VideoMedia=new GUID("BC19EFC0-5B4D-11CF-A8FD-00805F5C442B");GUID.CommandMedia=new GUID("59DACFC0-59E6-11D0-A3AC-00A0C90348F6");GUID.JFIF_Media=new GUID("B61BE100-5B4E-11CF-A8FD-00805F5C442B");GUID.Degradable_JPEG_Media=new GUID("35907DE0-E415-11CF-A917-00805F5C442B");GUID.FileTransferMedia=new GUID("91BD222C-F21C-497A-8B6D-5AA86BFC0185");GUID.BinaryMedia=new GUID("3AFB65E2-47EF-40F2-AC2C-70A90D71D343");GUID.ASF_Index_Placeholder_Object=new GUID("D9AADE20-7C17-4F9C-BC28-8555DD98E2A2");GUID$1.default=GUID;var AsfObject$1={},AsfUtil$1={};Object.defineProperty(AsfUtil$1,"__esModule",{value:!0});AsfUtil$1.AsfUtil=void 0;const Token$m=lib$1,util$6=Util;class AsfUtil{static getParserForAttr(o){return AsfUtil.attributeParsers[o]}static parseUnicodeAttr(o){return util$6.stripNulls(util$6.decodeString(o,"utf16le"))}static parseByteArrayAttr(o){return Buffer.from(o)}static parseBoolAttr(o,s=0){return AsfUtil.parseWordAttr(o,s)===1}static parseDWordAttr(o,s=0){return o.readUInt32LE(s)}static parseQWordAttr(o,s=0){return Token$m.UINT64_LE.get(o,s)}static parseWordAttr(o,s=0){return o.readUInt16LE(s)}}AsfUtil.attributeParsers=[AsfUtil.parseUnicodeAttr,AsfUtil.parseByteArrayAttr,AsfUtil.parseBoolAttr,AsfUtil.parseDWordAttr,AsfUtil.parseQWordAttr,AsfUtil.parseWordAttr,AsfUtil.parseByteArrayAttr];AsfUtil$1.AsfUtil=AsfUtil;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.WmPictureToken=a.MetadataLibraryObjectState=a.MetadataObjectState=a.ExtendedStreamPropertiesObjectState=a.ExtendedContentDescriptionObjectState=a.ContentDescriptionObjectState=a.readCodecEntries=a.HeaderExtensionObject=a.StreamPropertiesObject=a.FilePropertiesObject=a.IgnoreObjectState=a.State=a.HeaderObjectToken=a.TopLevelHeaderObjectToken=a.DataType=void 0;const o=Util,s=lib$1,$=GUID$1,j=AsfUtil$1,_e=ID3v2Token;(function(vt){vt[vt.UnicodeString=0]="UnicodeString",vt[vt.ByteArray=1]="ByteArray",vt[vt.Bool=2]="Bool",vt[vt.DWord=3]="DWord",vt[vt.QWord=4]="QWord",vt[vt.Word=5]="Word"})(a.DataType||(a.DataType={})),a.TopLevelHeaderObjectToken={len:30,get:(vt,dt)=>({objectId:$.default.fromBin(new s.BufferType(16).get(vt,dt)),objectSize:Number(s.UINT64_LE.get(vt,dt+16)),numberOfHeaderObjects:s.UINT32_LE.get(vt,dt+24)})},a.HeaderObjectToken={len:24,get:(vt,dt)=>({objectId:$.default.fromBin(new s.BufferType(16).get(vt,dt)),objectSize:Number(s.UINT64_LE.get(vt,dt+16))})};class et{constructor(dt){this.len=Number(dt.objectSize)-a.HeaderObjectToken.len}postProcessTag(dt,yt,Rt,Pt){if(yt==="WM/Picture")dt.push({id:yt,value:It.fromBuffer(Pt)});else{const Dt=j.AsfUtil.getParserForAttr(Rt);if(!Dt)throw new Error("unexpected value headerType: "+Rt);dt.push({id:yt,value:Dt(Pt)})}}}a.State=et;class tt extends et{constructor(dt){super(dt)}get(dt,yt){return null}}a.IgnoreObjectState=tt;class rt extends et{constructor(dt){super(dt)}get(dt,yt){return{fileId:$.default.fromBin(dt,yt),fileSize:s.UINT64_LE.get(dt,yt+16),creationDate:s.UINT64_LE.get(dt,yt+24),dataPacketsCount:s.UINT64_LE.get(dt,yt+32),playDuration:s.UINT64_LE.get(dt,yt+40),sendDuration:s.UINT64_LE.get(dt,yt+48),preroll:s.UINT64_LE.get(dt,yt+56),flags:{broadcast:o.getBit(dt,yt+64,24),seekable:o.getBit(dt,yt+64,25)},minimumDataPacketSize:s.UINT32_LE.get(dt,yt+68),maximumDataPacketSize:s.UINT32_LE.get(dt,yt+72),maximumBitrate:s.UINT32_LE.get(dt,yt+76)}}}rt.guid=$.default.FilePropertiesObject,a.FilePropertiesObject=rt;class nt extends et{constructor(dt){super(dt)}get(dt,yt){return{streamType:$.default.decodeMediaType($.default.fromBin(dt,yt)),errorCorrectionType:$.default.fromBin(dt,yt+8)}}}nt.guid=$.default.StreamPropertiesObject,a.StreamPropertiesObject=nt;class it{constructor(){this.len=22}get(dt,yt){return{reserved1:$.default.fromBin(dt,yt),reserved2:dt.readUInt16LE(yt+16),extensionDataSize:dt.readUInt32LE(yt+18)}}}it.guid=$.default.HeaderExtensionObject,a.HeaderExtensionObject=it;const ot={len:20,get:(vt,dt)=>({entryCount:vt.readUInt16LE(dt+16)})};async function at(vt){const dt=await vt.readNumber(s.UINT16_LE);return(await vt.readToken(new s.StringType(dt*2,"utf16le"))).replace("\0","")}async function ut(vt){const dt=await vt.readToken(ot),yt=[];for(let Rt=0;Rt<dt.entryCount;++Rt)yt.push(await pt(vt));return yt}a.readCodecEntries=ut;async function ht(vt){const dt=await vt.readNumber(s.UINT16_LE),yt=Buffer.alloc(dt);return await vt.readBuffer(yt),yt}async function pt(vt){const dt=await vt.readNumber(s.UINT16_LE);return{type:{videoCodec:(dt&1)===1,audioCodec:(dt&2)===2},codecName:await at(vt),description:await at(vt),information:await ht(vt)}}class Ct extends et{constructor(dt){super(dt)}get(dt,yt){const Rt=[];let Pt=yt+10;for(let Dt=0;Dt<Ct.contentDescTags.length;++Dt){const Ft=dt.readUInt16LE(yt+Dt*2);if(Ft>0){const Kt=Ct.contentDescTags[Dt],qt=Pt+Ft;Rt.push({id:Kt,value:j.AsfUtil.parseUnicodeAttr(dt.slice(Pt,qt))}),Pt=qt}}return Rt}}Ct.guid=$.default.ContentDescriptionObject,Ct.contentDescTags=["Title","Author","Copyright","Description","Rating"],a.ContentDescriptionObjectState=Ct;class lt extends et{constructor(dt){super(dt)}get(dt,yt){const Rt=[],Pt=dt.readUInt16LE(yt);let Dt=yt+2;for(let Ft=0;Ft<Pt;Ft+=1){const Kt=dt.readUInt16LE(Dt);Dt+=2;const qt=j.AsfUtil.parseUnicodeAttr(dt.slice(Dt,Dt+Kt));Dt+=Kt;const Zt=dt.readUInt16LE(Dt);Dt+=2;const er=dt.readUInt16LE(Dt);Dt+=2;const rr=dt.slice(Dt,Dt+er);Dt+=er,this.postProcessTag(Rt,qt,Zt,rr)}return Rt}}lt.guid=$.default.ExtendedContentDescriptionObject,a.ExtendedContentDescriptionObjectState=lt;class ft extends et{constructor(dt){super(dt)}get(dt,yt){return{startTime:s.UINT64_LE.get(dt,yt),endTime:s.UINT64_LE.get(dt,yt+8),dataBitrate:dt.readInt32LE(yt+12),bufferSize:dt.readInt32LE(yt+16),initialBufferFullness:dt.readInt32LE(yt+20),alternateDataBitrate:dt.readInt32LE(yt+24),alternateBufferSize:dt.readInt32LE(yt+28),alternateInitialBufferFullness:dt.readInt32LE(yt+32),maximumObjectSize:dt.readInt32LE(yt+36),flags:{reliableFlag:o.getBit(dt,yt+40,0),seekableFlag:o.getBit(dt,yt+40,1),resendLiveCleanpointsFlag:o.getBit(dt,yt+40,2)},streamNumber:dt.readInt16LE(yt+42),streamLanguageId:dt.readInt16LE(yt+44),averageTimePerFrame:dt.readInt32LE(yt+52),streamNameCount:dt.readInt32LE(yt+54),payloadExtensionSystems:dt.readInt32LE(yt+56),streamNames:[],streamPropertiesObject:null}}}ft.guid=$.default.ExtendedStreamPropertiesObject,a.ExtendedStreamPropertiesObjectState=ft;class gt extends et{constructor(dt){super(dt)}get(dt,yt){const Rt=[],Pt=Buffer.from(dt),Dt=Pt.readUInt16LE(yt);let Ft=yt+2;for(let Kt=0;Kt<Dt;Kt+=1){Ft+=4;const qt=Pt.readUInt16LE(Ft);Ft+=2;const Zt=Pt.readUInt16LE(Ft);Ft+=2;const er=Pt.readUInt32LE(Ft);Ft+=4;const rr=j.AsfUtil.parseUnicodeAttr(Pt.slice(Ft,Ft+qt));Ft+=qt;const Ot=Pt.slice(Ft,Ft+er);Ft+=er,this.postProcessTag(Rt,rr,Zt,Ot)}return Rt}}gt.guid=$.default.MetadataObject,a.MetadataObjectState=gt;class St extends gt{constructor(dt){super(dt)}}St.guid=$.default.MetadataLibraryObject,a.MetadataLibraryObjectState=St;class It{static fromBase64(dt){return this.fromBuffer(Buffer.from(dt,"base64"))}static fromBuffer(dt){return new It(dt.length).get(dt,0)}constructor(dt){this.len=dt}get(dt,yt){const Rt=dt.readUInt8(yt++),Pt=dt.readInt32LE(yt);let Dt=5;for(;dt.readUInt16BE(Dt)!==0;)Dt+=2;const Ft=dt.slice(5,Dt).toString("utf16le");for(;dt.readUInt16BE(Dt)!==0;)Dt+=2;const Kt=dt.slice(5,Dt).toString("utf16le");return{type:_e.AttachedPictureType[Rt],format:Ft,description:Kt,size:Pt,data:dt.slice(Dt+4)}}}a.WmPictureToken=It})(AsfObject$1);Object.defineProperty(AsfParser$1,"__esModule",{value:!0});AsfParser$1.AsfParser=void 0;const debug_1$j=browserExports,type_1$1=type,GUID_1=GUID$1,AsfObject=AsfObject$1,BasicParser_1$9=BasicParser$1,debug$j=(0,debug_1$j.default)("music-metadata:parser:ASF"),headerType="asf";class AsfParser extends BasicParser_1$9.BasicParser{async parse(){const o=await this.tokenizer.readToken(AsfObject.TopLevelHeaderObjectToken);if(!o.objectId.equals(GUID_1.default.HeaderObject))throw new Error("expected asf header; but was not found; got: "+o.objectId.str);try{await this.parseObjectHeader(o.numberOfHeaderObjects)}catch(s){debug$j("Error while parsing ASF: %s",s)}}async parseObjectHeader(o){let s;do{const $=await this.tokenizer.readToken(AsfObject.HeaderObjectToken);switch(debug$j("header GUID=%s",$.objectId.str),$.objectId.str){case AsfObject.FilePropertiesObject.guid.str:const j=await this.tokenizer.readToken(new AsfObject.FilePropertiesObject($));this.metadata.setFormat("duration",Number(j.playDuration/BigInt(1e3))/1e4-Number(j.preroll)/1e3),this.metadata.setFormat("bitrate",j.maximumBitrate);break;case AsfObject.StreamPropertiesObject.guid.str:const _e=await this.tokenizer.readToken(new AsfObject.StreamPropertiesObject($));this.metadata.setFormat("container","ASF/"+_e.streamType);break;case AsfObject.HeaderExtensionObject.guid.str:const et=await this.tokenizer.readToken(new AsfObject.HeaderExtensionObject);await this.parseExtensionObject(et.extensionDataSize);break;case AsfObject.ContentDescriptionObjectState.guid.str:s=await this.tokenizer.readToken(new AsfObject.ContentDescriptionObjectState($)),this.addTags(s);break;case AsfObject.ExtendedContentDescriptionObjectState.guid.str:s=await this.tokenizer.readToken(new AsfObject.ExtendedContentDescriptionObjectState($)),this.addTags(s);break;case GUID_1.default.CodecListObject.str:const tt=await AsfObject.readCodecEntries(this.tokenizer);tt.forEach(nt=>{this.metadata.addStreamInfo({type:nt.type.videoCodec?type_1$1.TrackType.video:type_1$1.TrackType.audio,codecName:nt.codecName})});const rt=tt.filter(nt=>nt.type.audioCodec).map(nt=>nt.codecName).join("/");this.metadata.setFormat("codec",rt);break;case GUID_1.default.StreamBitratePropertiesObject.str:await this.tokenizer.ignore($.objectSize-AsfObject.HeaderObjectToken.len);break;case GUID_1.default.PaddingObject.str:debug$j("Padding: %s bytes",$.objectSize-AsfObject.HeaderObjectToken.len),await this.tokenizer.ignore($.objectSize-AsfObject.HeaderObjectToken.len);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+$.objectId.str),debug$j("Ignore ASF-Object-GUID: %s",$.objectId.str),await this.tokenizer.readToken(new AsfObject.IgnoreObjectState($))}}while(--o)}addTags(o){o.forEach(s=>{this.metadata.addTag(headerType,s.id,s.value)})}async parseExtensionObject(o){do{const s=await this.tokenizer.readToken(AsfObject.HeaderObjectToken),$=s.objectSize-AsfObject.HeaderObjectToken.len;switch(s.objectId.str){case AsfObject.ExtendedStreamPropertiesObjectState.guid.str:await this.tokenizer.readToken(new AsfObject.ExtendedStreamPropertiesObjectState(s));break;case AsfObject.MetadataObjectState.guid.str:const j=await this.tokenizer.readToken(new AsfObject.MetadataObjectState(s));this.addTags(j);break;case AsfObject.MetadataLibraryObjectState.guid.str:const _e=await this.tokenizer.readToken(new AsfObject.MetadataLibraryObjectState(s));this.addTags(_e);break;case GUID_1.default.PaddingObject.str:await this.tokenizer.ignore($);break;case GUID_1.default.CompatibilityObject.str:this.tokenizer.ignore($);break;case GUID_1.default.ASF_Index_Placeholder_Object.str:await this.tokenizer.ignore($);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+s.objectId.str),await this.tokenizer.readToken(new AsfObject.IgnoreObjectState(s));break}o-=s.objectSize}while(o>0)}}AsfParser$1.AsfParser=AsfParser;var FlacParser$1={},Vorbis={};Object.defineProperty(Vorbis,"__esModule",{value:!0});Vorbis.IdentificationHeader=Vorbis.CommonHeader=Vorbis.VorbisPictureToken=void 0;const Token$l=lib$1,ID3v2Token_1$1=ID3v2Token;class VorbisPictureToken{static fromBase64(o){return this.fromBuffer(Buffer.from(o,"base64"))}static fromBuffer(o){return new VorbisPictureToken(o.length).get(o,0)}constructor(o){this.len=o}get(o,s){const $=ID3v2Token_1$1.AttachedPictureType[Token$l.UINT32_BE.get(o,s)],j=Token$l.UINT32_BE.get(o,s+=4),_e=o.toString("utf-8",s+=4,s+j),et=Token$l.UINT32_BE.get(o,s+=j),tt=o.toString("utf-8",s+=4,s+et),rt=Token$l.UINT32_BE.get(o,s+=et),nt=Token$l.UINT32_BE.get(o,s+=4),it=Token$l.UINT32_BE.get(o,s+=4),ot=Token$l.UINT32_BE.get(o,s+=4),at=Token$l.UINT32_BE.get(o,s+=4),ut=Buffer.from(o.slice(s+=4,s+at));return{type:$,format:_e,description:tt,width:rt,height:nt,colour_depth:it,indexed_color:ot,data:ut}}}Vorbis.VorbisPictureToken=VorbisPictureToken;Vorbis.CommonHeader={len:7,get:(a,o)=>({packetType:a.readUInt8(o),vorbis:new Token$l.StringType(6,"ascii").get(a,o+1)})};Vorbis.IdentificationHeader={len:23,get:(a,o)=>{const s=new DataView(a.buffer,a.byteOffset);return{version:s.getUint32(o+0,!0),channelMode:s.getUint8(o+4),sampleRate:s.getUint32(o+5,!0),bitrateMax:s.getUint32(o+9,!0),bitrateNominal:s.getUint32(o+13,!0),bitrateMin:s.getUint32(o+17,!0)}}};var AbstractID3Parser$1={};Object.defineProperty(AbstractID3Parser$1,"__esModule",{value:!0});AbstractID3Parser$1.AbstractID3Parser=void 0;const core_1$2=core$1,debug_1$i=browserExports,ID3v2Token_1=ID3v2Token,ID3v2Parser_1$3=ID3v2Parser$1,ID3v1Parser_1$2=ID3v1Parser,BasicParser_1$8=BasicParser$1,debug$i=(0,debug_1$i.default)("music-metadata:parser:ID3");class AbstractID3Parser extends BasicParser_1$8.BasicParser{constructor(){super(...arguments),this.id3parser=new ID3v2Parser_1$3.ID3v2Parser}static async startsWithID3v2Header(o){return(await o.peekToken(ID3v2Token_1.ID3v2Header)).fileIdentifier==="ID3"}async parse(){try{await this.parseID3v2()}catch(o){if(o instanceof core_1$2.EndOfStreamError)debug$i("End-of-stream");else throw o}}finalize(){}async parseID3v2(){await this.tryReadId3v2Headers(),debug$i("End of ID3v2 header, go to MPEG-parser: pos=%s",this.tokenizer.position),await this.postId3v2Parse(),this.options.skipPostHeaders&&this.metadata.hasAny()?this.finalize():(await new ID3v1Parser_1$2.ID3v1Parser().init(this.metadata,this.tokenizer,this.options).parse(),this.finalize())}async tryReadId3v2Headers(){if((await this.tokenizer.peekToken(ID3v2Token_1.ID3v2Header)).fileIdentifier==="ID3")return debug$i("Found ID3v2 header, pos=%s",this.tokenizer.position),await this.id3parser.parse(this.metadata,this.tokenizer,this.options),this.tryReadId3v2Headers()}}AbstractID3Parser$1.AbstractID3Parser=AbstractID3Parser;var VorbisParser$1={},VorbisDecoder$1={};Object.defineProperty(VorbisDecoder$1,"__esModule",{value:!0});VorbisDecoder$1.VorbisDecoder=void 0;const Token$k=lib$1;class VorbisDecoder{constructor(o,s){this.data=o,this.offset=s}readInt32(){const o=Token$k.UINT32_LE.get(this.data,this.offset);return this.offset+=4,o}readStringUtf8(){const o=this.readInt32(),s=Buffer.from(this.data).toString("utf-8",this.offset,this.offset+o);return this.offset+=o,s}parseUserComment(){const o=this.offset,s=this.readStringUtf8(),$=s.indexOf("=");return{key:s.slice(0,$).toUpperCase(),value:s.slice($+1),len:this.offset-o}}}VorbisDecoder$1.VorbisDecoder=VorbisDecoder;Object.defineProperty(VorbisParser$1,"__esModule",{value:!0});VorbisParser$1.VorbisParser=void 0;const Token$j=lib$1,debug_1$h=browserExports,VorbisDecoder_1$1=VorbisDecoder$1,Vorbis_1$1=Vorbis,debug$h=(0,debug_1$h.default)("music-metadata:parser:ogg:vorbis1");class VorbisParser{constructor(o,s){this.metadata=o,this.options=s,this.pageSegments=[]}parsePage(o,s){if(o.headerType.firstPage)this.parseFirstPage(o,s);else{if(o.headerType.continued){if(this.pageSegments.length===0)throw new Error("Cannot continue on previous page");this.pageSegments.push(s)}if(o.headerType.lastPage||!o.headerType.continued){if(this.pageSegments.length>0){const $=Buffer.concat(this.pageSegments);this.parseFullPage($)}this.pageSegments=o.headerType.lastPage?[]:[s]}}o.headerType.lastPage&&this.calculateDuration(o)}flush(){this.parseFullPage(Buffer.concat(this.pageSegments))}parseUserComment(o,s){const j=new VorbisDecoder_1$1.VorbisDecoder(o,s).parseUserComment();return this.addTag(j.key,j.value),j.len}addTag(o,s){if(o==="METADATA_BLOCK_PICTURE"&&typeof s=="string"){if(this.options.skipCovers){debug$h("Ignore picture");return}s=Vorbis_1$1.VorbisPictureToken.fromBase64(s),debug$h(`Push picture: id=${o}, format=${s.format}`)}else debug$h(`Push tag: id=${o}, value=${s}`);this.metadata.addTag("vorbis",o,s)}calculateDuration(o){this.metadata.format.sampleRate&&o.absoluteGranulePosition>=0&&(this.metadata.setFormat("numberOfSamples",o.absoluteGranulePosition),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate))}parseFirstPage(o,s){this.metadata.setFormat("codec","Vorbis I"),debug$h("Parse first page");const $=Vorbis_1$1.CommonHeader.get(s,0);if($.vorbis!=="vorbis")throw new Error("Metadata does not look like Vorbis");if($.packetType===1){const j=Vorbis_1$1.IdentificationHeader.get(s,Vorbis_1$1.CommonHeader.len);this.metadata.setFormat("sampleRate",j.sampleRate),this.metadata.setFormat("bitrate",j.bitrateNominal),this.metadata.setFormat("numberOfChannels",j.channelMode),debug$h("sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s",j.sampleRate,j.bitrateNominal,j.channelMode)}else throw new Error("First Ogg page should be type 1: the identification header")}parseFullPage(o){const s=Vorbis_1$1.CommonHeader.get(o,0);switch(debug$h("Parse full page: type=%s, byteLength=%s",s.packetType,o.byteLength),s.packetType){case 3:return this.parseUserCommentList(o,Vorbis_1$1.CommonHeader.len)}}parseUserCommentList(o,s){const $=Token$j.UINT32_LE.get(o,s);s+=4,s+=$;let j=Token$j.UINT32_LE.get(o,s);for(s+=4;j-- >0;)s+=this.parseUserComment(o,s)}}VorbisParser$1.VorbisParser=VorbisParser;Object.defineProperty(FlacParser$1,"__esModule",{value:!0});FlacParser$1.FlacParser=void 0;const token_types_1$1=lib$1,debug_1$g=browserExports,util$5=Util,Vorbis_1=Vorbis,AbstractID3Parser_1$3=AbstractID3Parser$1,FourCC_1$7=FourCC,VorbisParser_1$3=VorbisParser$1,VorbisDecoder_1=VorbisDecoder$1,debug$g=(0,debug_1$g.default)("music-metadata:parser:FLAC");var BlockType;(function(a){a[a.STREAMINFO=0]="STREAMINFO",a[a.PADDING=1]="PADDING",a[a.APPLICATION=2]="APPLICATION",a[a.SEEKTABLE=3]="SEEKTABLE",a[a.VORBIS_COMMENT=4]="VORBIS_COMMENT",a[a.CUESHEET=5]="CUESHEET",a[a.PICTURE=6]="PICTURE"})(BlockType||(BlockType={}));class FlacParser extends AbstractID3Parser_1$3.AbstractID3Parser{constructor(){super(...arguments),this.padding=0}init(o,s,$){return super.init(o,s,$),this.vorbisParser=new VorbisParser_1$3.VorbisParser(o,$),this}async postId3v2Parse(){if((await this.tokenizer.readToken(FourCC_1$7.FourCcToken)).toString()!=="fLaC")throw new Error("Invalid FLAC preamble");let s;do s=await this.tokenizer.readToken(Metadata.BlockHeader),await this.parseDataBlock(s);while(!s.lastBlock);if(this.tokenizer.fileInfo.size&&this.metadata.format.duration){const $=this.tokenizer.fileInfo.size-this.tokenizer.position;this.metadata.setFormat("bitrate",8*$/this.metadata.format.duration)}}parseDataBlock(o){switch(debug$g(`blockHeader type=${o.type}, length=${o.length}`),o.type){case BlockType.STREAMINFO:return this.parseBlockStreamInfo(o.length);case BlockType.PADDING:this.padding+=o.length;break;case BlockType.APPLICATION:break;case BlockType.SEEKTABLE:break;case BlockType.VORBIS_COMMENT:return this.parseComment(o.length);case BlockType.CUESHEET:break;case BlockType.PICTURE:return this.parsePicture(o.length).then();default:this.metadata.addWarning("Unknown block type: "+o.type)}return this.tokenizer.ignore(o.length).then()}async parseBlockStreamInfo(o){if(o!==Metadata.BlockStreamInfo.len)throw new Error("Unexpected block-stream-info length");const s=await this.tokenizer.readToken(Metadata.BlockStreamInfo);this.metadata.setFormat("container","FLAC"),this.metadata.setFormat("codec","FLAC"),this.metadata.setFormat("lossless",!0),this.metadata.setFormat("numberOfChannels",s.channels),this.metadata.setFormat("bitsPerSample",s.bitsPerSample),this.metadata.setFormat("sampleRate",s.sampleRate),s.totalSamples>0&&this.metadata.setFormat("duration",s.totalSamples/s.sampleRate)}async parseComment(o){const s=await this.tokenizer.readToken(new token_types_1$1.Uint8ArrayType(o)),$=new VorbisDecoder_1.VorbisDecoder(s,0);$.readStringUtf8();const j=$.readInt32();for(let _e=0;_e<j;_e++){const et=$.parseUserComment();this.vorbisParser.addTag(et.key,et.value)}}async parsePicture(o){if(this.options.skipCovers)return this.tokenizer.ignore(o);{const s=await this.tokenizer.readToken(new Vorbis_1.VorbisPictureToken(o));this.vorbisParser.addTag("METADATA_BLOCK_PICTURE",s)}}}FlacParser$1.FlacParser=FlacParser;class Metadata{}Metadata.BlockHeader={len:4,get:(a,o)=>({lastBlock:util$5.getBit(a,o,7),type:util$5.getBitAllignedNumber(a,o,1,7),length:token_types_1$1.UINT24_BE.get(a,o+1)})};Metadata.BlockStreamInfo={len:34,get:(a,o)=>({minimumBlockSize:token_types_1$1.UINT16_BE.get(a,o),maximumBlockSize:token_types_1$1.UINT16_BE.get(a,o+2)/1e3,minimumFrameSize:token_types_1$1.UINT24_BE.get(a,o+4),maximumFrameSize:token_types_1$1.UINT24_BE.get(a,o+7),sampleRate:token_types_1$1.UINT24_BE.get(a,o+10)>>4,channels:util$5.getBitAllignedNumber(a,o+12,4,3)+1,bitsPerSample:util$5.getBitAllignedNumber(a,o+12,7,5)+1,totalSamples:util$5.getBitAllignedNumber(a,o+13,4,36),fileMD5:new token_types_1$1.Uint8ArrayType(16).get(a,o+18)})};var MP4Parser$1={},Atom$1={},AtomToken$2={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ChapterText=a.StcoAtom=a.StszAtom=a.StscAtom=a.SampleToChunkToken=a.SttsAtom=a.TimeToSampleToken=a.SoundSampleDescriptionV0=a.SoundSampleDescriptionVersion=a.StsdAtom=a.TrackHeaderAtom=a.NameAtom=a.DataAtom=a.MvhdAtom=a.MdhdAtom=a.FixedLengthAtom=a.mhdr=a.tkhd=a.ftyp=a.ExtendedSize=a.Header=void 0;const o=lib$1,s=browserExports,$=FourCC,j=(0,s.default)("music-metadata:parser:MP4:atom");a.Header={len:8,get:(vt,dt)=>{const yt=o.UINT32_BE.get(vt,dt);if(yt<0)throw new Error("Invalid atom header length");return{length:BigInt(yt),name:new o.StringType(4,"binary").get(vt,dt+4)}},put:(vt,dt,yt)=>(o.UINT32_BE.put(vt,dt,Number(yt.length)),$.FourCcToken.put(vt,dt+4,yt.name))},a.ExtendedSize=o.UINT64_BE,a.ftyp={len:4,get:(vt,dt)=>({type:new o.StringType(4,"ascii").get(vt,dt)})},a.tkhd={len:4,get:(vt,dt)=>({type:new o.StringType(4,"ascii").get(vt,dt)})},a.mhdr={len:8,get:(vt,dt)=>({version:o.UINT8.get(vt,dt),flags:o.UINT24_BE.get(vt,dt+1),nextItemID:o.UINT32_BE.get(vt,dt+4)})};class _e{constructor(dt,yt,Rt){if(this.len=dt,dt<yt)throw new Error(`Atom ${Rt} expected to be ${yt}, but specifies ${dt} bytes long.`);dt>yt&&j(`Warning: atom ${Rt} expected to be ${yt}, but was actually ${dt} bytes long.`)}}a.FixedLengthAtom=_e;const et={len:4,get:(vt,dt)=>{const yt=o.UINT32_BE.get(vt,dt)-2082844800;return new Date(yt*1e3)}};class tt extends _e{constructor(dt){super(dt,24,"mdhd"),this.len=dt}get(dt,yt){return{version:o.UINT8.get(dt,yt+0),flags:o.UINT24_BE.get(dt,yt+1),creationTime:et.get(dt,yt+4),modificationTime:et.get(dt,yt+8),timeScale:o.UINT32_BE.get(dt,yt+12),duration:o.UINT32_BE.get(dt,yt+16),language:o.UINT16_BE.get(dt,yt+20),quality:o.UINT16_BE.get(dt,yt+22)}}}a.MdhdAtom=tt;class rt extends _e{constructor(dt){super(dt,100,"mvhd"),this.len=dt}get(dt,yt){return{version:o.UINT8.get(dt,yt),flags:o.UINT24_BE.get(dt,yt+1),creationTime:et.get(dt,yt+4),modificationTime:et.get(dt,yt+8),timeScale:o.UINT32_BE.get(dt,yt+12),duration:o.UINT32_BE.get(dt,yt+16),preferredRate:o.UINT32_BE.get(dt,yt+20),preferredVolume:o.UINT16_BE.get(dt,yt+24),previewTime:o.UINT32_BE.get(dt,yt+72),previewDuration:o.UINT32_BE.get(dt,yt+76),posterTime:o.UINT32_BE.get(dt,yt+80),selectionTime:o.UINT32_BE.get(dt,yt+84),selectionDuration:o.UINT32_BE.get(dt,yt+88),currentTime:o.UINT32_BE.get(dt,yt+92),nextTrackID:o.UINT32_BE.get(dt,yt+96)}}}a.MvhdAtom=rt;class nt{constructor(dt){this.len=dt}get(dt,yt){return{type:{set:o.UINT8.get(dt,yt+0),type:o.UINT24_BE.get(dt,yt+1)},locale:o.UINT24_BE.get(dt,yt+4),value:Buffer.from(new o.Uint8ArrayType(this.len-8).get(dt,yt+8))}}}a.DataAtom=nt;class it{constructor(dt){this.len=dt}get(dt,yt){return{version:o.UINT8.get(dt,yt),flags:o.UINT24_BE.get(dt,yt+1),name:new o.StringType(this.len-4,"utf-8").get(dt,yt+4)}}}a.NameAtom=it;class ot{constructor(dt){this.len=dt}get(dt,yt){return{version:o.UINT8.get(dt,yt),flags:o.UINT24_BE.get(dt,yt+1),creationTime:et.get(dt,yt+4),modificationTime:et.get(dt,yt+8),trackId:o.UINT32_BE.get(dt,yt+12),duration:o.UINT32_BE.get(dt,yt+20),layer:o.UINT16_BE.get(dt,yt+24),alternateGroup:o.UINT16_BE.get(dt,yt+26),volume:o.UINT16_BE.get(dt,yt+28)}}}a.TrackHeaderAtom=ot;const at={len:8,get:(vt,dt)=>({version:o.UINT8.get(vt,dt),flags:o.UINT24_BE.get(vt,dt+1),numberOfEntries:o.UINT32_BE.get(vt,dt+4)})};class ut{constructor(dt){this.len=dt}get(dt,yt){return{dataFormat:$.FourCcToken.get(dt,yt),dataReferenceIndex:o.UINT16_BE.get(dt,yt+10),description:new o.Uint8ArrayType(this.len-12).get(dt,yt+12)}}}class ht{constructor(dt){this.len=dt}get(dt,yt){const Rt=at.get(dt,yt);yt+=at.len;const Pt=[];for(let Dt=0;Dt<Rt.numberOfEntries;++Dt){const Ft=o.UINT32_BE.get(dt,yt);yt+=o.UINT32_BE.len,Pt.push(new ut(Ft).get(dt,yt)),yt+=Ft}return{header:Rt,table:Pt}}}a.StsdAtom=ht,a.SoundSampleDescriptionVersion={len:8,get(vt,dt){return{version:o.INT16_BE.get(vt,dt),revision:o.INT16_BE.get(vt,dt+2),vendor:o.INT32_BE.get(vt,dt+4)}}},a.SoundSampleDescriptionV0={len:12,get(vt,dt){return{numAudioChannels:o.INT16_BE.get(vt,dt+0),sampleSize:o.INT16_BE.get(vt,dt+2),compressionId:o.INT16_BE.get(vt,dt+4),packetSize:o.INT16_BE.get(vt,dt+6),sampleRate:o.UINT16_BE.get(vt,dt+8)+o.UINT16_BE.get(vt,dt+10)/1e4}}};class pt{constructor(dt,yt){this.len=dt,this.token=yt}get(dt,yt){const Rt=o.INT32_BE.get(dt,yt+4);return{version:o.INT8.get(dt,yt+0),flags:o.INT24_BE.get(dt,yt+1),numberOfEntries:Rt,entries:It(dt,this.token,yt+8,this.len-8,Rt)}}}a.TimeToSampleToken={len:8,get(vt,dt){return{count:o.INT32_BE.get(vt,dt+0),duration:o.INT32_BE.get(vt,dt+4)}}};class Ct extends pt{constructor(dt){super(dt,a.TimeToSampleToken),this.len=dt}}a.SttsAtom=Ct,a.SampleToChunkToken={len:12,get(vt,dt){return{firstChunk:o.INT32_BE.get(vt,dt),samplesPerChunk:o.INT32_BE.get(vt,dt+4),sampleDescriptionId:o.INT32_BE.get(vt,dt+8)}}};class lt extends pt{constructor(dt){super(dt,a.SampleToChunkToken),this.len=dt}}a.StscAtom=lt;class ft{constructor(dt){this.len=dt}get(dt,yt){const Rt=o.INT32_BE.get(dt,yt+8);return{version:o.INT8.get(dt,yt),flags:o.INT24_BE.get(dt,yt+1),sampleSize:o.INT32_BE.get(dt,yt+4),numberOfEntries:Rt,entries:It(dt,o.INT32_BE,yt+12,this.len-12,Rt)}}}a.StszAtom=ft;class gt extends pt{constructor(dt){super(dt,o.INT32_BE),this.len=dt}}a.StcoAtom=gt;class St{constructor(dt){this.len=dt}get(dt,yt){const Rt=o.INT16_BE.get(dt,yt+0);return new o.StringType(Rt,"utf-8").get(dt,yt+2)}}a.ChapterText=St;function It(vt,dt,yt,Rt,Pt){if(j(`remainingLen=${Rt}, numberOfEntries=${Pt} * token-len=${dt.len}`),Rt===0)return[];if(Rt!==Pt*dt.len)throw new Error("mismatch number-of-entries with remaining atom-length");const Dt=[];for(let Ft=0;Ft<Pt;++Ft)Dt.push(dt.get(vt,yt)),yt+=dt.len;return Dt}})(AtomToken$2);Object.defineProperty(Atom$1,"__esModule",{value:!0});Atom$1.Atom=void 0;const debug_1$f=browserExports,AtomToken$1=AtomToken$2,debug$f=(0,debug_1$f.default)("music-metadata:parser:MP4:Atom");class Atom{static async readAtom(o,s,$,j){const _e=o.position,et=await o.readToken(AtomToken$1.Header);et.length===BigInt(1)&&(et.length=await o.readToken(AtomToken$1.ExtendedSize));const rt=new Atom(et,et.length===BigInt(1),$),nt=rt.getPayloadLength(j);return debug$f(`parse atom name=${rt.atomPath}, extended=${rt.extended}, offset=${_e}, len=${rt.header.length}`),await rt.readData(o,s,nt),rt}constructor(o,s,$){this.header=o,this.extended=s,this.parent=$,this.children=[],this.atomPath=(this.parent?this.parent.atomPath+".":"")+this.header.name}getHeaderLength(){return this.extended?16:8}getPayloadLength(o){return(this.header.length===BigInt(0)?o:Number(this.header.length))-this.getHeaderLength()}async readAtoms(o,s,$){for(;$>0;){const j=await Atom.readAtom(o,s,this,$);this.children.push(j),$-=j.header.length===BigInt(0)?$:Number(j.header.length)}}async readData(o,s,$){switch(this.header.name){case"moov":case"udta":case"trak":case"mdia":case"minf":case"stbl":case"<id>":case"ilst":case"tref":return this.readAtoms(o,s,this.getPayloadLength($));case"meta":const _e=(await o.peekToken(AtomToken$1.Header)).name==="hdlr"?0:4;return await o.ignore(_e),this.readAtoms(o,s,this.getPayloadLength($)-_e);case"mdhd":case"mvhd":case"tkhd":case"stsz":case"mdat":default:return s(this,$)}}}Atom$1.Atom=Atom;Object.defineProperty(MP4Parser$1,"__esModule",{value:!0});MP4Parser$1.MP4Parser=void 0;const debug_1$e=browserExports,Token$i=lib$1,BasicParser_1$7=BasicParser$1,ID3v1Parser_1$1=ID3v1Parser,type_1=type,Atom_1=Atom$1,AtomToken=AtomToken$2,debug$e=(0,debug_1$e.default)("music-metadata:parser:MP4"),tagFormat="iTunes",encoderDict={raw:{lossy:!1,format:"raw"},MAC3:{lossy:!0,format:"MACE 3:1"},MAC6:{lossy:!0,format:"MACE 6:1"},ima4:{lossy:!0,format:"IMA 4:1"},ulaw:{lossy:!0,format:"uLaw 2:1"},alaw:{lossy:!0,format:"uLaw 2:1"},Qclp:{lossy:!0,format:"QUALCOMM PureVoice"},".mp3":{lossy:!0,format:"MPEG-1 layer 3"},alac:{lossy:!1,format:"ALAC"},"ac-3":{lossy:!0,format:"AC-3"},mp4a:{lossy:!0,format:"MPEG-4/AAC"},mp4s:{lossy:!0,format:"MP4S"},c608:{lossy:!0,format:"CEA-608"},c708:{lossy:!0,format:"CEA-708"}};function distinct(a,o,s){return s.indexOf(a)===o}class MP4Parser extends BasicParser_1$7.BasicParser{constructor(){super(...arguments),this.atomParsers={mvhd:async o=>{const s=await this.tokenizer.readToken(new AtomToken.MvhdAtom(o));this.metadata.setFormat("creationTime",s.creationTime),this.metadata.setFormat("modificationTime",s.modificationTime)},mdhd:async o=>{const s=await this.tokenizer.readToken(new AtomToken.MdhdAtom(o)),$=this.getTrackDescription();$.creationTime=s.creationTime,$.modificationTime=s.modificationTime,$.timeScale=s.timeScale,$.duration=s.duration},chap:async o=>{const s=this.getTrackDescription(),$=[];for(;o>=Token$i.UINT32_BE.len;)$.push(await this.tokenizer.readNumber(Token$i.UINT32_BE)),o-=Token$i.UINT32_BE.len;s.chapterList=$},tkhd:async o=>{const s=await this.tokenizer.readToken(new AtomToken.TrackHeaderAtom(o));this.tracks.push(s)},mdat:async o=>{if(this.audioLengthInBytes=o,this.calculateBitRate(),this.options.includeChapters){const s=this.tracks.filter($=>$.chapterList);if(s.length===1){const $=s[0].chapterList,j=this.tracks.filter(_e=>$.indexOf(_e.trackId)!==-1);if(j.length===1)return this.parseChapterTrack(j[0],s[0],o)}}await this.tokenizer.ignore(o)},ftyp:async o=>{const s=[];for(;o>0;){const j=await this.tokenizer.readToken(AtomToken.ftyp);o-=AtomToken.ftyp.len;const _e=j.type.replace(/\W/g,"");_e.length>0&&s.push(_e)}debug$e(`ftyp: ${s.join("/")}`);const $=s.filter(distinct).join("/");this.metadata.setFormat("container",$)},stsd:async o=>{const s=await this.tokenizer.readToken(new AtomToken.StsdAtom(o)),$=this.getTrackDescription();$.soundSampleDescription=s.table.map(j=>this.parseSoundSampleDescription(j))},stsc:async o=>{const s=await this.tokenizer.readToken(new AtomToken.StscAtom(o));this.getTrackDescription().sampleToChunkTable=s.entries},stts:async o=>{const s=await this.tokenizer.readToken(new AtomToken.SttsAtom(o));this.getTrackDescription().timeToSampleTable=s.entries},stsz:async o=>{const s=await this.tokenizer.readToken(new AtomToken.StszAtom(o)),$=this.getTrackDescription();$.sampleSize=s.sampleSize,$.sampleSizeTable=s.entries},stco:async o=>{const s=await this.tokenizer.readToken(new AtomToken.StcoAtom(o));this.getTrackDescription().chunkOffsetTable=s.entries},date:async o=>{const s=await this.tokenizer.readToken(new Token$i.StringType(o,"utf-8"));this.addTag("date",s)}}}static read_BE_Integer(o,s){const $=(s?"INT":"UINT")+o.length*8+(o.length>1?"_BE":""),j=Token$i[$];if(!j)throw new Error('Token for integer type not found: "'+$+'"');return Number(j.get(o,0))}async parse(){this.tracks=[];let o=this.tokenizer.fileInfo.size;for(;!this.tokenizer.fileInfo.size||o>0;){try{if((await this.tokenizer.peekToken(AtomToken.Header)).name==="\0\0\0\0"){const et=`Error at offset=${this.tokenizer.position}: box.id=0`;debug$e(et),this.addWarning(et);break}}catch(_e){const et=`Error at offset=${this.tokenizer.position}: ${_e.message}`;debug$e(et),this.addWarning(et);break}const j=await Atom_1.Atom.readAtom(this.tokenizer,(_e,et)=>this.handleAtom(_e,et),null,o);o-=j.header.length===BigInt(0)?o:Number(j.header.length)}const s=[];this.tracks.forEach(j=>{const _e=[];j.soundSampleDescription.forEach(et=>{const tt={},rt=encoderDict[et.dataFormat];if(rt?(_e.push(rt.format),tt.codecName=rt.format):tt.codecName=`<${et.dataFormat}>`,et.description){const{description:nt}=et;nt.sampleRate>0&&(tt.type=type_1.TrackType.audio,tt.audio={samplingFrequency:nt.sampleRate,bitDepth:nt.sampleSize,channels:nt.numAudioChannels})}this.metadata.addStreamInfo(tt)}),_e.length>=1&&s.push(_e.join("/"))}),s.length>0&&this.metadata.setFormat("codec",s.filter(distinct).join("+"));const $=this.tracks.filter(j=>j.soundSampleDescription.length>=1&&j.soundSampleDescription[0].description&&j.soundSampleDescription[0].description.numAudioChannels>0);if($.length>=1){const j=$[0],_e=j.duration/j.timeScale;this.metadata.setFormat("duration",_e);const et=j.soundSampleDescription[0];et.description&&(this.metadata.setFormat("sampleRate",et.description.sampleRate),this.metadata.setFormat("bitsPerSample",et.description.sampleSize),this.metadata.setFormat("numberOfChannels",et.description.numAudioChannels));const tt=encoderDict[et.dataFormat];tt&&this.metadata.setFormat("lossless",!tt.lossy),this.calculateBitRate()}}async handleAtom(o,s){if(o.parent)switch(o.parent.header.name){case"ilst":case"<id>":return this.parseMetadataItemData(o)}if(this.atomParsers[o.header.name])return this.atomParsers[o.header.name](s);debug$e(`No parser for atom path=${o.atomPath}, payload-len=${s}, ignoring atom`),await this.tokenizer.ignore(s)}getTrackDescription(){return this.tracks[this.tracks.length-1]}calculateBitRate(){this.audioLengthInBytes&&this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*this.audioLengthInBytes/this.metadata.format.duration)}addTag(o,s){this.metadata.addTag(tagFormat,o,s)}addWarning(o){debug$e("Warning: "+o),this.metadata.addWarning(o)}parseMetadataItemData(o){let s=o.header.name;return o.readAtoms(this.tokenizer,async($,j)=>{const _e=$.getPayloadLength(j);switch($.header.name){case"data":return this.parseValueAtom(s,$);case"name":const et=await this.tokenizer.readToken(new AtomToken.NameAtom(_e));s+=":"+et.name;break;case"mean":const tt=await this.tokenizer.readToken(new AtomToken.NameAtom(_e));s+=":"+tt.name;break;default:const rt=await this.tokenizer.readToken(new Token$i.BufferType(_e));this.addWarning("Unsupported meta-item: "+s+"["+$.header.name+"] => value="+rt.toString("hex")+" ascii="+rt.toString("ascii"))}},o.getPayloadLength(0))}async parseValueAtom(o,s){const $=await this.tokenizer.readToken(new AtomToken.DataAtom(Number(s.header.length)-AtomToken.Header.len));if($.type.set!==0)throw new Error("Unsupported type-set != 0: "+$.type.set);switch($.type.type){case 0:switch(o){case"trkn":case"disk":const j=Token$i.UINT8.get($.value,3),_e=Token$i.UINT8.get($.value,5);this.addTag(o,j+"/"+_e);break;case"gnre":const et=Token$i.UINT8.get($.value,1),tt=ID3v1Parser_1$1.Genres[et-1];this.addTag(o,tt);break}break;case 1:case 18:this.addTag(o,$.value.toString("utf-8"));break;case 13:if(this.options.skipCovers)break;this.addTag(o,{format:"image/jpeg",data:Buffer.from($.value)});break;case 14:if(this.options.skipCovers)break;this.addTag(o,{format:"image/png",data:Buffer.from($.value)});break;case 21:this.addTag(o,MP4Parser.read_BE_Integer($.value,!0));break;case 22:this.addTag(o,MP4Parser.read_BE_Integer($.value,!1));break;case 65:this.addTag(o,$.value.readInt8(0));break;case 66:this.addTag(o,$.value.readInt16BE(0));break;case 67:this.addTag(o,$.value.readInt32BE(0));break;default:this.addWarning(`atom key=${o}, has unknown well-known-type (data-type): ${$.type.type}`)}}parseSoundSampleDescription(o){const s={dataFormat:o.dataFormat,dataReferenceIndex:o.dataReferenceIndex};let $=0;const j=AtomToken.SoundSampleDescriptionVersion.get(o.description,$);return $+=AtomToken.SoundSampleDescriptionVersion.len,j.version===0||j.version===1?s.description=AtomToken.SoundSampleDescriptionV0.get(o.description,$):debug$e(`Warning: sound-sample-description ${j} not implemented`),s}async parseChapterTrack(o,s,$){if(!o.sampleSize&&o.chunkOffsetTable.length!==o.sampleSizeTable.length)throw new Error("Expected equal chunk-offset-table & sample-size-table length.");const j=[];for(let _e=0;_e<o.chunkOffsetTable.length&&$>0;++_e){const tt=o.chunkOffsetTable[_e]-this.tokenizer.position,rt=o.sampleSize>0?o.sampleSize:o.sampleSizeTable[_e];if($-=tt+rt,$<0)throw new Error("Chapter chunk exceeding token length");await this.tokenizer.ignore(tt);const nt=await this.tokenizer.readToken(new AtomToken.ChapterText(rt));debug$e(`Chapter ${_e+1}: ${nt}`);const it={title:nt,sampleOffset:this.findSampleOffset(s,this.tokenizer.position)};debug$e(`Chapter title=${it.title}, offset=${it.sampleOffset}/${this.tracks[0].duration}`),j.push(it)}this.metadata.setFormat("chapters",j),await this.tokenizer.ignore($)}findSampleOffset(o,s){let $=0;o.timeToSampleTable.forEach(_e=>{$+=_e.count*_e.duration}),debug$e(`Total duration=${$}`);let j=0;for(;j<o.chunkOffsetTable.length&&o.chunkOffsetTable[j]<s;)++j;return this.getChunkDuration(j+1,o)}getChunkDuration(o,s){let $=0,j=s.timeToSampleTable[$].count,_e=s.timeToSampleTable[$].duration,et=1,tt=this.getSamplesPerChunk(et,s.sampleToChunkTable),rt=0;for(;et<o;){const nt=Math.min(j,tt);rt+=nt*_e,j-=nt,tt-=nt,tt===0?(++et,tt=this.getSamplesPerChunk(et,s.sampleToChunkTable)):(++$,j=s.timeToSampleTable[$].count,_e=s.timeToSampleTable[$].duration)}return rt}getSamplesPerChunk(o,s){for(let $=0;$<s.length-1;++$)if(o>=s[$].firstChunk&&o<s[$+1].firstChunk)return s[$].samplesPerChunk;return s[s.length-1].samplesPerChunk}}MP4Parser$1.MP4Parser=MP4Parser;var MpegParser$1={},XingTag={},ExtendedLameHeader={},ReplayGainDataFormat={};Object.defineProperty(ReplayGainDataFormat,"__esModule",{value:!0});ReplayGainDataFormat.ReplayGain=void 0;const common$2=Util;var NameCode;(function(a){a[a.not_set=0]="not_set",a[a.radio=1]="radio",a[a.audiophile=2]="audiophile"})(NameCode||(NameCode={}));var ReplayGainOriginator;(function(a){a[a.unspecified=0]="unspecified",a[a.engineer=1]="engineer",a[a.user=2]="user",a[a.automatic=3]="automatic",a[a.rms_average=4]="rms_average"})(ReplayGainOriginator||(ReplayGainOriginator={}));ReplayGainDataFormat.ReplayGain={len:2,get:(a,o)=>{const s=common$2.getBitAllignedNumber(a,o,0,3),$=common$2.getBitAllignedNumber(a,o,6,1),j=common$2.getBitAllignedNumber(a,o,7,9)/10;if(s>0)return{type:common$2.getBitAllignedNumber(a,o,0,3),origin:common$2.getBitAllignedNumber(a,o,3,3),adjustment:$?-j:j}}};Object.defineProperty(ExtendedLameHeader,"__esModule",{value:!0});ExtendedLameHeader.ExtendedLameHeader=void 0;const Token$h=lib$1,common$1=Util,ReplayGainDataFormat_1=ReplayGainDataFormat;ExtendedLameHeader.ExtendedLameHeader={len:27,get:(a,o)=>{const s=Token$h.UINT32_BE.get(a,o+2);return{revision:common$1.getBitAllignedNumber(a,o,0,4),vbr_method:common$1.getBitAllignedNumber(a,o,4,4),lowpass_filter:100*Token$h.UINT8.get(a,o+1),track_peak:s===0?void 0:s/Math.pow(2,23),track_gain:ReplayGainDataFormat_1.ReplayGain.get(a,6),album_gain:ReplayGainDataFormat_1.ReplayGain.get(a,8),music_length:Token$h.UINT32_BE.get(a,o+20),music_crc:Token$h.UINT8.get(a,o+24),header_crc:Token$h.UINT16_BE.get(a,o+24)}}};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.readXingHeader=a.XingHeaderFlags=a.LameEncoderVersion=a.InfoTagHeaderTag=void 0;const o=lib$1,s=Util,$=ExtendedLameHeader;a.InfoTagHeaderTag=new o.StringType(4,"ascii"),a.LameEncoderVersion=new o.StringType(6,"ascii"),a.XingHeaderFlags={len:4,get:(_e,et)=>({frames:s.isBitSet(_e,et,31),bytes:s.isBitSet(_e,et,30),toc:s.isBitSet(_e,et,29),vbrScale:s.isBitSet(_e,et,28)})};async function j(_e){const et=await _e.readToken(a.XingHeaderFlags),tt={};if(et.frames&&(tt.numFrames=await _e.readToken(o.UINT32_BE)),et.bytes&&(tt.streamSize=await _e.readToken(o.UINT32_BE)),et.toc&&(tt.toc=Buffer.alloc(100),await _e.readBuffer(tt.toc)),et.vbrScale&&(tt.vbrScale=await _e.readToken(o.UINT32_BE)),await _e.peekToken(new o.StringType(4,"ascii"))==="LAME"&&(await _e.ignore(4),tt.lame={version:await _e.readToken(new o.StringType(5,"ascii"))},tt.lame.version.match(/\d+.\d+/g))){const ot=tt.lame.version.match(/\d+.\d+/g)[0].split(".").map(at=>parseInt(at,10));ot[0]>=3&&ot[1]>=90&&(tt.lame.extended=await _e.readToken($.ExtendedLameHeader))}return tt}a.readXingHeader=j})(XingTag);Object.defineProperty(MpegParser$1,"__esModule",{value:!0});MpegParser$1.MpegParser=void 0;const Token$g=lib$1,core_1$1=core$1,debug_1$d=browserExports,common=Util,AbstractID3Parser_1$2=AbstractID3Parser$1,XingTag_1=XingTag,debug$d=(0,debug_1$d.default)("music-metadata:parser:mpeg"),maxPeekLen=1024,MPEG4={AudioObjectTypes:["AAC Main","AAC LC","AAC SSR","AAC LTP"],SamplingFrequencies:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,void 0,void 0,-1]},MPEG4_ChannelConfigurations=[void 0,["front-center"],["front-left","front-right"],["front-center","front-left","front-right"],["front-center","front-left","front-right","back-center"],["front-center","front-left","front-right","back-left","back-right"],["front-center","front-left","front-right","back-left","back-right","LFE-channel"],["front-center","front-left","front-right","side-left","side-right","back-left","back-right","LFE-channel"]];class MpegFrameHeader{constructor(o,s){this.versionIndex=common.getBitAllignedNumber(o,s+1,3,2),this.layer=MpegFrameHeader.LayerDescription[common.getBitAllignedNumber(o,s+1,5,2)],this.versionIndex>1&&this.layer===0?this.parseAdtsHeader(o,s):this.parseMpegHeader(o,s),this.isProtectedByCRC=!common.isBitSet(o,s+1,7)}calcDuration(o){return o*this.calcSamplesPerFrame()/this.samplingRate}calcSamplesPerFrame(){return MpegFrameHeader.samplesInFrameTable[this.version===1?0:1][this.layer]}calculateSideInfoLength(){if(this.layer!==3)return 2;if(this.channelModeIndex===3){if(this.version===1)return 17;if(this.version===2||this.version===2.5)return 9}else{if(this.version===1)return 32;if(this.version===2||this.version===2.5)return 17}}calcSlotSize(){return[null,4,1,1][this.layer]}parseMpegHeader(o,s){this.container="MPEG",this.bitrateIndex=common.getBitAllignedNumber(o,s+2,0,4),this.sampRateFreqIndex=common.getBitAllignedNumber(o,s+2,4,2),this.padding=common.isBitSet(o,s+2,6),this.privateBit=common.isBitSet(o,s+2,7),this.channelModeIndex=common.getBitAllignedNumber(o,s+3,0,2),this.modeExtension=common.getBitAllignedNumber(o,s+3,2,2),this.isCopyrighted=common.isBitSet(o,s+3,4),this.isOriginalMedia=common.isBitSet(o,s+3,5),this.emphasis=common.getBitAllignedNumber(o,s+3,7,2),this.version=MpegFrameHeader.VersionID[this.versionIndex],this.channelMode=MpegFrameHeader.ChannelMode[this.channelModeIndex],this.codec=`MPEG ${this.version} Layer ${this.layer}`;const $=this.calcBitrate();if(!$)throw new Error("Cannot determine bit-rate");if(this.bitrate=$*1e3,this.samplingRate=this.calcSamplingRate(),this.samplingRate==null)throw new Error("Cannot determine sampling-rate")}parseAdtsHeader(o,s){debug$d("layer=0 => ADTS"),this.version=this.versionIndex===2?4:2,this.container="ADTS/MPEG-"+this.version;const $=common.getBitAllignedNumber(o,s+2,0,2);this.codec="AAC",this.codecProfile=MPEG4.AudioObjectTypes[$],debug$d(`MPEG-4 audio-codec=${this.codec}`);const j=common.getBitAllignedNumber(o,s+2,2,4);this.samplingRate=MPEG4.SamplingFrequencies[j],debug$d(`sampling-rate=${this.samplingRate}`);const _e=common.getBitAllignedNumber(o,s+2,7,3);this.mp4ChannelConfig=MPEG4_ChannelConfigurations[_e],debug$d(`channel-config=${this.mp4ChannelConfig.join("+")}`),this.frameLength=common.getBitAllignedNumber(o,s+3,6,2)<<11}calcBitrate(){if(this.bitrateIndex===0||this.bitrateIndex===15)return;const o=`${Math.floor(this.version)}${this.layer}`;return MpegFrameHeader.bitrate_index[this.bitrateIndex][o]}calcSamplingRate(){return this.sampRateFreqIndex===3?null:MpegFrameHeader.sampling_rate_freq_index[this.version][this.sampRateFreqIndex]}}MpegFrameHeader.SyncByte1=255;MpegFrameHeader.SyncByte2=224;MpegFrameHeader.VersionID=[2.5,null,2,1];MpegFrameHeader.LayerDescription=[0,3,2,1];MpegFrameHeader.ChannelMode=["stereo","joint_stereo","dual_channel","mono"];MpegFrameHeader.bitrate_index={1:{11:32,12:32,13:32,21:32,22:8,23:8},2:{11:64,12:48,13:40,21:48,22:16,23:16},3:{11:96,12:56,13:48,21:56,22:24,23:24},4:{11:128,12:64,13:56,21:64,22:32,23:32},5:{11:160,12:80,13:64,21:80,22:40,23:40},6:{11:192,12:96,13:80,21:96,22:48,23:48},7:{11:224,12:112,13:96,21:112,22:56,23:56},8:{11:256,12:128,13:112,21:128,22:64,23:64},9:{11:288,12:160,13:128,21:144,22:80,23:80},10:{11:320,12:192,13:160,21:160,22:96,23:96},11:{11:352,12:224,13:192,21:176,22:112,23:112},12:{11:384,12:256,13:224,21:192,22:128,23:128},13:{11:416,12:320,13:256,21:224,22:144,23:144},14:{11:448,12:384,13:320,21:256,22:160,23:160}};MpegFrameHeader.sampling_rate_freq_index={1:{0:44100,1:48e3,2:32e3},2:{0:22050,1:24e3,2:16e3},2.5:{0:11025,1:12e3,2:8e3}};MpegFrameHeader.samplesInFrameTable=[[0,384,1152,1152],[0,384,1152,576]];const FrameHeader={len:4,get:(a,o)=>new MpegFrameHeader(a,o)};function getVbrCodecProfile(a){return"V"+Math.floor((100-a)/10)}class MpegParser extends AbstractID3Parser_1$2.AbstractID3Parser{constructor(){super(...arguments),this.frameCount=0,this.syncFrameCount=-1,this.countSkipFrameData=0,this.totalDataLength=0,this.bitrates=[],this.calculateEofDuration=!1,this.buf_frame_header=Buffer.alloc(4),this.syncPeek={buf:Buffer.alloc(maxPeekLen),len:0}}async postId3v2Parse(){this.metadata.setFormat("lossless",!1);try{let o=!1;for(;!o;)await this.sync(),o=await this.parseCommonMpegHeader()}catch(o){if(o instanceof core_1$1.EndOfStreamError){if(debug$d("End-of-stream"),this.calculateEofDuration){const s=this.frameCount*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",s);const $=s/this.metadata.format.sampleRate;debug$d(`Calculate duration at EOF: ${$} sec.`,$),this.metadata.setFormat("duration",$)}}else throw o}}finalize(){const o=this.metadata.format,s=this.metadata.native.hasOwnProperty("ID3v1");if(o.duration&&this.tokenizer.fileInfo.size){const $=this.tokenizer.fileInfo.size-this.mpegOffset-(s?128:0);o.codecProfile&&o.codecProfile[0]==="V"&&this.metadata.setFormat("bitrate",$*8/o.duration)}else if(this.tokenizer.fileInfo.size&&o.codecProfile==="CBR"){const $=this.tokenizer.fileInfo.size-this.mpegOffset-(s?128:0),j=Math.round($/this.frame_size)*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",j);const _e=j/o.sampleRate;debug$d("Calculate CBR duration based on file size: %s",_e),this.metadata.setFormat("duration",_e)}}async sync(){let o=!1;for(;;){let s=0;if(this.syncPeek.len=await this.tokenizer.peekBuffer(this.syncPeek.buf,{length:maxPeekLen,mayBeLess:!0}),this.syncPeek.len<=163)throw new core_1$1.EndOfStreamError;for(;;)if(o&&(this.syncPeek.buf[s]&224)===224){this.buf_frame_header[0]=MpegFrameHeader.SyncByte1,this.buf_frame_header[1]=this.syncPeek.buf[s],await this.tokenizer.ignore(s),debug$d(`Sync at offset=${this.tokenizer.position-1}, frameCount=${this.frameCount}`),this.syncFrameCount===this.frameCount&&(debug$d(`Re-synced MPEG stream, frameCount=${this.frameCount}`),this.frameCount=0,this.frame_size=0),this.syncFrameCount=this.frameCount;return}else if(o=!1,s=this.syncPeek.buf.indexOf(MpegFrameHeader.SyncByte1,s),s===-1){if(this.syncPeek.len<this.syncPeek.buf.length)throw new core_1$1.EndOfStreamError;await this.tokenizer.ignore(this.syncPeek.len);break}else++s,o=!0}}async parseCommonMpegHeader(){this.frameCount===0&&(this.mpegOffset=this.tokenizer.position-1),await this.tokenizer.peekBuffer(this.buf_frame_header,{offset:1,length:3});let o;try{o=FrameHeader.get(this.buf_frame_header,0)}catch(s){return await this.tokenizer.ignore(1),this.metadata.addWarning("Parse error: "+s.message),!1}return await this.tokenizer.ignore(3),this.metadata.setFormat("container",o.container),this.metadata.setFormat("codec",o.codec),this.metadata.setFormat("lossless",!1),this.metadata.setFormat("sampleRate",o.samplingRate),this.frameCount++,o.version>=2&&o.layer===0?this.parseAdts(o):this.parseAudioFrameHeader(o)}async parseAudioFrameHeader(o){this.metadata.setFormat("numberOfChannels",o.channelMode==="mono"?1:2),this.metadata.setFormat("bitrate",o.bitrate),this.frameCount<20*1e4&&debug$d("offset=%s MP%s bitrate=%s sample-rate=%s",this.tokenizer.position-4,o.layer,o.bitrate,o.samplingRate);const s=o.calcSlotSize();if(s===null)throw new Error("invalid slot_size");const $=o.calcSamplesPerFrame();debug$d(`samples_per_frame=${$}`);const _e=$/8*o.bitrate/o.samplingRate+(o.padding?s:0);if(this.frame_size=Math.floor(_e),this.audioFrameHeader=o,this.bitrates.push(o.bitrate),this.frameCount===1)return this.offset=FrameHeader.len,await this.skipSideInformation(),!1;if(this.frameCount===3){if(this.areAllSame(this.bitrates)){if(this.samplesPerFrame=$,this.metadata.setFormat("codecProfile","CBR"),this.tokenizer.fileInfo.size)return!0}else if(this.metadata.format.duration)return!0;if(!this.options.duration)return!0}return this.options.duration&&this.frameCount===4&&(this.samplesPerFrame=$,this.calculateEofDuration=!0),this.offset=4,o.isProtectedByCRC?(await this.parseCrc(),!1):(await this.skipSideInformation(),!1)}async parseAdts(o){const s=Buffer.alloc(3);await this.tokenizer.readBuffer(s),o.frameLength+=common.getBitAllignedNumber(s,0,0,11),this.totalDataLength+=o.frameLength,this.samplesPerFrame=1024;const $=o.samplingRate/this.samplesPerFrame,_e=8*(this.frameCount===0?0:this.totalDataLength/this.frameCount)*$+.5;if(this.metadata.setFormat("bitrate",_e),debug$d(`frame-count=${this.frameCount}, size=${o.frameLength} bytes, bit-rate=${_e}`),await this.tokenizer.ignore(o.frameLength>7?o.frameLength-7:1),this.frameCount===3)if(this.metadata.setFormat("codecProfile",o.codecProfile),o.mp4ChannelConfig&&this.metadata.setFormat("numberOfChannels",o.mp4ChannelConfig.length),this.options.duration)this.calculateEofDuration=!0;else return!0;return!1}async parseCrc(){return this.crc=await this.tokenizer.readNumber(Token$g.INT16_BE),this.offset+=2,this.skipSideInformation()}async skipSideInformation(){const o=this.audioFrameHeader.calculateSideInfoLength();await this.tokenizer.readToken(new Token$g.Uint8ArrayType(o)),this.offset+=o,await this.readXtraInfoHeader()}async readXtraInfoHeader(){const o=await this.tokenizer.readToken(XingTag_1.InfoTagHeaderTag);switch(this.offset+=XingTag_1.InfoTagHeaderTag.len,o){case"Info":return this.metadata.setFormat("codecProfile","CBR"),this.readXingInfoHeader();case"Xing":const $=await this.readXingInfoHeader(),j=getVbrCodecProfile($.vbrScale);return this.metadata.setFormat("codecProfile",j),null;case"Xtra":break;case"LAME":const _e=await this.tokenizer.readToken(XingTag_1.LameEncoderVersion);if(this.frame_size>=this.offset+XingTag_1.LameEncoderVersion.len)return this.offset+=XingTag_1.LameEncoderVersion.len,this.metadata.setFormat("tool","LAME "+_e),await this.skipFrameData(this.frame_size-this.offset),null;this.metadata.addWarning("Corrupt LAME header");break}const s=this.frame_size-this.offset;return s<0?this.metadata.addWarning("Frame "+this.frameCount+"corrupt: negative frameDataLeft"):await this.skipFrameData(s),null}async readXingInfoHeader(){const o=this.tokenizer.position,s=await(0,XingTag_1.readXingHeader)(this.tokenizer);if(this.offset+=this.tokenizer.position-o,s.lame&&(this.metadata.setFormat("tool","LAME "+common.stripNulls(s.lame.version)),s.lame.extended&&(this.metadata.setFormat("trackPeakLevel",s.lame.extended.track_peak),s.lame.extended.track_gain&&this.metadata.setFormat("trackGain",s.lame.extended.track_gain.adjustment),s.lame.extended.album_gain&&this.metadata.setFormat("albumGain",s.lame.extended.album_gain.adjustment),this.metadata.setFormat("duration",s.lame.extended.music_length/1e3))),s.streamSize){const j=this.audioFrameHeader.calcDuration(s.numFrames);return this.metadata.setFormat("duration",j),debug$d("Get duration from Xing header: %s",this.metadata.format.duration),s}const $=this.frame_size-this.offset;return await this.skipFrameData($),s}async skipFrameData(o){if(o<0)throw new Error("frame-data-left cannot be negative");await this.tokenizer.ignore(o),this.countSkipFrameData+=o}areAllSame(o){const s=o[0];return o.every($=>$===s)}}MpegParser$1.MpegParser=MpegParser;var musepack={},MpcSv8Parser$1={},StreamVersion8={};Object.defineProperty(StreamVersion8,"__esModule",{value:!0});StreamVersion8.StreamReader=void 0;const Token$f=lib$1,debug_1$c=browserExports,util$4=Util,debug$c=(0,debug_1$c.default)("music-metadata:parser:musepack:sv8"),PacketKey=new Token$f.StringType(2,"binary"),SH_part1={len:5,get:(a,o)=>({crc:Token$f.UINT32_LE.get(a,o),streamVersion:Token$f.UINT8.get(a,o+4)})},SH_part3={len:2,get:(a,o)=>({sampleFrequency:[44100,48e3,37800,32e3][util$4.getBitAllignedNumber(a,o,0,3)],maxUsedBands:util$4.getBitAllignedNumber(a,o,3,5),channelCount:util$4.getBitAllignedNumber(a,o+1,0,4)+1,msUsed:util$4.isBitSet(a,o+1,4),audioBlockFrames:util$4.getBitAllignedNumber(a,o+1,5,3)})};class StreamReader{constructor(o){this.tokenizer=o}async readPacketHeader(){const o=await this.tokenizer.readToken(PacketKey),s=await this.readVariableSizeField();return{key:o,payloadLength:s.value-2-s.len}}async readStreamHeader(o){const s={};debug$c(`Reading SH at offset=${this.tokenizer.position}`);const $=await this.tokenizer.readToken(SH_part1);o-=SH_part1.len,Object.assign(s,$),debug$c(`SH.streamVersion = ${$.streamVersion}`);const j=await this.readVariableSizeField();o-=j.len,s.sampleCount=j.value;const _e=await this.readVariableSizeField();o-=_e.len,s.beginningOfSilence=_e.value;const et=await this.tokenizer.readToken(SH_part3);return o-=SH_part3.len,Object.assign(s,et),await this.tokenizer.ignore(o),s}async readVariableSizeField(o=1,s=0){let $=await this.tokenizer.readNumber(Token$f.UINT8);return $&128?($&=127,$+=s,this.readVariableSizeField(o+1,$<<7)):{len:o,value:s+$}}}StreamVersion8.StreamReader=StreamReader;Object.defineProperty(MpcSv8Parser$1,"__esModule",{value:!0});MpcSv8Parser$1.MpcSv8Parser=void 0;const debug_1$b=browserExports,BasicParser_1$6=BasicParser$1,APEv2Parser_1$4=APEv2Parser$1,FourCC_1$6=FourCC,SV8=StreamVersion8,debug$b=(0,debug_1$b.default)("music-metadata:parser:musepack");class MpcSv8Parser extends BasicParser_1$6.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){if(await this.tokenizer.readToken(FourCC_1$6.FourCcToken)!=="MPCK")throw new Error("Invalid Magic number");return this.metadata.setFormat("container","Musepack, SV8"),this.parsePacket()}async parsePacket(){const o=new SV8.StreamReader(this.tokenizer);do{const s=await o.readPacketHeader();switch(debug$b(`packet-header key=${s.key}, payloadLength=${s.payloadLength}`),s.key){case"SH":const $=await o.readStreamHeader(s.payloadLength);this.metadata.setFormat("numberOfSamples",$.sampleCount),this.metadata.setFormat("sampleRate",$.sampleFrequency),this.metadata.setFormat("duration",$.sampleCount/$.sampleFrequency),this.metadata.setFormat("numberOfChannels",$.channelCount);break;case"AP":this.audioLength+=s.payloadLength,await this.tokenizer.ignore(s.payloadLength);break;case"RG":case"EI":case"SO":case"ST":case"CT":await this.tokenizer.ignore(s.payloadLength);break;case"SE":return this.metadata.setFormat("bitrate",this.audioLength*8/this.metadata.format.duration),APEv2Parser_1$4.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options);default:throw new Error(`Unexpected header: ${s.key}`)}}while(!0)}}MpcSv8Parser$1.MpcSv8Parser=MpcSv8Parser;var MpcSv7Parser$1={},BitReader$1={};Object.defineProperty(BitReader$1,"__esModule",{value:!0});BitReader$1.BitReader=void 0;const Token$e=lib$1;class BitReader{constructor(o){this.tokenizer=o,this.pos=0,this.dword=void 0}async read(o){for(;this.dword===void 0;)this.dword=await this.tokenizer.readToken(Token$e.UINT32_LE);let s=this.dword;return this.pos+=o,this.pos<32?(s>>>=32-this.pos,s&(1<<o)-1):(this.pos-=32,this.pos===0?(this.dword=void 0,s&(1<<o)-1):(this.dword=await this.tokenizer.readToken(Token$e.UINT32_LE),this.pos&&(s<<=this.pos,s|=this.dword>>>32-this.pos),s&(1<<o)-1))}async ignore(o){if(this.pos>0){const j=32-this.pos;this.dword=void 0,o-=j,this.pos=0}const s=o%32,$=(o-s)/32;return await this.tokenizer.ignore($*4),this.read(s)}}BitReader$1.BitReader=BitReader;var StreamVersion7={};Object.defineProperty(StreamVersion7,"__esModule",{value:!0});StreamVersion7.Header=void 0;const Token$d=lib$1,util$3=Util;StreamVersion7.Header={len:6*4,get:(a,o)=>{const s={signature:Buffer.from(a).toString("latin1",o,o+3),streamMinorVersion:util$3.getBitAllignedNumber(a,o+3,0,4),streamMajorVersion:util$3.getBitAllignedNumber(a,o+3,4,4),frameCount:Token$d.UINT32_LE.get(a,o+4),maxLevel:Token$d.UINT16_LE.get(a,o+8),sampleFrequency:[44100,48e3,37800,32e3][util$3.getBitAllignedNumber(a,o+10,0,2)],link:util$3.getBitAllignedNumber(a,o+10,2,2),profile:util$3.getBitAllignedNumber(a,o+10,4,4),maxBand:util$3.getBitAllignedNumber(a,o+11,0,6),intensityStereo:util$3.isBitSet(a,o+11,6),midSideStereo:util$3.isBitSet(a,o+11,7),titlePeak:Token$d.UINT16_LE.get(a,o+12),titleGain:Token$d.UINT16_LE.get(a,o+14),albumPeak:Token$d.UINT16_LE.get(a,o+16),albumGain:Token$d.UINT16_LE.get(a,o+18),lastFrameLength:Token$d.UINT32_LE.get(a,o+20)>>>20&2047,trueGapless:util$3.isBitSet(a,o+23,0)};return s.lastFrameLength=s.trueGapless?Token$d.UINT32_LE.get(a,20)>>>20&2047:0,s}};Object.defineProperty(MpcSv7Parser$1,"__esModule",{value:!0});MpcSv7Parser$1.MpcSv7Parser=void 0;const debug_1$a=browserExports,BasicParser_1$5=BasicParser$1,APEv2Parser_1$3=APEv2Parser$1,BitReader_1=BitReader$1,SV7=StreamVersion7,debug$a=(0,debug_1$a.default)("music-metadata:parser:musepack");class MpcSv7Parser extends BasicParser_1$5.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){const o=await this.tokenizer.readToken(SV7.Header);if(o.signature!=="MP+")throw new Error("Unexpected magic number");debug$a(`stream-version=${o.streamMajorVersion}.${o.streamMinorVersion}`),this.metadata.setFormat("container","Musepack, SV7"),this.metadata.setFormat("sampleRate",o.sampleFrequency);const s=1152*(o.frameCount-1)+o.lastFrameLength;this.metadata.setFormat("numberOfSamples",s),this.duration=s/o.sampleFrequency,this.metadata.setFormat("duration",this.duration),this.bitreader=new BitReader_1.BitReader(this.tokenizer),this.metadata.setFormat("numberOfChannels",o.midSideStereo||o.intensityStereo?2:1);const $=await this.bitreader.read(8);return this.metadata.setFormat("codec",($/100).toFixed(2)),await this.skipAudioData(o.frameCount),debug$a(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`),APEv2Parser_1$3.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async skipAudioData(o){for(;o-- >0;){const $=await this.bitreader.read(20);this.audioLength+=20+$,await this.bitreader.ignore($)}const s=await this.bitreader.read(11);this.audioLength+=s,this.metadata.setFormat("bitrate",this.audioLength/this.duration)}}MpcSv7Parser$1.MpcSv7Parser=MpcSv7Parser;Object.defineProperty(musepack,"__esModule",{value:!0});const debug_1$9=browserExports,Token$c=lib$1,AbstractID3Parser_1$1=AbstractID3Parser$1,MpcSv8Parser_1=MpcSv8Parser$1,MpcSv7Parser_1=MpcSv7Parser$1,debug$9=(0,debug_1$9.default)("music-metadata:parser:musepack");class MusepackParser extends AbstractID3Parser_1$1.AbstractID3Parser{async postId3v2Parse(){const o=await this.tokenizer.peekToken(new Token$c.StringType(3,"binary"));let s;switch(o){case"MP+":{debug$9("Musepack stream-version 7"),s=new MpcSv7Parser_1.MpcSv7Parser;break}case"MPC":{debug$9("Musepack stream-version 8"),s=new MpcSv8Parser_1.MpcSv8Parser;break}default:throw new Error("Invalid Musepack signature prefix")}return s.init(this.metadata,this.tokenizer,this.options),s.parse()}}musepack.default=MusepackParser;var OggParser$1={},OpusParser$1={},Opus$1={};Object.defineProperty(Opus$1,"__esModule",{value:!0});Opus$1.IdHeader=void 0;const Token$b=lib$1;class IdHeader{constructor(o){if(this.len=o,o<19)throw new Error("ID-header-page 0 should be at least 19 bytes long")}get(o,s){return{magicSignature:new Token$b.StringType(8,"ascii").get(o,s+0),version:o.readUInt8(s+8),channelCount:o.readUInt8(s+9),preSkip:o.readInt16LE(s+10),inputSampleRate:o.readInt32LE(s+12),outputGain:o.readInt16LE(s+16),channelMapping:o.readUInt8(s+18)}}}Opus$1.IdHeader=IdHeader;Object.defineProperty(OpusParser$1,"__esModule",{value:!0});OpusParser$1.OpusParser=void 0;const Token$a=lib$1,VorbisParser_1$2=VorbisParser$1,Opus=Opus$1;class OpusParser extends VorbisParser_1$2.VorbisParser{constructor(o,s,$){super(o,s),this.tokenizer=$,this.lastPos=-1}parseFirstPage(o,s){if(this.metadata.setFormat("codec","Opus"),this.idHeader=new Opus.IdHeader(s.length).get(s,0),this.idHeader.magicSignature!=="OpusHead")throw new Error("Illegal ogg/Opus magic-signature");this.metadata.setFormat("sampleRate",this.idHeader.inputSampleRate),this.metadata.setFormat("numberOfChannels",this.idHeader.channelCount)}parseFullPage(o){switch(new Token$a.StringType(8,"ascii").get(o,0)){case"OpusTags":this.parseUserCommentList(o,8),this.lastPos=this.tokenizer.position-o.length;break}}calculateDuration(o){if(this.metadata.format.sampleRate&&o.absoluteGranulePosition>=0){const s=o.absoluteGranulePosition-this.idHeader.preSkip;if(this.metadata.setFormat("numberOfSamples",s),this.metadata.setFormat("duration",s/48e3),this.lastPos!==-1&&this.tokenizer.fileInfo.size&&this.metadata.format.duration){const $=this.tokenizer.fileInfo.size-this.lastPos;this.metadata.setFormat("bitrate",8*$/this.metadata.format.duration)}}}}OpusParser$1.OpusParser=OpusParser;var SpeexParser$1={},Speex$1={};Object.defineProperty(Speex$1,"__esModule",{value:!0});Speex$1.Header=void 0;const Token$9=lib$1,util$2=Util;Speex$1.Header={len:80,get:(a,o)=>({speex:new Token$9.StringType(8,"ascii").get(a,o+0),version:util$2.trimRightNull(new Token$9.StringType(20,"ascii").get(a,o+8)),version_id:a.readInt32LE(o+28),header_size:a.readInt32LE(o+32),rate:a.readInt32LE(o+36),mode:a.readInt32LE(o+40),mode_bitstream_version:a.readInt32LE(o+44),nb_channels:a.readInt32LE(o+48),bitrate:a.readInt32LE(o+52),frame_size:a.readInt32LE(o+56),vbr:a.readInt32LE(o+60),frames_per_packet:a.readInt32LE(o+64),extra_headers:a.readInt32LE(o+68),reserved1:a.readInt32LE(o+72),reserved2:a.readInt32LE(o+76)})};Object.defineProperty(SpeexParser$1,"__esModule",{value:!0});SpeexParser$1.SpeexParser=void 0;const debug_1$8=browserExports,VorbisParser_1$1=VorbisParser$1,Speex=Speex$1,debug$8=(0,debug_1$8.default)("music-metadata:parser:ogg:speex");class SpeexParser extends VorbisParser_1$1.VorbisParser{constructor(o,s,$){super(o,s),this.tokenizer=$}parseFirstPage(o,s){debug$8("First Ogg/Speex page");const $=Speex.Header.get(s,0);this.metadata.setFormat("codec",`Speex ${$.version}`),this.metadata.setFormat("numberOfChannels",$.nb_channels),this.metadata.setFormat("sampleRate",$.rate),$.bitrate!==-1&&this.metadata.setFormat("bitrate",$.bitrate)}}SpeexParser$1.SpeexParser=SpeexParser;var TheoraParser$1={},Theora={};Object.defineProperty(Theora,"__esModule",{value:!0});Theora.IdentificationHeader=void 0;const Token$8=lib$1;Theora.IdentificationHeader={len:42,get:(a,o)=>({id:new Token$8.StringType(7,"ascii").get(a,o),vmaj:a.readUInt8(o+7),vmin:a.readUInt8(o+8),vrev:a.readUInt8(o+9),vmbw:a.readUInt16BE(o+10),vmbh:a.readUInt16BE(o+17),nombr:Token$8.UINT24_BE.get(a,o+37),nqual:a.readUInt8(o+40)})};Object.defineProperty(TheoraParser$1,"__esModule",{value:!0});TheoraParser$1.TheoraParser=void 0;const debug_1$7=browserExports,Theora_1=Theora,debug$7=(0,debug_1$7.default)("music-metadata:parser:ogg:theora");class TheoraParser{constructor(o,s,$){this.metadata=o,this.tokenizer=$}parsePage(o,s){o.headerType.firstPage&&this.parseFirstPage(o,s)}flush(){debug$7("flush")}calculateDuration(o){debug$7("duration calculation not implemented")}parseFirstPage(o,s){debug$7("First Ogg/Theora page"),this.metadata.setFormat("codec","Theora");const $=Theora_1.IdentificationHeader.get(s,0);this.metadata.setFormat("bitrate",$.nombr)}}TheoraParser$1.TheoraParser=TheoraParser;Object.defineProperty(OggParser$1,"__esModule",{value:!0});OggParser$1.OggParser=OggParser$1.SegmentTable=void 0;const Token$7=lib$1,core_1=core$1,debug_1$6=browserExports,util$1=Util,FourCC_1$5=FourCC,BasicParser_1$4=BasicParser$1,VorbisParser_1=VorbisParser$1,OpusParser_1=OpusParser$1,SpeexParser_1=SpeexParser$1,TheoraParser_1=TheoraParser$1,debug$6=(0,debug_1$6.default)("music-metadata:parser:ogg");class SegmentTable{static sum(o,s,$){let j=0;for(let _e=s;_e<s+$;++_e)j+=o[_e];return j}constructor(o){this.len=o.page_segments}get(o,s){return{totalPageSize:SegmentTable.sum(o,s,this.len)}}}OggParser$1.SegmentTable=SegmentTable;class OggParser extends BasicParser_1$4.BasicParser{async parse(){debug$6("pos=%s, parsePage()",this.tokenizer.position);try{let o;do{if(o=await this.tokenizer.readToken(OggParser.Header),o.capturePattern!=="OggS")throw new Error("Invalid Ogg capture pattern");this.metadata.setFormat("container","Ogg"),this.header=o,this.pageNumber=o.pageSequenceNo,debug$6("page#=%s, Ogg.id=%s",o.pageSequenceNo,o.capturePattern);const s=await this.tokenizer.readToken(new SegmentTable(o));debug$6("totalPageSize=%s",s.totalPageSize);const $=await this.tokenizer.readToken(new Token$7.Uint8ArrayType(s.totalPageSize));if(debug$6("firstPage=%s, lastPage=%s, continued=%s",o.headerType.firstPage,o.headerType.lastPage,o.headerType.continued),o.headerType.firstPage){const j=new Token$7.StringType(7,"ascii").get(Buffer.from($),0);switch(j){case"vorbis":debug$6("Set page consumer to Ogg/Vorbis"),this.pageConsumer=new VorbisParser_1.VorbisParser(this.metadata,this.options);break;case"OpusHea":debug$6("Set page consumer to Ogg/Opus"),this.pageConsumer=new OpusParser_1.OpusParser(this.metadata,this.options,this.tokenizer);break;case"Speex  ":debug$6("Set page consumer to Ogg/Speex"),this.pageConsumer=new SpeexParser_1.SpeexParser(this.metadata,this.options,this.tokenizer);break;case"fishead":case"\0theora":debug$6("Set page consumer to Ogg/Theora"),this.pageConsumer=new TheoraParser_1.TheoraParser(this.metadata,this.options,this.tokenizer);break;default:throw new Error("gg audio-codec not recognized (id="+j+")")}}this.pageConsumer.parsePage(o,$)}while(!o.headerType.lastPage)}catch(o){if(o instanceof core_1.EndOfStreamError)this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),debug$6("End-of-stream"),this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),this.header&&this.pageConsumer.calculateDuration(this.header);else if(o.message.startsWith("FourCC"))this.pageNumber>0&&(this.metadata.addWarning("Invalid FourCC ID, maybe last OGG-page is not marked with last-page flag"),this.pageConsumer.flush());else throw o}}}OggParser.Header={len:27,get:(a,o)=>({capturePattern:FourCC_1$5.FourCcToken.get(a,o),version:Token$7.UINT8.get(a,o+4),headerType:{continued:util$1.getBit(a,o+5,0),firstPage:util$1.getBit(a,o+5,1),lastPage:util$1.getBit(a,o+5,2)},absoluteGranulePosition:Number(Token$7.UINT64_LE.get(a,o+6)),streamSerialNumber:Token$7.UINT32_LE.get(a,o+14),pageSequenceNo:Token$7.UINT32_LE.get(a,o+18),pageChecksum:Token$7.UINT32_LE.get(a,o+22),page_segments:Token$7.UINT8.get(a,o+26)})};OggParser$1.OggParser=OggParser;var WaveParser$1={},RiffChunk={};Object.defineProperty(RiffChunk,"__esModule",{value:!0});RiffChunk.ListInfoTagValue=RiffChunk.Header=void 0;const Token$6=lib$1;RiffChunk.Header={len:8,get:(a,o)=>({chunkID:a.toString("binary",o,o+4),chunkSize:Token$6.UINT32_LE.get(a,4)})};class ListInfoTagValue{constructor(o){this.tagHeader=o,this.len=o.chunkSize,this.len+=this.len&1}get(o,s){return new Token$6.StringType(this.tagHeader.chunkSize,"ascii").get(o,s)}}RiffChunk.ListInfoTagValue=ListInfoTagValue;var WaveChunk$1={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.FactChunk=a.Format=a.WaveFormat=void 0,function($){$[$.PCM=1]="PCM",$[$.ADPCM=2]="ADPCM",$[$.IEEE_FLOAT=3]="IEEE_FLOAT",$[$.MPEG_ADTS_AAC=5632]="MPEG_ADTS_AAC",$[$.MPEG_LOAS=5634]="MPEG_LOAS",$[$.RAW_AAC1=255]="RAW_AAC1",$[$.DOLBY_AC3_SPDIF=146]="DOLBY_AC3_SPDIF",$[$.DVM=8192]="DVM",$[$.RAW_SPORT=576]="RAW_SPORT",$[$.ESST_AC3=577]="ESST_AC3",$[$.DRM=9]="DRM",$[$.DTS2=8193]="DTS2",$[$.MPEG=80]="MPEG"}(a.WaveFormat||(a.WaveFormat={}));class o{constructor(j){if(j.chunkSize<16)throw new Error("Invalid chunk size");this.len=j.chunkSize}get(j,_e){return{wFormatTag:j.readUInt16LE(_e),nChannels:j.readUInt16LE(_e+2),nSamplesPerSec:j.readUInt32LE(_e+4),nAvgBytesPerSec:j.readUInt32LE(_e+8),nBlockAlign:j.readUInt16LE(_e+12),wBitsPerSample:j.readUInt16LE(_e+14)}}}a.Format=o;class s{constructor(j){if(j.chunkSize<4)throw new Error("Invalid fact chunk size.");this.len=j.chunkSize}get(j,_e){return{dwSampleLength:j.readUInt32LE(_e)}}}a.FactChunk=s})(WaveChunk$1);var BwfChunk={};Object.defineProperty(BwfChunk,"__esModule",{value:!0});BwfChunk.BroadcastAudioExtensionChunk=void 0;const Token$5=lib$1,Util_1=Util;BwfChunk.BroadcastAudioExtensionChunk={len:420,get:(a,o)=>({description:(0,Util_1.stripNulls)(new Token$5.StringType(256,"ascii").get(a,o)).trim(),originator:(0,Util_1.stripNulls)(new Token$5.StringType(32,"ascii").get(a,o+256)).trim(),originatorReference:(0,Util_1.stripNulls)(new Token$5.StringType(32,"ascii").get(a,o+288)).trim(),originationDate:(0,Util_1.stripNulls)(new Token$5.StringType(10,"ascii").get(a,o+320)).trim(),originationTime:(0,Util_1.stripNulls)(new Token$5.StringType(8,"ascii").get(a,o+330)).trim(),timeReferenceLow:Token$5.UINT32_LE.get(a,o+338),timeReferenceHigh:Token$5.UINT32_LE.get(a,o+342),version:Token$5.UINT16_LE.get(a,o+346),umid:new Token$5.Uint8ArrayType(64).get(a,o+348),loudnessValue:Token$5.UINT16_LE.get(a,o+412),maxTruePeakLevel:Token$5.UINT16_LE.get(a,o+414),maxMomentaryLoudness:Token$5.UINT16_LE.get(a,o+416),maxShortTermLoudness:Token$5.UINT16_LE.get(a,o+418)})};Object.defineProperty(WaveParser$1,"__esModule",{value:!0});WaveParser$1.WaveParser=void 0;const strtok3$2=core$1,Token$4=lib$1,debug_1$5=browserExports,riff=RiffChunk,WaveChunk=WaveChunk$1,ID3v2Parser_1$2=ID3v2Parser$1,util=Util,FourCC_1$4=FourCC,BasicParser_1$3=BasicParser$1,BwfChunk_1=BwfChunk,debug$5=(0,debug_1$5.default)("music-metadata:parser:RIFF");class WaveParser extends BasicParser_1$3.BasicParser{async parse(){const o=await this.tokenizer.readToken(riff.Header);if(debug$5(`pos=${this.tokenizer.position}, parse: chunkID=${o.chunkID}`),o.chunkID==="RIFF")return this.parseRiffChunk(o.chunkSize).catch(s=>{if(!(s instanceof strtok3$2.EndOfStreamError))throw s})}async parseRiffChunk(o){const s=await this.tokenizer.readToken(FourCC_1$4.FourCcToken);switch(this.metadata.setFormat("container",s),s){case"WAVE":return this.readWaveChunk(o-FourCC_1$4.FourCcToken.len);default:throw new Error(`Unsupported RIFF format: RIFF/${s}`)}}async readWaveChunk(o){for(;o>=riff.Header.len;){const s=await this.tokenizer.readToken(riff.Header);switch(o-=riff.Header.len+s.chunkSize,s.chunkSize>o&&this.metadata.addWarning("Data chunk size exceeds file size"),this.header=s,debug$5(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${s.chunkID}`),s.chunkID){case"LIST":await this.parseListTag(s);break;case"fact":this.metadata.setFormat("lossless",!1),this.fact=await this.tokenizer.readToken(new WaveChunk.FactChunk(s));break;case"fmt ":const $=await this.tokenizer.readToken(new WaveChunk.Format(s));let j=WaveChunk.WaveFormat[$.wFormatTag];j||(debug$5("WAVE/non-PCM format="+$.wFormatTag),j="non-PCM ("+$.wFormatTag+")"),this.metadata.setFormat("codec",j),this.metadata.setFormat("bitsPerSample",$.wBitsPerSample),this.metadata.setFormat("sampleRate",$.nSamplesPerSec),this.metadata.setFormat("numberOfChannels",$.nChannels),this.metadata.setFormat("bitrate",$.nBlockAlign*$.nSamplesPerSec*8),this.blockAlign=$.nBlockAlign;break;case"id3 ":case"ID3 ":const _e=await this.tokenizer.readToken(new Token$4.Uint8ArrayType(s.chunkSize)),et=strtok3$2.fromBuffer(_e);await new ID3v2Parser_1$2.ID3v2Parser().parse(this.metadata,et,this.options);break;case"data":this.metadata.format.lossless!==!1&&this.metadata.setFormat("lossless",!0);let tt=s.chunkSize;if(this.tokenizer.fileInfo.size){const ot=this.tokenizer.fileInfo.size-this.tokenizer.position;ot<tt&&(this.metadata.addWarning("data chunk length exceeding file length"),tt=ot)}const rt=this.fact?this.fact.dwSampleLength:tt===4294967295?void 0:tt/this.blockAlign;rt&&(this.metadata.setFormat("numberOfSamples",rt),this.metadata.setFormat("duration",rt/this.metadata.format.sampleRate)),this.metadata.format.codec==="ADPCM"?this.metadata.setFormat("bitrate",352e3):this.metadata.setFormat("bitrate",this.blockAlign*this.metadata.format.sampleRate*8),await this.tokenizer.ignore(s.chunkSize);break;case"bext":const nt=await this.tokenizer.readToken(BwfChunk_1.BroadcastAudioExtensionChunk);Object.keys(nt).forEach(ot=>{this.metadata.addTag("exif","bext."+ot,nt[ot])});const it=s.chunkSize-BwfChunk_1.BroadcastAudioExtensionChunk.len;await this.tokenizer.ignore(it);break;case"\0\0\0\0":debug$5(`Ignore padding chunk: RIFF/${s.chunkID} of ${s.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+s.chunkID),await this.tokenizer.ignore(s.chunkSize);break;default:debug$5(`Ignore chunk: RIFF/${s.chunkID} of ${s.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+s.chunkID),await this.tokenizer.ignore(s.chunkSize)}this.header.chunkSize%2===1&&(debug$5("Read odd padding byte"),await this.tokenizer.ignore(1))}}async parseListTag(o){const s=await this.tokenizer.readToken(new Token$4.StringType(4,"binary"));switch(debug$5("pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s",this.tokenizer.position,s),s){case"INFO":return this.parseRiffInfoTags(o.chunkSize-4);case"adtl":default:return this.metadata.addWarning("Ignore chunk: RIFF/WAVE/LIST/"+s),debug$5("Ignoring chunkID=RIFF/WAVE/LIST/"+s),this.tokenizer.ignore(o.chunkSize-4).then()}}async parseRiffInfoTags(o){for(;o>=8;){const s=await this.tokenizer.readToken(riff.Header),$=new riff.ListInfoTagValue(s),j=await this.tokenizer.readToken($);this.addTag(s.chunkID,util.stripNulls(j)),o-=8+$.len}if(o!==0)throw Error("Illegal remaining size: "+o)}addTag(o,s){this.metadata.addTag("exif",o,s)}}WaveParser$1.WaveParser=WaveParser;var WavPackParser$1={},WavPackToken={};Object.defineProperty(WavPackToken,"__esModule",{value:!0});WavPackToken.WavPack=void 0;const Token$3=lib$1,FourCC_1$3=FourCC,SampleRates=[6e3,8e3,9600,11025,12e3,16e3,22050,24e3,32e3,44100,48e3,64e3,88200,96e3,192e3,-1];class WavPack{static isBitSet(o,s){return WavPack.getBitAllignedNumber(o,s,1)===1}static getBitAllignedNumber(o,s,$){return o>>>s&4294967295>>>32-$}}WavPack.BlockHeaderToken={len:32,get:(a,o)=>{const s=Token$3.UINT32_LE.get(a,o+24),$={BlockID:FourCC_1$3.FourCcToken.get(a,o),blockSize:Token$3.UINT32_LE.get(a,o+4),version:Token$3.UINT16_LE.get(a,o+8),totalSamples:Token$3.UINT32_LE.get(a,o+12),blockIndex:Token$3.UINT32_LE.get(a,o+16),blockSamples:Token$3.UINT32_LE.get(a,o+20),flags:{bitsPerSample:(1+WavPack.getBitAllignedNumber(s,0,2))*8,isMono:WavPack.isBitSet(s,2),isHybrid:WavPack.isBitSet(s,3),isJointStereo:WavPack.isBitSet(s,4),crossChannel:WavPack.isBitSet(s,5),hybridNoiseShaping:WavPack.isBitSet(s,6),floatingPoint:WavPack.isBitSet(s,7),samplingRate:SampleRates[WavPack.getBitAllignedNumber(s,23,4)],isDSD:WavPack.isBitSet(s,31)},crc:new Token$3.Uint8ArrayType(4).get(a,o+28)};return $.flags.isDSD&&($.totalSamples*=8),$}};WavPack.MetadataIdToken={len:1,get:(a,o)=>({functionId:WavPack.getBitAllignedNumber(a[o],0,6),isOptional:WavPack.isBitSet(a[o],5),isOddSize:WavPack.isBitSet(a[o],6),largeBlock:WavPack.isBitSet(a[o],7)})};WavPackToken.WavPack=WavPack;Object.defineProperty(WavPackParser$1,"__esModule",{value:!0});WavPackParser$1.WavPackParser=void 0;const Token$2=lib$1,APEv2Parser_1$2=APEv2Parser$1,FourCC_1$2=FourCC,BasicParser_1$2=BasicParser$1,WavPackToken_1=WavPackToken,debug_1$4=browserExports,debug$4=(0,debug_1$4.default)("music-metadata:parser:WavPack");class WavPackParser extends BasicParser_1$2.BasicParser{async parse(){return this.audioDataSize=0,await this.parseWavPackBlocks(),APEv2Parser_1$2.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async parseWavPackBlocks(){do{if(await this.tokenizer.peekToken(FourCC_1$2.FourCcToken)!=="wvpk")break;const s=await this.tokenizer.readToken(WavPackToken_1.WavPack.BlockHeaderToken);if(s.BlockID!=="wvpk")throw new Error("Invalid WavPack Block-ID");debug$4(`WavPack header blockIndex=${s.blockIndex}, len=${WavPackToken_1.WavPack.BlockHeaderToken.len}`),s.blockIndex===0&&!this.metadata.format.container&&(this.metadata.setFormat("container","WavPack"),this.metadata.setFormat("lossless",!s.flags.isHybrid),this.metadata.setFormat("bitsPerSample",s.flags.bitsPerSample),s.flags.isDSD||(this.metadata.setFormat("sampleRate",s.flags.samplingRate),this.metadata.setFormat("duration",s.totalSamples/s.flags.samplingRate)),this.metadata.setFormat("numberOfChannels",s.flags.isMono?1:2),this.metadata.setFormat("numberOfSamples",s.totalSamples),this.metadata.setFormat("codec",s.flags.isDSD?"DSD":"PCM"));const $=s.blockSize-(WavPackToken_1.WavPack.BlockHeaderToken.len-8);await(s.blockIndex===0?this.parseMetadataSubBlock(s,$):this.tokenizer.ignore($)),s.blockSamples>0&&(this.audioDataSize+=s.blockSize)}while(!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=WavPackToken_1.WavPack.BlockHeaderToken.len);this.metadata.setFormat("bitrate",this.audioDataSize*8/this.metadata.format.duration)}async parseMetadataSubBlock(o,s){for(;s>WavPackToken_1.WavPack.MetadataIdToken.len;){const $=await this.tokenizer.readToken(WavPackToken_1.WavPack.MetadataIdToken),j=await this.tokenizer.readNumber($.largeBlock?Token$2.UINT24_LE:Token$2.UINT8),_e=Buffer.alloc(j*2-($.isOddSize?1:0));switch(await this.tokenizer.readBuffer(_e),debug$4(`Metadata Sub-Blocks functionId=0x${$.functionId.toString(16)}, id.largeBlock=${$.largeBlock},data-size=${_e.length}`),$.functionId){case 0:break;case 14:debug$4("ID_DSD_BLOCK");const et=1<<_e.readUInt8(0),tt=o.flags.samplingRate*et*8;if(!o.flags.isDSD)throw new Error("Only expect DSD block if DSD-flag is set");this.metadata.setFormat("sampleRate",tt),this.metadata.setFormat("duration",o.totalSamples/tt);break;case 36:debug$4("ID_ALT_TRAILER: trailer for non-wav files");break;case 38:this.metadata.setFormat("audioMD5",_e);break;case 47:debug$4(`ID_BLOCK_CHECKSUM: checksum=${_e.toString("hex")}`);break;default:debug$4(`Ignore unsupported meta-sub-block-id functionId=0x${$.functionId.toString(16)}`);break}s-=WavPackToken_1.WavPack.MetadataIdToken.len+($.largeBlock?Token$2.UINT24_LE.len:Token$2.UINT8.len)+j*2,debug$4(`remainingLength=${s}`),$.isOddSize&&this.tokenizer.ignore(1)}if(s!==0)throw new Error("metadata-sub-block should fit it remaining length")}}WavPackParser$1.WavPackParser=WavPackParser;var DsfParser$1={},DsfChunk={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.FormatChunk=a.ChannelType=a.DsdChunk=a.ChunkHeader=void 0;const o=lib$1,s=FourCC;a.ChunkHeader={len:12,get:($,j)=>({id:s.FourCcToken.get($,j),size:o.UINT64_LE.get($,j+4)})},a.DsdChunk={len:16,get:($,j)=>({fileSize:o.INT64_LE.get($,j),metadataPointer:o.INT64_LE.get($,j+8)})},function($){$[$.mono=1]="mono",$[$.stereo=2]="stereo",$[$.channels=3]="channels",$[$.quad=4]="quad",$[$["4 channels"]=5]="4 channels",$[$["5 channels"]=6]="5 channels",$[$["5.1 channels"]=7]="5.1 channels"}(a.ChannelType||(a.ChannelType={})),a.FormatChunk={len:40,get:($,j)=>({formatVersion:o.INT32_LE.get($,j),formatID:o.INT32_LE.get($,j+4),channelType:o.INT32_LE.get($,j+8),channelNum:o.INT32_LE.get($,j+12),samplingFrequency:o.INT32_LE.get($,j+16),bitsPerSample:o.INT32_LE.get($,j+20),sampleCount:o.INT64_LE.get($,j+24),blockSizePerChannel:o.INT32_LE.get($,j+32)})}})(DsfChunk);Object.defineProperty(DsfParser$1,"__esModule",{value:!0});DsfParser$1.DsfParser=void 0;const debug_1$3=browserExports,AbstractID3Parser_1=AbstractID3Parser$1,DsfChunk_1=DsfChunk,ID3v2Parser_1$1=ID3v2Parser$1,debug$3=(0,debug_1$3.default)("music-metadata:parser:DSF");class DsfParser extends AbstractID3Parser_1.AbstractID3Parser{async postId3v2Parse(){const o=this.tokenizer.position,s=await this.tokenizer.readToken(DsfChunk_1.ChunkHeader);if(s.id!=="DSD ")throw new Error("Invalid chunk signature");this.metadata.setFormat("container","DSF"),this.metadata.setFormat("lossless",!0);const $=await this.tokenizer.readToken(DsfChunk_1.DsdChunk);if($.metadataPointer===BigInt(0))debug$3("No ID3v2 tag present");else return debug$3(`expect ID3v2 at offset=${$.metadataPointer}`),await this.parseChunks($.fileSize-s.size),await this.tokenizer.ignore(Number($.metadataPointer)-this.tokenizer.position-o),new ID3v2Parser_1$1.ID3v2Parser().parse(this.metadata,this.tokenizer,this.options)}async parseChunks(o){for(;o>=DsfChunk_1.ChunkHeader.len;){const s=await this.tokenizer.readToken(DsfChunk_1.ChunkHeader);switch(debug$3(`Parsing chunk name=${s.id} size=${s.size}`),s.id){case"fmt ":const $=await this.tokenizer.readToken(DsfChunk_1.FormatChunk);this.metadata.setFormat("numberOfChannels",$.channelNum),this.metadata.setFormat("sampleRate",$.samplingFrequency),this.metadata.setFormat("bitsPerSample",$.bitsPerSample),this.metadata.setFormat("numberOfSamples",$.sampleCount),this.metadata.setFormat("duration",Number($.sampleCount)/$.samplingFrequency);const j=$.bitsPerSample*$.samplingFrequency*$.channelNum;this.metadata.setFormat("bitrate",j);return;default:this.tokenizer.ignore(Number(s.size)-DsfChunk_1.ChunkHeader.len);break}o-=s.size}}}DsfParser$1.DsfParser=DsfParser;var DsdiffParser$1={},DsdiffToken={};Object.defineProperty(DsdiffToken,"__esModule",{value:!0});DsdiffToken.ChunkHeader64=void 0;const Token$1=lib$1,FourCC_1$1=FourCC;DsdiffToken.ChunkHeader64={len:12,get:(a,o)=>({chunkID:FourCC_1$1.FourCcToken.get(a,o),chunkSize:Token$1.INT64_BE.get(a,o+4)})};Object.defineProperty(DsdiffParser$1,"__esModule",{value:!0});DsdiffParser$1.DsdiffParser=void 0;const Token=lib$1,debug_1$2=browserExports,strtok3$1=core$1,FourCC_1=FourCC,BasicParser_1$1=BasicParser$1,ID3v2Parser_1=ID3v2Parser$1,DsdiffToken_1=DsdiffToken,debug$2=(0,debug_1$2.default)("music-metadata:parser:aiff");class DsdiffParser extends BasicParser_1$1.BasicParser{async parse(){const o=await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);if(o.chunkID!=="FRM8")throw new Error("Unexpected chunk-ID");const s=(await this.tokenizer.readToken(FourCC_1.FourCcToken)).trim();switch(s){case"DSD":return this.metadata.setFormat("container",`DSDIFF/${s}`),this.metadata.setFormat("lossless",!0),this.readFmt8Chunks(o.chunkSize-BigInt(FourCC_1.FourCcToken.len));default:throw Error(`Unsupported DSDIFF type: ${s}`)}}async readFmt8Chunks(o){for(;o>=DsdiffToken_1.ChunkHeader64.len;){const s=await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);debug$2(`Chunk id=${s.chunkID}`),await this.readData(s),o-=BigInt(DsdiffToken_1.ChunkHeader64.len)+s.chunkSize}}async readData(o){debug$2(`Reading data of chunk[ID=${o.chunkID}, size=${o.chunkSize}]`);const s=this.tokenizer.position;switch(o.chunkID.trim()){case"FVER":const j=await this.tokenizer.readToken(Token.UINT32_LE);debug$2(`DSDIFF version=${j}`);break;case"PROP":if(await this.tokenizer.readToken(FourCC_1.FourCcToken)!=="SND ")throw new Error("Unexpected PROP-chunk ID");await this.handleSoundPropertyChunks(o.chunkSize-BigInt(FourCC_1.FourCcToken.len));break;case"ID3":const et=await this.tokenizer.readToken(new Token.Uint8ArrayType(Number(o.chunkSize))),tt=strtok3$1.fromBuffer(et);await new ID3v2Parser_1.ID3v2Parser().parse(this.metadata,tt,this.options);break;default:debug$2(`Ignore chunk[ID=${o.chunkID}, size=${o.chunkSize}]`);break;case"DSD":this.metadata.setFormat("numberOfSamples",Number(o.chunkSize*BigInt(8)/BigInt(this.metadata.format.numberOfChannels))),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate);break}const $=o.chunkSize-BigInt(this.tokenizer.position-s);$>0&&(debug$2(`After Parsing chunk, remaining ${$} bytes`),await this.tokenizer.ignore(Number($)))}async handleSoundPropertyChunks(o){for(debug$2(`Parsing sound-property-chunks, remainingSize=${o}`);o>0;){const s=await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);debug$2(`Sound-property-chunk[ID=${s.chunkID}, size=${s.chunkSize}]`);const $=this.tokenizer.position;switch(s.chunkID.trim()){case"FS":const _e=await this.tokenizer.readToken(Token.UINT32_BE);this.metadata.setFormat("sampleRate",_e);break;case"CHNL":const et=await this.tokenizer.readToken(Token.UINT16_BE);this.metadata.setFormat("numberOfChannels",et),await this.handleChannelChunks(s.chunkSize-BigInt(Token.UINT16_BE.len));break;case"CMPR":const tt=(await this.tokenizer.readToken(FourCC_1.FourCcToken)).trim(),rt=await this.tokenizer.readToken(Token.UINT8),nt=await this.tokenizer.readToken(new Token.StringType(rt,"ascii"));tt==="DSD"&&(this.metadata.setFormat("lossless",!0),this.metadata.setFormat("bitsPerSample",1)),this.metadata.setFormat("codec",`${tt} (${nt})`);break;case"ABSS":const it=await this.tokenizer.readToken(Token.UINT16_BE),ot=await this.tokenizer.readToken(Token.UINT8),at=await this.tokenizer.readToken(Token.UINT8),ut=await this.tokenizer.readToken(Token.UINT32_BE);debug$2(`ABSS ${it}:${ot}:${at}.${ut}`);break;case"LSCO":const ht=await this.tokenizer.readToken(Token.UINT16_BE);debug$2(`LSCO lsConfig=${ht}`);break;case"COMT":default:debug$2(`Unknown sound-property-chunk[ID=${s.chunkID}, size=${s.chunkSize}]`),await this.tokenizer.ignore(Number(s.chunkSize))}const j=s.chunkSize-BigInt(this.tokenizer.position-$);j>0&&(debug$2(`After Parsing sound-property-chunk ${s.chunkSize}, remaining ${j} bytes`),await this.tokenizer.ignore(Number(j))),o-=BigInt(DsdiffToken_1.ChunkHeader64.len)+s.chunkSize,debug$2(`Parsing sound-property-chunks, remainingSize=${o}`)}if(this.metadata.format.lossless&&this.metadata.format.sampleRate&&this.metadata.format.numberOfChannels&&this.metadata.format.bitsPerSample){const s=this.metadata.format.sampleRate*this.metadata.format.numberOfChannels*this.metadata.format.bitsPerSample;this.metadata.setFormat("bitrate",s)}}async handleChannelChunks(o){debug$2(`Parsing channel-chunks, remainingSize=${o}`);const s=[];for(;o>=FourCC_1.FourCcToken.len;){const $=await this.tokenizer.readToken(FourCC_1.FourCcToken);debug$2(`Channel[ID=${$}]`),s.push($),o-=BigInt(FourCC_1.FourCcToken.len)}return debug$2(`Channels: ${s.join(", ")}`),s}}DsdiffParser$1.DsdiffParser=DsdiffParser;var MatroskaParser$1={},MatroskaDtd={};Object.defineProperty(MatroskaDtd,"__esModule",{value:!0});MatroskaDtd.elements=void 0;const types_1$1=types;MatroskaDtd.elements={440786851:{name:"ebml",container:{17030:{name:"ebmlVersion",value:types_1$1.DataType.uint},17143:{name:"ebmlReadVersion",value:types_1$1.DataType.uint},17138:{name:"ebmlMaxIDWidth",value:types_1$1.DataType.uint},17139:{name:"ebmlMaxSizeWidth",value:types_1$1.DataType.uint},17026:{name:"docType",value:types_1$1.DataType.string},17031:{name:"docTypeVersion",value:types_1$1.DataType.uint},17029:{name:"docTypeReadVersion",value:types_1$1.DataType.uint}}},408125543:{name:"segment",container:{290298740:{name:"seekHead",container:{19899:{name:"seek",container:{21419:{name:"seekId",value:types_1$1.DataType.binary},21420:{name:"seekPosition",value:types_1$1.DataType.uint}}}}},357149030:{name:"info",container:{29604:{name:"uid",value:types_1$1.DataType.uid},29572:{name:"filename",value:types_1$1.DataType.string},3979555:{name:"prevUID",value:types_1$1.DataType.uid},3965867:{name:"prevFilename",value:types_1$1.DataType.string},4110627:{name:"nextUID",value:types_1$1.DataType.uid},4096955:{name:"nextFilename",value:types_1$1.DataType.string},2807729:{name:"timecodeScale",value:types_1$1.DataType.uint},17545:{name:"duration",value:types_1$1.DataType.float},17505:{name:"dateUTC",value:types_1$1.DataType.uint},31657:{name:"title",value:types_1$1.DataType.string},19840:{name:"muxingApp",value:types_1$1.DataType.string},22337:{name:"writingApp",value:types_1$1.DataType.string}}},524531317:{name:"cluster",multiple:!0,container:{231:{name:"timecode",value:types_1$1.DataType.uid},163:{name:"unknown",value:types_1$1.DataType.binary},167:{name:"position",value:types_1$1.DataType.uid},171:{name:"prevSize",value:types_1$1.DataType.uid}}},374648427:{name:"tracks",container:{174:{name:"entries",multiple:!0,container:{215:{name:"trackNumber",value:types_1$1.DataType.uint},29637:{name:"uid",value:types_1$1.DataType.uid},131:{name:"trackType",value:types_1$1.DataType.uint},185:{name:"flagEnabled",value:types_1$1.DataType.bool},136:{name:"flagDefault",value:types_1$1.DataType.bool},21930:{name:"flagForced",value:types_1$1.DataType.bool},156:{name:"flagLacing",value:types_1$1.DataType.bool},28135:{name:"minCache",value:types_1$1.DataType.uint},28136:{name:"maxCache",value:types_1$1.DataType.uint},2352003:{name:"defaultDuration",value:types_1$1.DataType.uint},2306383:{name:"timecodeScale",value:types_1$1.DataType.float},21358:{name:"name",value:types_1$1.DataType.string},2274716:{name:"language",value:types_1$1.DataType.string},134:{name:"codecID",value:types_1$1.DataType.string},25506:{name:"codecPrivate",value:types_1$1.DataType.binary},2459272:{name:"codecName",value:types_1$1.DataType.string},3839639:{name:"codecSettings",value:types_1$1.DataType.string},3883072:{name:"codecInfoUrl",value:types_1$1.DataType.string},2536e3:{name:"codecDownloadUrl",value:types_1$1.DataType.string},170:{name:"codecDecodeAll",value:types_1$1.DataType.bool},28587:{name:"trackOverlay",value:types_1$1.DataType.uint},224:{name:"video",container:{154:{name:"flagInterlaced",value:types_1$1.DataType.bool},21432:{name:"stereoMode",value:types_1$1.DataType.uint},176:{name:"pixelWidth",value:types_1$1.DataType.uint},186:{name:"pixelHeight",value:types_1$1.DataType.uint},21680:{name:"displayWidth",value:types_1$1.DataType.uint},21690:{name:"displayHeight",value:types_1$1.DataType.uint},21683:{name:"aspectRatioType",value:types_1$1.DataType.uint},3061028:{name:"colourSpace",value:types_1$1.DataType.uint},3126563:{name:"gammaValue",value:types_1$1.DataType.float}}},225:{name:"audio",container:{181:{name:"samplingFrequency",value:types_1$1.DataType.float},30901:{name:"outputSamplingFrequency",value:types_1$1.DataType.float},159:{name:"channels",value:types_1$1.DataType.uint},148:{name:"channels",value:types_1$1.DataType.uint},32123:{name:"channelPositions",value:types_1$1.DataType.binary},25188:{name:"bitDepth",value:types_1$1.DataType.uint}}},28032:{name:"contentEncodings",container:{25152:{name:"contentEncoding",container:{20529:{name:"order",value:types_1$1.DataType.uint},20530:{name:"scope",value:types_1$1.DataType.bool},20531:{name:"type",value:types_1$1.DataType.uint},20532:{name:"contentEncoding",container:{16980:{name:"contentCompAlgo",value:types_1$1.DataType.uint},16981:{name:"contentCompSettings",value:types_1$1.DataType.binary}}},20533:{name:"contentEncoding",container:{18401:{name:"contentEncAlgo",value:types_1$1.DataType.uint},18402:{name:"contentEncKeyID",value:types_1$1.DataType.binary},18403:{name:"contentSignature ",value:types_1$1.DataType.binary},18404:{name:"ContentSigKeyID  ",value:types_1$1.DataType.binary},18405:{name:"contentSigAlgo ",value:types_1$1.DataType.uint},18406:{name:"contentSigHashAlgo ",value:types_1$1.DataType.uint}}},25188:{name:"bitDepth",value:types_1$1.DataType.uint}}}}}}}}},475249515:{name:"cues",container:{187:{name:"cuePoint",container:{179:{name:"cueTime",value:types_1$1.DataType.uid},183:{name:"positions",container:{247:{name:"track",value:types_1$1.DataType.uint},241:{name:"clusterPosition",value:types_1$1.DataType.uint},21368:{name:"blockNumber",value:types_1$1.DataType.uint},234:{name:"codecState",value:types_1$1.DataType.uint},219:{name:"reference",container:{150:{name:"time",value:types_1$1.DataType.uint},151:{name:"cluster",value:types_1$1.DataType.uint},21343:{name:"number",value:types_1$1.DataType.uint},235:{name:"codecState",value:types_1$1.DataType.uint}}},240:{name:"relativePosition",value:types_1$1.DataType.uint}}}}}}},423732329:{name:"attachments",container:{24999:{name:"attachedFiles",multiple:!0,container:{18046:{name:"description",value:types_1$1.DataType.string},18030:{name:"name",value:types_1$1.DataType.string},18016:{name:"mimeType",value:types_1$1.DataType.string},18012:{name:"data",value:types_1$1.DataType.binary},18094:{name:"uid",value:types_1$1.DataType.uid}}}}},272869232:{name:"chapters",container:{17849:{name:"editionEntry",container:{182:{name:"chapterAtom",container:{29636:{name:"uid",value:types_1$1.DataType.uid},145:{name:"timeStart",value:types_1$1.DataType.uint},146:{name:"timeEnd",value:types_1$1.DataType.uid},152:{name:"hidden",value:types_1$1.DataType.bool},17816:{name:"enabled",value:types_1$1.DataType.uid},143:{name:"track",container:{137:{name:"trackNumber",value:types_1$1.DataType.uid},128:{name:"display",container:{133:{name:"string",value:types_1$1.DataType.string},17276:{name:"language ",value:types_1$1.DataType.string},17278:{name:"country ",value:types_1$1.DataType.string}}}}}}}}}}},307544935:{name:"tags",container:{29555:{name:"tag",multiple:!0,container:{25536:{name:"target",container:{25541:{name:"tagTrackUID",value:types_1$1.DataType.uid},25540:{name:"tagChapterUID",value:types_1$1.DataType.uint},25542:{name:"tagAttachmentUID",value:types_1$1.DataType.uid},25546:{name:"targetType",value:types_1$1.DataType.string},26826:{name:"targetTypeValue",value:types_1$1.DataType.uint},25545:{name:"tagEditionUID",value:types_1$1.DataType.uid}}},26568:{name:"simpleTags",multiple:!0,container:{17827:{name:"name",value:types_1$1.DataType.string},17543:{name:"string",value:types_1$1.DataType.string},17541:{name:"binary",value:types_1$1.DataType.binary},17530:{name:"language",value:types_1$1.DataType.string},17531:{name:"languageIETF",value:types_1$1.DataType.string},17540:{name:"default",value:types_1$1.DataType.bool}}}}}}}}}};Object.defineProperty(MatroskaParser$1,"__esModule",{value:!0});MatroskaParser$1.MatroskaParser=void 0;const token_types_1=lib$1,debug_1$1=browserExports,BasicParser_1=BasicParser$1,types_1=types,matroskaDtd=MatroskaDtd,debug$1=(0,debug_1$1.default)("music-metadata:parser:matroska");class MatroskaParser extends BasicParser_1.BasicParser{constructor(){super(),this.padding=0,this.parserMap=new Map,this.ebmlMaxIDLength=4,this.ebmlMaxSizeLength=8,this.parserMap.set(types_1.DataType.uint,o=>this.readUint(o)),this.parserMap.set(types_1.DataType.string,o=>this.readString(o)),this.parserMap.set(types_1.DataType.binary,o=>this.readBuffer(o)),this.parserMap.set(types_1.DataType.uid,async o=>await this.readUint(o)===1),this.parserMap.set(types_1.DataType.bool,o=>this.readFlag(o)),this.parserMap.set(types_1.DataType.float,o=>this.readFloat(o))}init(o,s,$){return super.init(o,s,$),this}async parse(){const o=await this.parseContainer(matroskaDtd.elements,this.tokenizer.fileInfo.size,[]);if(this.metadata.setFormat("container",`EBML/${o.ebml.docType}`),o.segment){const s=o.segment.info;if(s){const j=s.timecodeScale?s.timecodeScale:1e6;if(typeof s.duration=="number"){const _e=s.duration*j/1e9;this.addTag("segment:title",s.title),this.metadata.setFormat("duration",_e)}}const $=o.segment.tracks;if($&&$.entries){$.entries.forEach(_e=>{const et={codecName:_e.codecID.replace("A_","").replace("V_",""),codecSettings:_e.codecSettings,flagDefault:_e.flagDefault,flagLacing:_e.flagLacing,flagEnabled:_e.flagEnabled,language:_e.language,name:_e.name,type:_e.trackType,audio:_e.audio,video:_e.video};this.metadata.addStreamInfo(et)});const j=$.entries.filter(_e=>_e.trackType===types_1.TrackType.audio.valueOf()).reduce((_e,et)=>!_e||!_e.flagDefault&&et.flagDefault||et.trackNumber&&et.trackNumber<_e.trackNumber?et:_e,null);j&&(this.metadata.setFormat("codec",j.codecID.replace("A_","")),this.metadata.setFormat("sampleRate",j.audio.samplingFrequency),this.metadata.setFormat("numberOfChannels",j.audio.channels)),o.segment.tags&&o.segment.tags.tag.forEach(_e=>{const et=_e.target,tt=et!=null&&et.targetTypeValue?types_1.TargetType[et.targetTypeValue]:et!=null&&et.targetType?et.targetType:"track";_e.simpleTags.forEach(rt=>{const nt=rt.string?rt.string:rt.binary;this.addTag(`${tt}:${rt.name}`,nt)})}),o.segment.attachments&&o.segment.attachments.attachedFiles.filter(_e=>_e.mimeType.startsWith("image/")).map(_e=>({data:_e.data,format:_e.mimeType,description:_e.description,name:_e.name})).forEach(_e=>{this.addTag("picture",_e)})}}}async parseContainer(o,s,$){const j={};for(;this.tokenizer.position<s;){let _e;try{_e=await this.readElement()}catch(tt){if(tt.message==="End-Of-Stream")break;throw tt}const et=o[_e.id];if(et)if(debug$1(`Element: name=${et.name}, container=${!!et.container}`),et.container){const tt=await this.parseContainer(et.container,_e.len>=0?this.tokenizer.position+_e.len:-1,$.concat([et.name]));et.multiple?(j[et.name]||(j[et.name]=[]),j[et.name].push(tt)):j[et.name]=tt}else j[et.name]=await this.parserMap.get(et.value)(_e);else switch(_e.id){case 236:this.padding+=_e.len,await this.tokenizer.ignore(_e.len);break;default:debug$1(`parseEbml: path=${$.join("/")}, unknown element: id=${_e.id.toString(16)}`),this.padding+=_e.len,await this.tokenizer.ignore(_e.len)}}return j}async readVintData(o){const s=await this.tokenizer.peekNumber(token_types_1.UINT8);let $=128,j=1;for(;!(s&$);){if(j>o)throw new Error("VINT value exceeding maximum size");++j,$>>=1}const _e=Buffer.alloc(j);return await this.tokenizer.readBuffer(_e),_e}async readElement(){const o=await this.readVintData(this.ebmlMaxIDLength),s=await this.readVintData(this.ebmlMaxSizeLength);s[0]^=128>>s.length-1;const $=Math.min(6,s.length);return{id:o.readUIntBE(0,o.length),len:s.readUIntBE(s.length-$,$)}}isMaxValue(o){if(o.length===this.ebmlMaxSizeLength){for(let s=1;s<this.ebmlMaxSizeLength;++s)if(o[s]!==255)return!1;return!0}return!1}async readFloat(o){switch(o.len){case 0:return 0;case 4:return this.tokenizer.readNumber(token_types_1.Float32_BE);case 8:return this.tokenizer.readNumber(token_types_1.Float64_BE);case 10:return this.tokenizer.readNumber(token_types_1.Float64_BE);default:throw new Error(`Invalid IEEE-754 float length: ${o.len}`)}}async readFlag(o){return await this.readUint(o)===1}async readUint(o){const s=await this.readBuffer(o),$=Math.min(6,o.len);return s.readUIntBE(o.len-$,$)}async readString(o){return(await this.tokenizer.readToken(new token_types_1.StringType(o.len,"utf-8"))).replace(/\00.*$/g,"")}async readBuffer(o){const s=Buffer.alloc(o.len);return await this.tokenizer.readBuffer(s),s}addTag(o,s){this.metadata.addTag("matroska",o,s)}}MatroskaParser$1.MatroskaParser=MatroskaParser;Object.defineProperty(ParserFactory$1,"__esModule",{value:!0});ParserFactory$1.ParserFactory=ParserFactory$1.parseHttpContentType=void 0;const FileType=core,ContentType=contentType,MimeType=mediaTyper,debug_1=browserExports,MetadataCollector_1=MetadataCollector$1,AiffParser_1=AiffParser,APEv2Parser_1$1=APEv2Parser$1,AsfParser_1=AsfParser$1,FlacParser_1=FlacParser$1,MP4Parser_1=MP4Parser$1,MpegParser_1=MpegParser$1,musepack_1=musepack,OggParser_1=OggParser$1,WaveParser_1=WaveParser$1,WavPackParser_1=WavPackParser$1,DsfParser_1=DsfParser$1,DsdiffParser_1=DsdiffParser$1,MatroskaParser_1=MatroskaParser$1,debug=(0,debug_1.default)("music-metadata:parser:factory");function parseHttpContentType(a){const o=ContentType.parse(a),s=MimeType.parse(o.type);return{type:s.type,subtype:s.subtype,suffix:s.suffix,parameters:o.parameters}}ParserFactory$1.parseHttpContentType=parseHttpContentType;async function parse(a,o,s={}){const $=await ParserFactory.loadParser(o),j=new MetadataCollector_1.MetadataCollector(s);return await $.init(j,a,s).parse(),j.toCommonMetadata()}class ParserFactory{static async parseOnContentType(o,s){const{mimeType:$,path:j,url:_e}=await o.fileInfo,et=ParserFactory.getParserIdForMimeType($)||ParserFactory.getParserIdForExtension(j)||ParserFactory.getParserIdForExtension(_e);return et||debug("No parser found for MIME-type / extension: "+$),this.parse(o,et,s)}static async parse(o,s,$){if(!s){debug("Guess parser on content...");const j=Buffer.alloc(4100);if(await o.peekBuffer(j,{mayBeLess:!0}),o.fileInfo.path&&(s=this.getParserIdForExtension(o.fileInfo.path)),!s){const _e=await FileType.fromBuffer(j);if(!_e)throw new Error("Failed to determine audio format");if(debug(`Guessed file type is mime=${_e.mime}, extension=${_e.ext}`),s=ParserFactory.getParserIdForMimeType(_e.mime),!s)throw new Error("Guessed MIME-type not supported: "+_e.mime)}}return parse(o,s,$)}static getParserIdForExtension(o){if(!o)return;switch(this.getExtension(o).toLocaleLowerCase()||o){case".mp2":case".mp3":case".m2a":case".aac":return"mpeg";case".ape":return"apev2";case".mp4":case".m4a":case".m4b":case".m4pa":case".m4v":case".m4r":case".3gp":return"mp4";case".wma":case".wmv":case".asf":return"asf";case".flac":return"flac";case".ogg":case".ogv":case".oga":case".ogm":case".ogx":case".opus":case".spx":return"ogg";case".aif":case".aiff":case".aifc":return"aiff";case".wav":case".bwf":return"riff";case".wv":case".wvp":return"wavpack";case".mpc":return"musepack";case".dsf":return"dsf";case".dff":return"dsdiff";case".mka":case".mkv":case".mk3d":case".mks":case".webm":return"matroska"}}static async loadParser(o){switch(o){case"aiff":return new AiffParser_1.AIFFParser;case"adts":case"mpeg":return new MpegParser_1.MpegParser;case"apev2":return new APEv2Parser_1$1.APEv2Parser;case"asf":return new AsfParser_1.AsfParser;case"dsf":return new DsfParser_1.DsfParser;case"dsdiff":return new DsdiffParser_1.DsdiffParser;case"flac":return new FlacParser_1.FlacParser;case"mp4":return new MP4Parser_1.MP4Parser;case"musepack":return new musepack_1.default;case"ogg":return new OggParser_1.OggParser;case"riff":return new WaveParser_1.WaveParser;case"wavpack":return new WavPackParser_1.WavPackParser;case"matroska":return new MatroskaParser_1.MatroskaParser;default:throw new Error(`Unknown parser type: ${o}`)}}static getExtension(o){const s=o.lastIndexOf(".");return s===-1?"":o.slice(s)}static getParserIdForMimeType(o){let s;try{s=parseHttpContentType(o)}catch{debug(`Invalid HTTP Content-Type header value: ${o}`);return}const $=s.subtype.indexOf("x-")===0?s.subtype.substring(2):s.subtype;switch(s.type){case"audio":switch($){case"mp3":case"mpeg":return"mpeg";case"aac":case"aacp":return"adts";case"flac":return"flac";case"ape":case"monkeys-audio":return"apev2";case"mp4":case"m4a":return"mp4";case"ogg":case"opus":case"speex":return"ogg";case"ms-wma":case"ms-wmv":case"ms-asf":return"asf";case"aiff":case"aif":case"aifc":return"aiff";case"vnd.wave":case"wav":case"wave":return"riff";case"wavpack":return"wavpack";case"musepack":return"musepack";case"matroska":case"webm":return"matroska";case"dsf":return"dsf"}break;case"video":switch($){case"ms-asf":case"ms-wmv":return"asf";case"m4v":case"mp4":return"mp4";case"ogg":return"ogg";case"matroska":case"webm":return"matroska"}break;case"application":switch($){case"vnd.ms-asf":return"asf";case"ogg":return"ogg"}break}}}ParserFactory$1.ParserFactory=ParserFactory;var RandomUint8ArrayReader$1={};Object.defineProperty(RandomUint8ArrayReader$1,"__esModule",{value:!0});RandomUint8ArrayReader$1.RandomUint8ArrayReader=void 0;class RandomUint8ArrayReader{constructor(o){this.uint8Array=o,this.fileSize=o.length}async randomRead(o,s,$,j){return o.set(this.uint8Array.subarray(j,j+$),s),$}}RandomUint8ArrayReader$1.RandomUint8ArrayReader=RandomUint8ArrayReader;var Lyrics3={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getLyricsHeaderLength=a.endTag2=void 0,a.endTag2="LYRICS200";async function o(s){if(s.fileSize>=143){const $=Buffer.alloc(15);await s.randomRead($,0,$.length,s.fileSize-143);const j=$.toString("binary");if(j.substr(6)===a.endTag2)return parseInt(j.substr(0,6),10)+15}return 0}a.getLyricsHeaderLength=o})(Lyrics3);Object.defineProperty(core$2,"__esModule",{value:!0});core$2.scanAppendingHeaders=core$2.selectCover=core$2.ratingToStars=core$2.orderTags=core$2.parseFromTokenizer=core$2.parseBuffer=core$2.parseStream=void 0;const strtok3=core$1,ParserFactory_1=ParserFactory$1,RandomUint8ArrayReader_1=RandomUint8ArrayReader$1,APEv2Parser_1=APEv2Parser$1,ID3v1Parser_1=ID3v1Parser,Lyrics3_1=Lyrics3;function parseStream(a,o,s={}){return parseFromTokenizer(strtok3.fromStream(a,typeof o=="string"?{mimeType:o}:o),s)}core$2.parseStream=parseStream;async function parseBuffer(a,o,s={}){const $=new RandomUint8ArrayReader_1.RandomUint8ArrayReader(a);await scanAppendingHeaders($,s);const j=strtok3.fromBuffer(a,typeof o=="string"?{mimeType:o}:o);return parseFromTokenizer(j,s)}core$2.parseBuffer=parseBuffer;function parseFromTokenizer(a,o){return ParserFactory_1.ParserFactory.parseOnContentType(a,o)}core$2.parseFromTokenizer=parseFromTokenizer;function orderTags(a){const o={};for(const s of a)(o[s.id]=o[s.id]||[]).push(s.value);return o}core$2.orderTags=orderTags;function ratingToStars(a){return a===void 0?0:1+Math.round(a*4)}core$2.ratingToStars=ratingToStars;function selectCover(a){return a?a.reduce((o,s)=>s.name&&s.name.toLowerCase()in["front","cover","cover (front)"]?s:o):null}core$2.selectCover=selectCover;async function scanAppendingHeaders(a,o={}){let s=a.fileSize;if(await(0,ID3v1Parser_1.hasID3v1Header)(a)){s-=128;const $=await(0,Lyrics3_1.getLyricsHeaderLength)(a);s-=$}o.apeHeader=await APEv2Parser_1.APEv2Parser.findApeFooterOffset(a,s)}core$2.scanAppendingHeaders=scanAppendingHeaders;var lib={},readableBrowser={exports:{}},events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function a(o,s,$){return Function.prototype.apply.call(o,s,$)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(o){return Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o))}:ReflectOwnKeys=function(o){return Object.getOwnPropertyNames(o)};function ProcessEmitWarning(a){console&&console.warn&&console.warn(a)}var NumberIsNaN=Number.isNaN||function a(o){return o!==o};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once$2;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(a){if(typeof a!="number"||a<0||NumberIsNaN(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");defaultMaxListeners=a}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function a(o){if(typeof o!="number"||o<0||NumberIsNaN(o))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+o+".");return this._maxListeners=o,this};function _getMaxListeners(a){return a._maxListeners===void 0?EventEmitter.defaultMaxListeners:a._maxListeners}EventEmitter.prototype.getMaxListeners=function a(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function a(o){for(var s=[],$=1;$<arguments.length;$++)s.push(arguments[$]);var j=o==="error",_e=this._events;if(_e!==void 0)j=j&&_e.error===void 0;else if(!j)return!1;if(j){var et;if(s.length>0&&(et=s[0]),et instanceof Error)throw et;var tt=new Error("Unhandled error."+(et?" ("+et.message+")":""));throw tt.context=et,tt}var rt=_e[o];if(rt===void 0)return!1;if(typeof rt=="function")ReflectApply(rt,this,s);else for(var nt=rt.length,it=arrayClone(rt,nt),$=0;$<nt;++$)ReflectApply(it[$],this,s);return!0};function _addListener(a,o,s,$){var j,_e,et;if(checkListener(s),_e=a._events,_e===void 0?(_e=a._events=Object.create(null),a._eventsCount=0):(_e.newListener!==void 0&&(a.emit("newListener",o,s.listener?s.listener:s),_e=a._events),et=_e[o]),et===void 0)et=_e[o]=s,++a._eventsCount;else if(typeof et=="function"?et=_e[o]=$?[s,et]:[et,s]:$?et.unshift(s):et.push(s),j=_getMaxListeners(a),j>0&&et.length>j&&!et.warned){et.warned=!0;var tt=new Error("Possible EventEmitter memory leak detected. "+et.length+" "+String(o)+" listeners added. Use emitter.setMaxListeners() to increase limit");tt.name="MaxListenersExceededWarning",tt.emitter=a,tt.type=o,tt.count=et.length,ProcessEmitWarning(tt)}return a}EventEmitter.prototype.addListener=function a(o,s){return _addListener(this,o,s,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function a(o,s){return _addListener(this,o,s,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(a,o,s){var $={fired:!1,wrapFn:void 0,target:a,type:o,listener:s},j=onceWrapper.bind($);return j.listener=s,$.wrapFn=j,j}EventEmitter.prototype.once=function a(o,s){return checkListener(s),this.on(o,_onceWrap(this,o,s)),this};EventEmitter.prototype.prependOnceListener=function a(o,s){return checkListener(s),this.prependListener(o,_onceWrap(this,o,s)),this};EventEmitter.prototype.removeListener=function a(o,s){var $,j,_e,et,tt;if(checkListener(s),j=this._events,j===void 0)return this;if($=j[o],$===void 0)return this;if($===s||$.listener===s)--this._eventsCount===0?this._events=Object.create(null):(delete j[o],j.removeListener&&this.emit("removeListener",o,$.listener||s));else if(typeof $!="function"){for(_e=-1,et=$.length-1;et>=0;et--)if($[et]===s||$[et].listener===s){tt=$[et].listener,_e=et;break}if(_e<0)return this;_e===0?$.shift():spliceOne($,_e),$.length===1&&(j[o]=$[0]),j.removeListener!==void 0&&this.emit("removeListener",o,tt||s)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function a(o){var s,$,j;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[o]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[o]),this;if(arguments.length===0){var _e=Object.keys($),et;for(j=0;j<_e.length;++j)et=_e[j],et!=="removeListener"&&this.removeAllListeners(et);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(s=$[o],typeof s=="function")this.removeListener(o,s);else if(s!==void 0)for(j=s.length-1;j>=0;j--)this.removeListener(o,s[j]);return this};function _listeners(a,o,s){var $=a._events;if($===void 0)return[];var j=$[o];return j===void 0?[]:typeof j=="function"?s?[j.listener||j]:[j]:s?unwrapListeners(j):arrayClone(j,j.length)}EventEmitter.prototype.listeners=function a(o){return _listeners(this,o,!0)};EventEmitter.prototype.rawListeners=function a(o){return _listeners(this,o,!1)};EventEmitter.listenerCount=function(a,o){return typeof a.listenerCount=="function"?a.listenerCount(o):listenerCount.call(a,o)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(a){var o=this._events;if(o!==void 0){var s=o[a];if(typeof s=="function")return 1;if(s!==void 0)return s.length}return 0}EventEmitter.prototype.eventNames=function a(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(a,o){for(var s=new Array(o),$=0;$<o;++$)s[$]=a[$];return s}function spliceOne(a,o){for(;o+1<a.length;o++)a[o]=a[o+1];a.pop()}function unwrapListeners(a){for(var o=new Array(a.length),s=0;s<o.length;++s)o[s]=a[s].listener||a[s];return o}function once$2(a,o){return new Promise(function(s,$){function j(et){a.removeListener(o,_e),$(et)}function _e(){typeof a.removeListener=="function"&&a.removeListener("error",j),s([].slice.call(arguments))}eventTargetAgnosticAddListener(a,o,_e,{once:!0}),o!=="error"&&addErrorHandlerIfEventEmitter(a,j,{once:!0})})}function addErrorHandlerIfEventEmitter(a,o,s){typeof a.on=="function"&&eventTargetAgnosticAddListener(a,"error",o,s)}function eventTargetAgnosticAddListener(a,o,s,$){if(typeof a.on=="function")$.once?a.once(o,s):a.on(o,s);else if(typeof a.addEventListener=="function")a.addEventListener(o,function j(_e){$.once&&a.removeEventListener(o,j),s(_e)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}var eventsExports=events.exports,streamBrowser=eventsExports.EventEmitter,buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(a){var o=a.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=a.indexOf("=");s===-1&&(s=o);var $=s===o?0:4-s%4;return[s,$]}function byteLength(a){var o=getLens(a),s=o[0],$=o[1];return(s+$)*3/4-$}function _byteLength(a,o,s){return(o+s)*3/4-s}function toByteArray(a){var o,s=getLens(a),$=s[0],j=s[1],_e=new Arr(_byteLength(a,$,j)),et=0,tt=j>0?$-4:$,rt;for(rt=0;rt<tt;rt+=4)o=revLookup[a.charCodeAt(rt)]<<18|revLookup[a.charCodeAt(rt+1)]<<12|revLookup[a.charCodeAt(rt+2)]<<6|revLookup[a.charCodeAt(rt+3)],_e[et++]=o>>16&255,_e[et++]=o>>8&255,_e[et++]=o&255;return j===2&&(o=revLookup[a.charCodeAt(rt)]<<2|revLookup[a.charCodeAt(rt+1)]>>4,_e[et++]=o&255),j===1&&(o=revLookup[a.charCodeAt(rt)]<<10|revLookup[a.charCodeAt(rt+1)]<<4|revLookup[a.charCodeAt(rt+2)]>>2,_e[et++]=o>>8&255,_e[et++]=o&255),_e}function tripletToBase64(a){return lookup[a>>18&63]+lookup[a>>12&63]+lookup[a>>6&63]+lookup[a&63]}function encodeChunk(a,o,s){for(var $,j=[],_e=o;_e<s;_e+=3)$=(a[_e]<<16&16711680)+(a[_e+1]<<8&65280)+(a[_e+2]&255),j.push(tripletToBase64($));return j.join("")}function fromByteArray(a){for(var o,s=a.length,$=s%3,j=[],_e=16383,et=0,tt=s-$;et<tt;et+=_e)j.push(encodeChunk(a,et,et+_e>tt?tt:et+_e));return $===1?(o=a[s-1],j.push(lookup[o>>2]+lookup[o<<4&63]+"==")):$===2&&(o=(a[s-2]<<8)+a[s-1],j.push(lookup[o>>10]+lookup[o>>4&63]+lookup[o<<2&63]+"=")),j.join("")}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const o=base64Js,s=ieee754,$=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=tt,a.SlowBuffer=ft,a.INSPECT_MAX_BYTES=50;const j=2147483647;a.kMaxLength=j,tt.TYPED_ARRAY_SUPPORT=_e(),!tt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _e(){try{const mt=new Uint8Array(1),st={foo:function(){return 42}};return Object.setPrototypeOf(st,Uint8Array.prototype),Object.setPrototypeOf(mt,st),mt.foo()===42}catch{return!1}}Object.defineProperty(tt.prototype,"parent",{enumerable:!0,get:function(){if(tt.isBuffer(this))return this.buffer}}),Object.defineProperty(tt.prototype,"offset",{enumerable:!0,get:function(){if(tt.isBuffer(this))return this.byteOffset}});function et(mt){if(mt>j)throw new RangeError('The value "'+mt+'" is invalid for option "size"');const st=new Uint8Array(mt);return Object.setPrototypeOf(st,tt.prototype),st}function tt(mt,st,ct){if(typeof mt=="number"){if(typeof st=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ot(mt)}return rt(mt,st,ct)}tt.poolSize=8192;function rt(mt,st,ct){if(typeof mt=="string")return at(mt,st);if(ArrayBuffer.isView(mt))return ht(mt);if(mt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof mt);if(hr(mt,ArrayBuffer)||mt&&hr(mt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(hr(mt,SharedArrayBuffer)||mt&&hr(mt.buffer,SharedArrayBuffer)))return pt(mt,st,ct);if(typeof mt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Tt=mt.valueOf&&mt.valueOf();if(Tt!=null&&Tt!==mt)return tt.from(Tt,st,ct);const kt=Ct(mt);if(kt)return kt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof mt[Symbol.toPrimitive]=="function")return tt.from(mt[Symbol.toPrimitive]("string"),st,ct);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof mt)}tt.from=function(mt,st,ct){return rt(mt,st,ct)},Object.setPrototypeOf(tt.prototype,Uint8Array.prototype),Object.setPrototypeOf(tt,Uint8Array);function nt(mt){if(typeof mt!="number")throw new TypeError('"size" argument must be of type number');if(mt<0)throw new RangeError('The value "'+mt+'" is invalid for option "size"')}function it(mt,st,ct){return nt(mt),mt<=0?et(mt):st!==void 0?typeof ct=="string"?et(mt).fill(st,ct):et(mt).fill(st):et(mt)}tt.alloc=function(mt,st,ct){return it(mt,st,ct)};function ot(mt){return nt(mt),et(mt<0?0:lt(mt)|0)}tt.allocUnsafe=function(mt){return ot(mt)},tt.allocUnsafeSlow=function(mt){return ot(mt)};function at(mt,st){if((typeof st!="string"||st==="")&&(st="utf8"),!tt.isEncoding(st))throw new TypeError("Unknown encoding: "+st);const ct=gt(mt,st)|0;let Tt=et(ct);const kt=Tt.write(mt,st);return kt!==ct&&(Tt=Tt.slice(0,kt)),Tt}function ut(mt){const st=mt.length<0?0:lt(mt.length)|0,ct=et(st);for(let Tt=0;Tt<st;Tt+=1)ct[Tt]=mt[Tt]&255;return ct}function ht(mt){if(hr(mt,Uint8Array)){const st=new Uint8Array(mt);return pt(st.buffer,st.byteOffset,st.byteLength)}return ut(mt)}function pt(mt,st,ct){if(st<0||mt.byteLength<st)throw new RangeError('"offset" is outside of buffer bounds');if(mt.byteLength<st+(ct||0))throw new RangeError('"length" is outside of buffer bounds');let Tt;return st===void 0&&ct===void 0?Tt=new Uint8Array(mt):ct===void 0?Tt=new Uint8Array(mt,st):Tt=new Uint8Array(mt,st,ct),Object.setPrototypeOf(Tt,tt.prototype),Tt}function Ct(mt){if(tt.isBuffer(mt)){const st=lt(mt.length)|0,ct=et(st);return ct.length===0||mt.copy(ct,0,0,st),ct}if(mt.length!==void 0)return typeof mt.length!="number"||dr(mt.length)?et(0):ut(mt);if(mt.type==="Buffer"&&Array.isArray(mt.data))return ut(mt.data)}function lt(mt){if(mt>=j)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j.toString(16)+" bytes");return mt|0}function ft(mt){return+mt!=mt&&(mt=0),tt.alloc(+mt)}tt.isBuffer=function(st){return st!=null&&st._isBuffer===!0&&st!==tt.prototype},tt.compare=function(st,ct){if(hr(st,Uint8Array)&&(st=tt.from(st,st.offset,st.byteLength)),hr(ct,Uint8Array)&&(ct=tt.from(ct,ct.offset,ct.byteLength)),!tt.isBuffer(st)||!tt.isBuffer(ct))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(st===ct)return 0;let Tt=st.length,kt=ct.length;for(let bt=0,$t=Math.min(Tt,kt);bt<$t;++bt)if(st[bt]!==ct[bt]){Tt=st[bt],kt=ct[bt];break}return Tt<kt?-1:kt<Tt?1:0},tt.isEncoding=function(st){switch(String(st).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},tt.concat=function(st,ct){if(!Array.isArray(st))throw new TypeError('"list" argument must be an Array of Buffers');if(st.length===0)return tt.alloc(0);let Tt;if(ct===void 0)for(ct=0,Tt=0;Tt<st.length;++Tt)ct+=st[Tt].length;const kt=tt.allocUnsafe(ct);let bt=0;for(Tt=0;Tt<st.length;++Tt){let $t=st[Tt];if(hr($t,Uint8Array))bt+$t.length>kt.length?(tt.isBuffer($t)||($t=tt.from($t)),$t.copy(kt,bt)):Uint8Array.prototype.set.call(kt,$t,bt);else if(tt.isBuffer($t))$t.copy(kt,bt);else throw new TypeError('"list" argument must be an Array of Buffers');bt+=$t.length}return kt};function gt(mt,st){if(tt.isBuffer(mt))return mt.length;if(ArrayBuffer.isView(mt)||hr(mt,ArrayBuffer))return mt.byteLength;if(typeof mt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof mt);const ct=mt.length,Tt=arguments.length>2&&arguments[2]===!0;if(!Tt&&ct===0)return 0;let kt=!1;for(;;)switch(st){case"ascii":case"latin1":case"binary":return ct;case"utf8":case"utf-8":return Wt(mt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ct*2;case"hex":return ct>>>1;case"base64":return cr(mt).length;default:if(kt)return Tt?-1:Wt(mt).length;st=(""+st).toLowerCase(),kt=!0}}tt.byteLength=gt;function St(mt,st,ct){let Tt=!1;if((st===void 0||st<0)&&(st=0),st>this.length||((ct===void 0||ct>this.length)&&(ct=this.length),ct<=0)||(ct>>>=0,st>>>=0,ct<=st))return"";for(mt||(mt="utf8");;)switch(mt){case"hex":return zt(this,st,ct);case"utf8":case"utf-8":return qt(this,st,ct);case"ascii":return rr(this,st,ct);case"latin1":case"binary":return Ot(this,st,ct);case"base64":return Kt(this,st,ct);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jt(this,st,ct);default:if(Tt)throw new TypeError("Unknown encoding: "+mt);mt=(mt+"").toLowerCase(),Tt=!0}}tt.prototype._isBuffer=!0;function It(mt,st,ct){const Tt=mt[st];mt[st]=mt[ct],mt[ct]=Tt}tt.prototype.swap16=function(){const st=this.length;if(st%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ct=0;ct<st;ct+=2)It(this,ct,ct+1);return this},tt.prototype.swap32=function(){const st=this.length;if(st%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ct=0;ct<st;ct+=4)It(this,ct,ct+3),It(this,ct+1,ct+2);return this},tt.prototype.swap64=function(){const st=this.length;if(st%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ct=0;ct<st;ct+=8)It(this,ct,ct+7),It(this,ct+1,ct+6),It(this,ct+2,ct+5),It(this,ct+3,ct+4);return this},tt.prototype.toString=function(){const st=this.length;return st===0?"":arguments.length===0?qt(this,0,st):St.apply(this,arguments)},tt.prototype.toLocaleString=tt.prototype.toString,tt.prototype.equals=function(st){if(!tt.isBuffer(st))throw new TypeError("Argument must be a Buffer");return this===st?!0:tt.compare(this,st)===0},tt.prototype.inspect=function(){let st="";const ct=a.INSPECT_MAX_BYTES;return st=this.toString("hex",0,ct).replace(/(.{2})/g,"$1 ").trim(),this.length>ct&&(st+=" ... "),"<Buffer "+st+">"},$&&(tt.prototype[$]=tt.prototype.inspect),tt.prototype.compare=function(st,ct,Tt,kt,bt){if(hr(st,Uint8Array)&&(st=tt.from(st,st.offset,st.byteLength)),!tt.isBuffer(st))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof st);if(ct===void 0&&(ct=0),Tt===void 0&&(Tt=st?st.length:0),kt===void 0&&(kt=0),bt===void 0&&(bt=this.length),ct<0||Tt>st.length||kt<0||bt>this.length)throw new RangeError("out of range index");if(kt>=bt&&ct>=Tt)return 0;if(kt>=bt)return-1;if(ct>=Tt)return 1;if(ct>>>=0,Tt>>>=0,kt>>>=0,bt>>>=0,this===st)return 0;let $t=bt-kt,tr=Tt-ct;const ir=Math.min($t,tr),lr=this.slice(kt,bt),pr=st.slice(ct,Tt);for(let sr=0;sr<ir;++sr)if(lr[sr]!==pr[sr]){$t=lr[sr],tr=pr[sr];break}return $t<tr?-1:tr<$t?1:0};function vt(mt,st,ct,Tt,kt){if(mt.length===0)return-1;if(typeof ct=="string"?(Tt=ct,ct=0):ct>2147483647?ct=2147483647:ct<-2147483648&&(ct=-2147483648),ct=+ct,dr(ct)&&(ct=kt?0:mt.length-1),ct<0&&(ct=mt.length+ct),ct>=mt.length){if(kt)return-1;ct=mt.length-1}else if(ct<0)if(kt)ct=0;else return-1;if(typeof st=="string"&&(st=tt.from(st,Tt)),tt.isBuffer(st))return st.length===0?-1:dt(mt,st,ct,Tt,kt);if(typeof st=="number")return st=st&255,typeof Uint8Array.prototype.indexOf=="function"?kt?Uint8Array.prototype.indexOf.call(mt,st,ct):Uint8Array.prototype.lastIndexOf.call(mt,st,ct):dt(mt,[st],ct,Tt,kt);throw new TypeError("val must be string, number or Buffer")}function dt(mt,st,ct,Tt,kt){let bt=1,$t=mt.length,tr=st.length;if(Tt!==void 0&&(Tt=String(Tt).toLowerCase(),Tt==="ucs2"||Tt==="ucs-2"||Tt==="utf16le"||Tt==="utf-16le")){if(mt.length<2||st.length<2)return-1;bt=2,$t/=2,tr/=2,ct/=2}function ir(pr,sr){return bt===1?pr[sr]:pr.readUInt16BE(sr*bt)}let lr;if(kt){let pr=-1;for(lr=ct;lr<$t;lr++)if(ir(mt,lr)===ir(st,pr===-1?0:lr-pr)){if(pr===-1&&(pr=lr),lr-pr+1===tr)return pr*bt}else pr!==-1&&(lr-=lr-pr),pr=-1}else for(ct+tr>$t&&(ct=$t-tr),lr=ct;lr>=0;lr--){let pr=!0;for(let sr=0;sr<tr;sr++)if(ir(mt,lr+sr)!==ir(st,sr)){pr=!1;break}if(pr)return lr}return-1}tt.prototype.includes=function(st,ct,Tt){return this.indexOf(st,ct,Tt)!==-1},tt.prototype.indexOf=function(st,ct,Tt){return vt(this,st,ct,Tt,!0)},tt.prototype.lastIndexOf=function(st,ct,Tt){return vt(this,st,ct,Tt,!1)};function yt(mt,st,ct,Tt){ct=Number(ct)||0;const kt=mt.length-ct;Tt?(Tt=Number(Tt),Tt>kt&&(Tt=kt)):Tt=kt;const bt=st.length;Tt>bt/2&&(Tt=bt/2);let $t;for($t=0;$t<Tt;++$t){const tr=parseInt(st.substr($t*2,2),16);if(dr(tr))return $t;mt[ct+$t]=tr}return $t}function Rt(mt,st,ct,Tt){return mr(Wt(st,mt.length-ct),mt,ct,Tt)}function Pt(mt,st,ct,Tt){return mr(or(st),mt,ct,Tt)}function Dt(mt,st,ct,Tt){return mr(cr(st),mt,ct,Tt)}function Ft(mt,st,ct,Tt){return mr(fr(st,mt.length-ct),mt,ct,Tt)}tt.prototype.write=function(st,ct,Tt,kt){if(ct===void 0)kt="utf8",Tt=this.length,ct=0;else if(Tt===void 0&&typeof ct=="string")kt=ct,Tt=this.length,ct=0;else if(isFinite(ct))ct=ct>>>0,isFinite(Tt)?(Tt=Tt>>>0,kt===void 0&&(kt="utf8")):(kt=Tt,Tt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const bt=this.length-ct;if((Tt===void 0||Tt>bt)&&(Tt=bt),st.length>0&&(Tt<0||ct<0)||ct>this.length)throw new RangeError("Attempt to write outside buffer bounds");kt||(kt="utf8");let $t=!1;for(;;)switch(kt){case"hex":return yt(this,st,ct,Tt);case"utf8":case"utf-8":return Rt(this,st,ct,Tt);case"ascii":case"latin1":case"binary":return Pt(this,st,ct,Tt);case"base64":return Dt(this,st,ct,Tt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ft(this,st,ct,Tt);default:if($t)throw new TypeError("Unknown encoding: "+kt);kt=(""+kt).toLowerCase(),$t=!0}},tt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Kt(mt,st,ct){return st===0&&ct===mt.length?o.fromByteArray(mt):o.fromByteArray(mt.slice(st,ct))}function qt(mt,st,ct){ct=Math.min(mt.length,ct);const Tt=[];let kt=st;for(;kt<ct;){const bt=mt[kt];let $t=null,tr=bt>239?4:bt>223?3:bt>191?2:1;if(kt+tr<=ct){let ir,lr,pr,sr;switch(tr){case 1:bt<128&&($t=bt);break;case 2:ir=mt[kt+1],(ir&192)===128&&(sr=(bt&31)<<6|ir&63,sr>127&&($t=sr));break;case 3:ir=mt[kt+1],lr=mt[kt+2],(ir&192)===128&&(lr&192)===128&&(sr=(bt&15)<<12|(ir&63)<<6|lr&63,sr>2047&&(sr<55296||sr>57343)&&($t=sr));break;case 4:ir=mt[kt+1],lr=mt[kt+2],pr=mt[kt+3],(ir&192)===128&&(lr&192)===128&&(pr&192)===128&&(sr=(bt&15)<<18|(ir&63)<<12|(lr&63)<<6|pr&63,sr>65535&&sr<1114112&&($t=sr))}}$t===null?($t=65533,tr=1):$t>65535&&($t-=65536,Tt.push($t>>>10&1023|55296),$t=56320|$t&1023),Tt.push($t),kt+=tr}return er(Tt)}const Zt=4096;function er(mt){const st=mt.length;if(st<=Zt)return String.fromCharCode.apply(String,mt);let ct="",Tt=0;for(;Tt<st;)ct+=String.fromCharCode.apply(String,mt.slice(Tt,Tt+=Zt));return ct}function rr(mt,st,ct){let Tt="";ct=Math.min(mt.length,ct);for(let kt=st;kt<ct;++kt)Tt+=String.fromCharCode(mt[kt]&127);return Tt}function Ot(mt,st,ct){let Tt="";ct=Math.min(mt.length,ct);for(let kt=st;kt<ct;++kt)Tt+=String.fromCharCode(mt[kt]);return Tt}function zt(mt,st,ct){const Tt=mt.length;(!st||st<0)&&(st=0),(!ct||ct<0||ct>Tt)&&(ct=Tt);let kt="";for(let bt=st;bt<ct;++bt)kt+=Ut[mt[bt]];return kt}function jt(mt,st,ct){const Tt=mt.slice(st,ct);let kt="";for(let bt=0;bt<Tt.length-1;bt+=2)kt+=String.fromCharCode(Tt[bt]+Tt[bt+1]*256);return kt}tt.prototype.slice=function(st,ct){const Tt=this.length;st=~~st,ct=ct===void 0?Tt:~~ct,st<0?(st+=Tt,st<0&&(st=0)):st>Tt&&(st=Tt),ct<0?(ct+=Tt,ct<0&&(ct=0)):ct>Tt&&(ct=Tt),ct<st&&(ct=st);const kt=this.subarray(st,ct);return Object.setPrototypeOf(kt,tt.prototype),kt};function Gt(mt,st,ct){if(mt%1!==0||mt<0)throw new RangeError("offset is not uint");if(mt+st>ct)throw new RangeError("Trying to access beyond buffer length")}tt.prototype.readUintLE=tt.prototype.readUIntLE=function(st,ct,Tt){st=st>>>0,ct=ct>>>0,Tt||Gt(st,ct,this.length);let kt=this[st],bt=1,$t=0;for(;++$t<ct&&(bt*=256);)kt+=this[st+$t]*bt;return kt},tt.prototype.readUintBE=tt.prototype.readUIntBE=function(st,ct,Tt){st=st>>>0,ct=ct>>>0,Tt||Gt(st,ct,this.length);let kt=this[st+--ct],bt=1;for(;ct>0&&(bt*=256);)kt+=this[st+--ct]*bt;return kt},tt.prototype.readUint8=tt.prototype.readUInt8=function(st,ct){return st=st>>>0,ct||Gt(st,1,this.length),this[st]},tt.prototype.readUint16LE=tt.prototype.readUInt16LE=function(st,ct){return st=st>>>0,ct||Gt(st,2,this.length),this[st]|this[st+1]<<8},tt.prototype.readUint16BE=tt.prototype.readUInt16BE=function(st,ct){return st=st>>>0,ct||Gt(st,2,this.length),this[st]<<8|this[st+1]},tt.prototype.readUint32LE=tt.prototype.readUInt32LE=function(st,ct){return st=st>>>0,ct||Gt(st,4,this.length),(this[st]|this[st+1]<<8|this[st+2]<<16)+this[st+3]*16777216},tt.prototype.readUint32BE=tt.prototype.readUInt32BE=function(st,ct){return st=st>>>0,ct||Gt(st,4,this.length),this[st]*16777216+(this[st+1]<<16|this[st+2]<<8|this[st+3])},tt.prototype.readBigUInt64LE=Ht(function(st){st=st>>>0,Mt(st,"offset");const ct=this[st],Tt=this[st+7];(ct===void 0||Tt===void 0)&&Nt(st,this.length-8);const kt=ct+this[++st]*2**8+this[++st]*2**16+this[++st]*2**24,bt=this[++st]+this[++st]*2**8+this[++st]*2**16+Tt*2**24;return BigInt(kt)+(BigInt(bt)<<BigInt(32))}),tt.prototype.readBigUInt64BE=Ht(function(st){st=st>>>0,Mt(st,"offset");const ct=this[st],Tt=this[st+7];(ct===void 0||Tt===void 0)&&Nt(st,this.length-8);const kt=ct*2**24+this[++st]*2**16+this[++st]*2**8+this[++st],bt=this[++st]*2**24+this[++st]*2**16+this[++st]*2**8+Tt;return(BigInt(kt)<<BigInt(32))+BigInt(bt)}),tt.prototype.readIntLE=function(st,ct,Tt){st=st>>>0,ct=ct>>>0,Tt||Gt(st,ct,this.length);let kt=this[st],bt=1,$t=0;for(;++$t<ct&&(bt*=256);)kt+=this[st+$t]*bt;return bt*=128,kt>=bt&&(kt-=Math.pow(2,8*ct)),kt},tt.prototype.readIntBE=function(st,ct,Tt){st=st>>>0,ct=ct>>>0,Tt||Gt(st,ct,this.length);let kt=ct,bt=1,$t=this[st+--kt];for(;kt>0&&(bt*=256);)$t+=this[st+--kt]*bt;return bt*=128,$t>=bt&&($t-=Math.pow(2,8*ct)),$t},tt.prototype.readInt8=function(st,ct){return st=st>>>0,ct||Gt(st,1,this.length),this[st]&128?(255-this[st]+1)*-1:this[st]},tt.prototype.readInt16LE=function(st,ct){st=st>>>0,ct||Gt(st,2,this.length);const Tt=this[st]|this[st+1]<<8;return Tt&32768?Tt|4294901760:Tt},tt.prototype.readInt16BE=function(st,ct){st=st>>>0,ct||Gt(st,2,this.length);const Tt=this[st+1]|this[st]<<8;return Tt&32768?Tt|4294901760:Tt},tt.prototype.readInt32LE=function(st,ct){return st=st>>>0,ct||Gt(st,4,this.length),this[st]|this[st+1]<<8|this[st+2]<<16|this[st+3]<<24},tt.prototype.readInt32BE=function(st,ct){return st=st>>>0,ct||Gt(st,4,this.length),this[st]<<24|this[st+1]<<16|this[st+2]<<8|this[st+3]},tt.prototype.readBigInt64LE=Ht(function(st){st=st>>>0,Mt(st,"offset");const ct=this[st],Tt=this[st+7];(ct===void 0||Tt===void 0)&&Nt(st,this.length-8);const kt=this[st+4]+this[st+5]*2**8+this[st+6]*2**16+(Tt<<24);return(BigInt(kt)<<BigInt(32))+BigInt(ct+this[++st]*2**8+this[++st]*2**16+this[++st]*2**24)}),tt.prototype.readBigInt64BE=Ht(function(st){st=st>>>0,Mt(st,"offset");const ct=this[st],Tt=this[st+7];(ct===void 0||Tt===void 0)&&Nt(st,this.length-8);const kt=(ct<<24)+this[++st]*2**16+this[++st]*2**8+this[++st];return(BigInt(kt)<<BigInt(32))+BigInt(this[++st]*2**24+this[++st]*2**16+this[++st]*2**8+Tt)}),tt.prototype.readFloatLE=function(st,ct){return st=st>>>0,ct||Gt(st,4,this.length),s.read(this,st,!0,23,4)},tt.prototype.readFloatBE=function(st,ct){return st=st>>>0,ct||Gt(st,4,this.length),s.read(this,st,!1,23,4)},tt.prototype.readDoubleLE=function(st,ct){return st=st>>>0,ct||Gt(st,8,this.length),s.read(this,st,!0,52,8)},tt.prototype.readDoubleBE=function(st,ct){return st=st>>>0,ct||Gt(st,8,this.length),s.read(this,st,!1,52,8)};function Yt(mt,st,ct,Tt,kt,bt){if(!tt.isBuffer(mt))throw new TypeError('"buffer" argument must be a Buffer instance');if(st>kt||st<bt)throw new RangeError('"value" argument is out of bounds');if(ct+Tt>mt.length)throw new RangeError("Index out of range")}tt.prototype.writeUintLE=tt.prototype.writeUIntLE=function(st,ct,Tt,kt){if(st=+st,ct=ct>>>0,Tt=Tt>>>0,!kt){const tr=Math.pow(2,8*Tt)-1;Yt(this,st,ct,Tt,tr,0)}let bt=1,$t=0;for(this[ct]=st&255;++$t<Tt&&(bt*=256);)this[ct+$t]=st/bt&255;return ct+Tt},tt.prototype.writeUintBE=tt.prototype.writeUIntBE=function(st,ct,Tt,kt){if(st=+st,ct=ct>>>0,Tt=Tt>>>0,!kt){const tr=Math.pow(2,8*Tt)-1;Yt(this,st,ct,Tt,tr,0)}let bt=Tt-1,$t=1;for(this[ct+bt]=st&255;--bt>=0&&($t*=256);)this[ct+bt]=st/$t&255;return ct+Tt},tt.prototype.writeUint8=tt.prototype.writeUInt8=function(st,ct,Tt){return st=+st,ct=ct>>>0,Tt||Yt(this,st,ct,1,255,0),this[ct]=st&255,ct+1},tt.prototype.writeUint16LE=tt.prototype.writeUInt16LE=function(st,ct,Tt){return st=+st,ct=ct>>>0,Tt||Yt(this,st,ct,2,65535,0),this[ct]=st&255,this[ct+1]=st>>>8,ct+2},tt.prototype.writeUint16BE=tt.prototype.writeUInt16BE=function(st,ct,Tt){return st=+st,ct=ct>>>0,Tt||Yt(this,st,ct,2,65535,0),this[ct]=st>>>8,this[ct+1]=st&255,ct+2},tt.prototype.writeUint32LE=tt.prototype.writeUInt32LE=function(st,ct,Tt){return st=+st,ct=ct>>>0,Tt||Yt(this,st,ct,4,4294967295,0),this[ct+3]=st>>>24,this[ct+2]=st>>>16,this[ct+1]=st>>>8,this[ct]=st&255,ct+4},tt.prototype.writeUint32BE=tt.prototype.writeUInt32BE=function(st,ct,Tt){return st=+st,ct=ct>>>0,Tt||Yt(this,st,ct,4,4294967295,0),this[ct]=st>>>24,this[ct+1]=st>>>16,this[ct+2]=st>>>8,this[ct+3]=st&255,ct+4};function nr(mt,st,ct,Tt,kt){wt(st,Tt,kt,mt,ct,7);let bt=Number(st&BigInt(4294967295));mt[ct++]=bt,bt=bt>>8,mt[ct++]=bt,bt=bt>>8,mt[ct++]=bt,bt=bt>>8,mt[ct++]=bt;let $t=Number(st>>BigInt(32)&BigInt(4294967295));return mt[ct++]=$t,$t=$t>>8,mt[ct++]=$t,$t=$t>>8,mt[ct++]=$t,$t=$t>>8,mt[ct++]=$t,ct}function ar(mt,st,ct,Tt,kt){wt(st,Tt,kt,mt,ct,7);let bt=Number(st&BigInt(4294967295));mt[ct+7]=bt,bt=bt>>8,mt[ct+6]=bt,bt=bt>>8,mt[ct+5]=bt,bt=bt>>8,mt[ct+4]=bt;let $t=Number(st>>BigInt(32)&BigInt(4294967295));return mt[ct+3]=$t,$t=$t>>8,mt[ct+2]=$t,$t=$t>>8,mt[ct+1]=$t,$t=$t>>8,mt[ct]=$t,ct+8}tt.prototype.writeBigUInt64LE=Ht(function(st,ct=0){return nr(this,st,ct,BigInt(0),BigInt("0xffffffffffffffff"))}),tt.prototype.writeBigUInt64BE=Ht(function(st,ct=0){return ar(this,st,ct,BigInt(0),BigInt("0xffffffffffffffff"))}),tt.prototype.writeIntLE=function(st,ct,Tt,kt){if(st=+st,ct=ct>>>0,!kt){const ir=Math.pow(2,8*Tt-1);Yt(this,st,ct,Tt,ir-1,-ir)}let bt=0,$t=1,tr=0;for(this[ct]=st&255;++bt<Tt&&($t*=256);)st<0&&tr===0&&this[ct+bt-1]!==0&&(tr=1),this[ct+bt]=(st/$t>>0)-tr&255;return ct+Tt},tt.prototype.writeIntBE=function(st,ct,Tt,kt){if(st=+st,ct=ct>>>0,!kt){const ir=Math.pow(2,8*Tt-1);Yt(this,st,ct,Tt,ir-1,-ir)}let bt=Tt-1,$t=1,tr=0;for(this[ct+bt]=st&255;--bt>=0&&($t*=256);)st<0&&tr===0&&this[ct+bt+1]!==0&&(tr=1),this[ct+bt]=(st/$t>>0)-tr&255;return ct+Tt},tt.prototype.writeInt8=function(st,ct,Tt){return st=+st,ct=ct>>>0,Tt||Yt(this,st,ct,1,127,-128),st<0&&(st=255+st+1),this[ct]=st&255,ct+1},tt.prototype.writeInt16LE=function(st,ct,Tt){return st=+st,ct=ct>>>0,Tt||Yt(this,st,ct,2,32767,-32768),this[ct]=st&255,this[ct+1]=st>>>8,ct+2},tt.prototype.writeInt16BE=function(st,ct,Tt){return st=+st,ct=ct>>>0,Tt||Yt(this,st,ct,2,32767,-32768),this[ct]=st>>>8,this[ct+1]=st&255,ct+2},tt.prototype.writeInt32LE=function(st,ct,Tt){return st=+st,ct=ct>>>0,Tt||Yt(this,st,ct,4,2147483647,-2147483648),this[ct]=st&255,this[ct+1]=st>>>8,this[ct+2]=st>>>16,this[ct+3]=st>>>24,ct+4},tt.prototype.writeInt32BE=function(st,ct,Tt){return st=+st,ct=ct>>>0,Tt||Yt(this,st,ct,4,2147483647,-2147483648),st<0&&(st=4294967295+st+1),this[ct]=st>>>24,this[ct+1]=st>>>16,this[ct+2]=st>>>8,this[ct+3]=st&255,ct+4},tt.prototype.writeBigInt64LE=Ht(function(st,ct=0){return nr(this,st,ct,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),tt.prototype.writeBigInt64BE=Ht(function(st,ct=0){return ar(this,st,ct,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ur(mt,st,ct,Tt,kt,bt){if(ct+Tt>mt.length)throw new RangeError("Index out of range");if(ct<0)throw new RangeError("Index out of range")}function At(mt,st,ct,Tt,kt){return st=+st,ct=ct>>>0,kt||ur(mt,st,ct,4),s.write(mt,st,ct,Tt,23,4),ct+4}tt.prototype.writeFloatLE=function(st,ct,Tt){return At(this,st,ct,!0,Tt)},tt.prototype.writeFloatBE=function(st,ct,Tt){return At(this,st,ct,!1,Tt)};function xt(mt,st,ct,Tt,kt){return st=+st,ct=ct>>>0,kt||ur(mt,st,ct,8),s.write(mt,st,ct,Tt,52,8),ct+8}tt.prototype.writeDoubleLE=function(st,ct,Tt){return xt(this,st,ct,!0,Tt)},tt.prototype.writeDoubleBE=function(st,ct,Tt){return xt(this,st,ct,!1,Tt)},tt.prototype.copy=function(st,ct,Tt,kt){if(!tt.isBuffer(st))throw new TypeError("argument should be a Buffer");if(Tt||(Tt=0),!kt&&kt!==0&&(kt=this.length),ct>=st.length&&(ct=st.length),ct||(ct=0),kt>0&&kt<Tt&&(kt=Tt),kt===Tt||st.length===0||this.length===0)return 0;if(ct<0)throw new RangeError("targetStart out of bounds");if(Tt<0||Tt>=this.length)throw new RangeError("Index out of range");if(kt<0)throw new RangeError("sourceEnd out of bounds");kt>this.length&&(kt=this.length),st.length-ct<kt-Tt&&(kt=st.length-ct+Tt);const bt=kt-Tt;return this===st&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ct,Tt,kt):Uint8Array.prototype.set.call(st,this.subarray(Tt,kt),ct),bt},tt.prototype.fill=function(st,ct,Tt,kt){if(typeof st=="string"){if(typeof ct=="string"?(kt=ct,ct=0,Tt=this.length):typeof Tt=="string"&&(kt=Tt,Tt=this.length),kt!==void 0&&typeof kt!="string")throw new TypeError("encoding must be a string");if(typeof kt=="string"&&!tt.isEncoding(kt))throw new TypeError("Unknown encoding: "+kt);if(st.length===1){const $t=st.charCodeAt(0);(kt==="utf8"&&$t<128||kt==="latin1")&&(st=$t)}}else typeof st=="number"?st=st&255:typeof st=="boolean"&&(st=Number(st));if(ct<0||this.length<ct||this.length<Tt)throw new RangeError("Out of range index");if(Tt<=ct)return this;ct=ct>>>0,Tt=Tt===void 0?this.length:Tt>>>0,st||(st=0);let bt;if(typeof st=="number")for(bt=ct;bt<Tt;++bt)this[bt]=st;else{const $t=tt.isBuffer(st)?st:tt.from(st,kt),tr=$t.length;if(tr===0)throw new TypeError('The value "'+st+'" is invalid for argument "value"');for(bt=0;bt<Tt-ct;++bt)this[bt+ct]=$t[bt%tr]}return this};const Bt={};function Lt(mt,st,ct){Bt[mt]=class extends ct{constructor(){super(),Object.defineProperty(this,"message",{value:st.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${mt}]`,this.stack,delete this.name}get code(){return mt}set code(kt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:kt,writable:!0})}toString(){return`${this.name} [${mt}]: ${this.message}`}}}Lt("ERR_BUFFER_OUT_OF_BOUNDS",function(mt){return mt?`${mt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Lt("ERR_INVALID_ARG_TYPE",function(mt,st){return`The "${mt}" argument must be of type number. Received type ${typeof st}`},TypeError),Lt("ERR_OUT_OF_RANGE",function(mt,st,ct){let Tt=`The value of "${mt}" is out of range.`,kt=ct;return Number.isInteger(ct)&&Math.abs(ct)>2**32?kt=Xt(String(ct)):typeof ct=="bigint"&&(kt=String(ct),(ct>BigInt(2)**BigInt(32)||ct<-(BigInt(2)**BigInt(32)))&&(kt=Xt(kt)),kt+="n"),Tt+=` It must be ${st}. Received ${kt}`,Tt},RangeError);function Xt(mt){let st="",ct=mt.length;const Tt=mt[0]==="-"?1:0;for(;ct>=Tt+4;ct-=3)st=`_${mt.slice(ct-3,ct)}${st}`;return`${mt.slice(0,ct)}${st}`}function Et(mt,st,ct){Mt(st,"offset"),(mt[st]===void 0||mt[st+ct]===void 0)&&Nt(st,mt.length-(ct+1))}function wt(mt,st,ct,Tt,kt,bt){if(mt>ct||mt<st){const $t=typeof st=="bigint"?"n":"";let tr;throw bt>3?st===0||st===BigInt(0)?tr=`>= 0${$t} and < 2${$t} ** ${(bt+1)*8}${$t}`:tr=`>= -(2${$t} ** ${(bt+1)*8-1}${$t}) and < 2 ** ${(bt+1)*8-1}${$t}`:tr=`>= ${st}${$t} and <= ${ct}${$t}`,new Bt.ERR_OUT_OF_RANGE("value",tr,mt)}Et(Tt,kt,bt)}function Mt(mt,st){if(typeof mt!="number")throw new Bt.ERR_INVALID_ARG_TYPE(st,"number",mt)}function Nt(mt,st,ct){throw Math.floor(mt)!==mt?(Mt(mt,ct),new Bt.ERR_OUT_OF_RANGE(ct||"offset","an integer",mt)):st<0?new Bt.ERR_BUFFER_OUT_OF_BOUNDS:new Bt.ERR_OUT_OF_RANGE(ct||"offset",`>= ${ct?1:0} and <= ${st}`,mt)}const Vt=/[^+/0-9A-Za-z-_]/g;function Qt(mt){if(mt=mt.split("=")[0],mt=mt.trim().replace(Vt,""),mt.length<2)return"";for(;mt.length%4!==0;)mt=mt+"=";return mt}function Wt(mt,st){st=st||1/0;let ct;const Tt=mt.length;let kt=null;const bt=[];for(let $t=0;$t<Tt;++$t){if(ct=mt.charCodeAt($t),ct>55295&&ct<57344){if(!kt){if(ct>56319){(st-=3)>-1&&bt.push(239,191,189);continue}else if($t+1===Tt){(st-=3)>-1&&bt.push(239,191,189);continue}kt=ct;continue}if(ct<56320){(st-=3)>-1&&bt.push(239,191,189),kt=ct;continue}ct=(kt-55296<<10|ct-56320)+65536}else kt&&(st-=3)>-1&&bt.push(239,191,189);if(kt=null,ct<128){if((st-=1)<0)break;bt.push(ct)}else if(ct<2048){if((st-=2)<0)break;bt.push(ct>>6|192,ct&63|128)}else if(ct<65536){if((st-=3)<0)break;bt.push(ct>>12|224,ct>>6&63|128,ct&63|128)}else if(ct<1114112){if((st-=4)<0)break;bt.push(ct>>18|240,ct>>12&63|128,ct>>6&63|128,ct&63|128)}else throw new Error("Invalid code point")}return bt}function or(mt){const st=[];for(let ct=0;ct<mt.length;++ct)st.push(mt.charCodeAt(ct)&255);return st}function fr(mt,st){let ct,Tt,kt;const bt=[];for(let $t=0;$t<mt.length&&!((st-=2)<0);++$t)ct=mt.charCodeAt($t),Tt=ct>>8,kt=ct%256,bt.push(kt),bt.push(Tt);return bt}function cr(mt){return o.toByteArray(Qt(mt))}function mr(mt,st,ct,Tt){let kt;for(kt=0;kt<Tt&&!(kt+ct>=st.length||kt>=mt.length);++kt)st[kt+ct]=mt[kt];return kt}function hr(mt,st){return mt instanceof st||mt!=null&&mt.constructor!=null&&mt.constructor.name!=null&&mt.constructor.name===st.name}function dr(mt){return mt!==mt}const Ut=function(){const mt="0123456789abcdef",st=new Array(256);for(let ct=0;ct<16;++ct){const Tt=ct*16;for(let kt=0;kt<16;++kt)st[Tt+kt]=mt[ct]+mt[kt]}return st}();function Ht(mt){return typeof BigInt>"u"?Jt:mt}function Jt(){throw new Error("BigInt not supported")}})(buffer);const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(__viteBrowserExternal$1);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function a(ht,pt){var Ct=Object.keys(ht);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ht);pt&&(lt=lt.filter(function(ft){return Object.getOwnPropertyDescriptor(ht,ft).enumerable})),Ct.push.apply(Ct,lt)}return Ct}function o(ht){for(var pt=1;pt<arguments.length;pt++){var Ct=arguments[pt]!=null?arguments[pt]:{};pt%2?a(Object(Ct),!0).forEach(function(lt){s(ht,lt,Ct[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ht,Object.getOwnPropertyDescriptors(Ct)):a(Object(Ct)).forEach(function(lt){Object.defineProperty(ht,lt,Object.getOwnPropertyDescriptor(Ct,lt))})}return ht}function s(ht,pt,Ct){return pt=et(pt),pt in ht?Object.defineProperty(ht,pt,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):ht[pt]=Ct,ht}function $(ht,pt){if(!(ht instanceof pt))throw new TypeError("Cannot call a class as a function")}function j(ht,pt){for(var Ct=0;Ct<pt.length;Ct++){var lt=pt[Ct];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(ht,et(lt.key),lt)}}function _e(ht,pt,Ct){return pt&&j(ht.prototype,pt),Ct&&j(ht,Ct),Object.defineProperty(ht,"prototype",{writable:!1}),ht}function et(ht){var pt=tt(ht,"string");return typeof pt=="symbol"?pt:String(pt)}function tt(ht,pt){if(typeof ht!="object"||ht===null)return ht;var Ct=ht[Symbol.toPrimitive];if(Ct!==void 0){var lt=Ct.call(ht,pt||"default");if(typeof lt!="object")return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(pt==="string"?String:Number)(ht)}var rt=buffer,nt=rt.Buffer,it=require$$3,ot=it.inspect,at=ot&&ot.custom||"inspect";function ut(ht,pt,Ct){nt.prototype.copy.call(ht,pt,Ct)}return buffer_list=function(){function ht(){$(this,ht),this.head=null,this.tail=null,this.length=0}return _e(ht,[{key:"push",value:function(Ct){var lt={data:Ct,next:null};this.length>0?this.tail.next=lt:this.head=lt,this.tail=lt,++this.length}},{key:"unshift",value:function(Ct){var lt={data:Ct,next:this.head};this.length===0&&(this.tail=lt),this.head=lt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Ct=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Ct}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Ct){if(this.length===0)return"";for(var lt=this.head,ft=""+lt.data;lt=lt.next;)ft+=Ct+lt.data;return ft}},{key:"concat",value:function(Ct){if(this.length===0)return nt.alloc(0);for(var lt=nt.allocUnsafe(Ct>>>0),ft=this.head,gt=0;ft;)ut(ft.data,lt,gt),gt+=ft.data.length,ft=ft.next;return lt}},{key:"consume",value:function(Ct,lt){var ft;return Ct<this.head.data.length?(ft=this.head.data.slice(0,Ct),this.head.data=this.head.data.slice(Ct)):Ct===this.head.data.length?ft=this.shift():ft=lt?this._getString(Ct):this._getBuffer(Ct),ft}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Ct){var lt=this.head,ft=1,gt=lt.data;for(Ct-=gt.length;lt=lt.next;){var St=lt.data,It=Ct>St.length?St.length:Ct;if(It===St.length?gt+=St:gt+=St.slice(0,Ct),Ct-=It,Ct===0){It===St.length?(++ft,lt.next?this.head=lt.next:this.head=this.tail=null):(this.head=lt,lt.data=St.slice(It));break}++ft}return this.length-=ft,gt}},{key:"_getBuffer",value:function(Ct){var lt=nt.allocUnsafe(Ct),ft=this.head,gt=1;for(ft.data.copy(lt),Ct-=ft.data.length;ft=ft.next;){var St=ft.data,It=Ct>St.length?St.length:Ct;if(St.copy(lt,lt.length-Ct,0,It),Ct-=It,Ct===0){It===St.length?(++gt,ft.next?this.head=ft.next:this.head=this.tail=null):(this.head=ft,ft.data=St.slice(It));break}++gt}return this.length-=gt,lt}},{key:at,value:function(Ct,lt){return ot(this,o(o({},lt),{},{depth:0,customInspect:!1}))}}]),ht}(),buffer_list}function destroy(a,o){var s=this,$=this._readableState&&this._readableState.destroyed,j=this._writableState&&this._writableState.destroyed;return $||j?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,browser$1$1.nextTick(emitErrorNT,this,a)):browser$1$1.nextTick(emitErrorNT,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(_e){!o&&_e?s._writableState?s._writableState.errorEmitted?browser$1$1.nextTick(emitCloseNT,s):(s._writableState.errorEmitted=!0,browser$1$1.nextTick(emitErrorAndCloseNT,s,_e)):browser$1$1.nextTick(emitErrorAndCloseNT,s,_e):o?(browser$1$1.nextTick(emitCloseNT,s),o(_e)):browser$1$1.nextTick(emitCloseNT,s)}),this)}function emitErrorAndCloseNT(a,o){emitErrorNT(a,o),emitCloseNT(a)}function emitCloseNT(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(a,o){a.emit("error",o)}function errorOrDestroy(a,o){var s=a._readableState,$=a._writableState;s&&s.autoDestroy||$&&$.autoDestroy?a.destroy(o):a.emit("error",o)}var destroy_1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(a,o){a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o}var codes={};function createErrorType(a,o,s){s||(s=Error);function $(_e,et,tt){return typeof o=="string"?o:o(_e,et,tt)}var j=function(_e){_inheritsLoose(et,_e);function et(tt,rt,nt){return _e.call(this,$(tt,rt,nt))||this}return et}(s);j.prototype.name=s.name,j.prototype.code=a,codes[a]=j}function oneOf(a,o){if(Array.isArray(a)){var s=a.length;return a=a.map(function($){return String($)}),s>2?"one of ".concat(o," ").concat(a.slice(0,s-1).join(", "),", or ")+a[s-1]:s===2?"one of ".concat(o," ").concat(a[0]," or ").concat(a[1]):"of ".concat(o," ").concat(a[0])}else return"of ".concat(o," ").concat(String(a))}function startsWith(a,o,s){return a.substr(!s||s<0?0:+s,o.length)===o}function endsWith(a,o,s){return(s===void 0||s>a.length)&&(s=a.length),a.substring(s-o.length,s)===o}function includes(a,o,s){return typeof s!="number"&&(s=0),s+o.length>a.length?!1:a.indexOf(o,s)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(a,o){return'The value "'+o+'" is invalid for option "'+a+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(a,o,s){var $;typeof o=="string"&&startsWith(o,"not ")?($="must not be",o=o.replace(/^not /,"")):$="must be";var j;if(endsWith(a," argument"))j="The ".concat(a," ").concat($," ").concat(oneOf(o,"type"));else{var _e=includes(a,".")?"property":"argument";j='The "'.concat(a,'" ').concat(_e," ").concat($," ").concat(oneOf(o,"type"))}return j+=". Received type ".concat(typeof s),j},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(a,o,s){return a.highWaterMark!=null?a.highWaterMark:o?a[s]:null}function getHighWaterMark(a,o,s,$){var j=highWaterMarkFrom(o,$,s);if(j!=null){if(!(isFinite(j)&&Math.floor(j)===j)||j<0){var _e=$?s:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(_e,j)}return Math.floor(j)}return a.objectMode?16:16*1024}var state={getHighWaterMark},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(o,s){s&&(o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(o,s){if(s){o.super_=s;var $=function(){};$.prototype=s.prototype,o.prototype=new $,o.prototype.constructor=o}};var inherits_browserExports=inherits_browser.exports,browser=deprecate;function deprecate(a,o){if(config("noDeprecation"))return a;var s=!1;function $(){if(!s){if(config("throwDeprecation"))throw new Error(o);config("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return a.apply(this,arguments)}return $}function config(a){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var o=commonjsGlobal.localStorage[a];return o==null?!1:String(o).toLowerCase()==="true"}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=yt;function a(At){var xt=this;this.next=null,this.entry=null,this.finish=function(){ur(xt,At)}}var o;yt.WritableState=vt;var s={deprecate:browser},$=streamBrowser,j=buffer.Buffer,_e=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function et(At){return j.from(At)}function tt(At){return j.isBuffer(At)||At instanceof _e}var rt=destroy_1,nt=state,it=nt.getHighWaterMark,ot=errorsBrowser.codes,at=ot.ERR_INVALID_ARG_TYPE,ut=ot.ERR_METHOD_NOT_IMPLEMENTED,ht=ot.ERR_MULTIPLE_CALLBACK,pt=ot.ERR_STREAM_CANNOT_PIPE,Ct=ot.ERR_STREAM_DESTROYED,lt=ot.ERR_STREAM_NULL_VALUES,ft=ot.ERR_STREAM_WRITE_AFTER_END,gt=ot.ERR_UNKNOWN_ENCODING,St=rt.errorOrDestroy;inherits_browserExports(yt,$);function It(){}function vt(At,xt,Bt){o=o||require_stream_duplex(),At=At||{},typeof Bt!="boolean"&&(Bt=xt instanceof o),this.objectMode=!!At.objectMode,Bt&&(this.objectMode=this.objectMode||!!At.writableObjectMode),this.highWaterMark=it(this,At,"writableHighWaterMark",Bt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Lt=At.decodeStrings===!1;this.decodeStrings=!Lt,this.defaultEncoding=At.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Xt){er(xt,Xt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=At.emitClose!==!1,this.autoDestroy=!!At.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}vt.prototype.getBuffer=function(){for(var xt=this.bufferedRequest,Bt=[];xt;)Bt.push(xt),xt=xt.next;return Bt},function(){try{Object.defineProperty(vt.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var dt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(dt=Function.prototype[Symbol.hasInstance],Object.defineProperty(yt,Symbol.hasInstance,{value:function(xt){return dt.call(this,xt)?!0:this!==yt?!1:xt&&xt._writableState instanceof vt}})):dt=function(xt){return xt instanceof this};function yt(At){o=o||require_stream_duplex();var xt=this instanceof o;if(!xt&&!dt.call(yt,this))return new yt(At);this._writableState=new vt(At,this,xt),this.writable=!0,At&&(typeof At.write=="function"&&(this._write=At.write),typeof At.writev=="function"&&(this._writev=At.writev),typeof At.destroy=="function"&&(this._destroy=At.destroy),typeof At.final=="function"&&(this._final=At.final)),$.call(this)}yt.prototype.pipe=function(){St(this,new pt)};function Rt(At,xt){var Bt=new ft;St(At,Bt),browser$1$1.nextTick(xt,Bt)}function Pt(At,xt,Bt,Lt){var Xt;return Bt===null?Xt=new lt:typeof Bt!="string"&&!xt.objectMode&&(Xt=new at("chunk",["string","Buffer"],Bt)),Xt?(St(At,Xt),browser$1$1.nextTick(Lt,Xt),!1):!0}yt.prototype.write=function(At,xt,Bt){var Lt=this._writableState,Xt=!1,Et=!Lt.objectMode&&tt(At);return Et&&!j.isBuffer(At)&&(At=et(At)),typeof xt=="function"&&(Bt=xt,xt=null),Et?xt="buffer":xt||(xt=Lt.defaultEncoding),typeof Bt!="function"&&(Bt=It),Lt.ending?Rt(this,Bt):(Et||Pt(this,Lt,At,Bt))&&(Lt.pendingcb++,Xt=Ft(this,Lt,Et,At,xt,Bt)),Xt},yt.prototype.cork=function(){this._writableState.corked++},yt.prototype.uncork=function(){var At=this._writableState;At.corked&&(At.corked--,!At.writing&&!At.corked&&!At.bufferProcessing&&At.bufferedRequest&&zt(this,At))},yt.prototype.setDefaultEncoding=function(xt){if(typeof xt=="string"&&(xt=xt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((xt+"").toLowerCase())>-1))throw new gt(xt);return this._writableState.defaultEncoding=xt,this},Object.defineProperty(yt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Dt(At,xt,Bt){return!At.objectMode&&At.decodeStrings!==!1&&typeof xt=="string"&&(xt=j.from(xt,Bt)),xt}Object.defineProperty(yt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ft(At,xt,Bt,Lt,Xt,Et){if(!Bt){var wt=Dt(xt,Lt,Xt);Lt!==wt&&(Bt=!0,Xt="buffer",Lt=wt)}var Mt=xt.objectMode?1:Lt.length;xt.length+=Mt;var Nt=xt.length<xt.highWaterMark;if(Nt||(xt.needDrain=!0),xt.writing||xt.corked){var Vt=xt.lastBufferedRequest;xt.lastBufferedRequest={chunk:Lt,encoding:Xt,isBuf:Bt,callback:Et,next:null},Vt?Vt.next=xt.lastBufferedRequest:xt.bufferedRequest=xt.lastBufferedRequest,xt.bufferedRequestCount+=1}else Kt(At,xt,!1,Mt,Lt,Xt,Et);return Nt}function Kt(At,xt,Bt,Lt,Xt,Et,wt){xt.writelen=Lt,xt.writecb=wt,xt.writing=!0,xt.sync=!0,xt.destroyed?xt.onwrite(new Ct("write")):Bt?At._writev(Xt,xt.onwrite):At._write(Xt,Et,xt.onwrite),xt.sync=!1}function qt(At,xt,Bt,Lt,Xt){--xt.pendingcb,Bt?(browser$1$1.nextTick(Xt,Lt),browser$1$1.nextTick(nr,At,xt),At._writableState.errorEmitted=!0,St(At,Lt)):(Xt(Lt),At._writableState.errorEmitted=!0,St(At,Lt),nr(At,xt))}function Zt(At){At.writing=!1,At.writecb=null,At.length-=At.writelen,At.writelen=0}function er(At,xt){var Bt=At._writableState,Lt=Bt.sync,Xt=Bt.writecb;if(typeof Xt!="function")throw new ht;if(Zt(Bt),xt)qt(At,Bt,Lt,xt,Xt);else{var Et=jt(Bt)||At.destroyed;!Et&&!Bt.corked&&!Bt.bufferProcessing&&Bt.bufferedRequest&&zt(At,Bt),Lt?browser$1$1.nextTick(rr,At,Bt,Et,Xt):rr(At,Bt,Et,Xt)}}function rr(At,xt,Bt,Lt){Bt||Ot(At,xt),xt.pendingcb--,Lt(),nr(At,xt)}function Ot(At,xt){xt.length===0&&xt.needDrain&&(xt.needDrain=!1,At.emit("drain"))}function zt(At,xt){xt.bufferProcessing=!0;var Bt=xt.bufferedRequest;if(At._writev&&Bt&&Bt.next){var Lt=xt.bufferedRequestCount,Xt=new Array(Lt),Et=xt.corkedRequestsFree;Et.entry=Bt;for(var wt=0,Mt=!0;Bt;)Xt[wt]=Bt,Bt.isBuf||(Mt=!1),Bt=Bt.next,wt+=1;Xt.allBuffers=Mt,Kt(At,xt,!0,xt.length,Xt,"",Et.finish),xt.pendingcb++,xt.lastBufferedRequest=null,Et.next?(xt.corkedRequestsFree=Et.next,Et.next=null):xt.corkedRequestsFree=new a(xt),xt.bufferedRequestCount=0}else{for(;Bt;){var Nt=Bt.chunk,Vt=Bt.encoding,Qt=Bt.callback,Wt=xt.objectMode?1:Nt.length;if(Kt(At,xt,!1,Wt,Nt,Vt,Qt),Bt=Bt.next,xt.bufferedRequestCount--,xt.writing)break}Bt===null&&(xt.lastBufferedRequest=null)}xt.bufferedRequest=Bt,xt.bufferProcessing=!1}yt.prototype._write=function(At,xt,Bt){Bt(new ut("_write()"))},yt.prototype._writev=null,yt.prototype.end=function(At,xt,Bt){var Lt=this._writableState;return typeof At=="function"?(Bt=At,At=null,xt=null):typeof xt=="function"&&(Bt=xt,xt=null),At!=null&&this.write(At,xt),Lt.corked&&(Lt.corked=1,this.uncork()),Lt.ending||ar(this,Lt,Bt),this},Object.defineProperty(yt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function jt(At){return At.ending&&At.length===0&&At.bufferedRequest===null&&!At.finished&&!At.writing}function Gt(At,xt){At._final(function(Bt){xt.pendingcb--,Bt&&St(At,Bt),xt.prefinished=!0,At.emit("prefinish"),nr(At,xt)})}function Yt(At,xt){!xt.prefinished&&!xt.finalCalled&&(typeof At._final=="function"&&!xt.destroyed?(xt.pendingcb++,xt.finalCalled=!0,browser$1$1.nextTick(Gt,At,xt)):(xt.prefinished=!0,At.emit("prefinish")))}function nr(At,xt){var Bt=jt(xt);if(Bt&&(Yt(At,xt),xt.pendingcb===0&&(xt.finished=!0,At.emit("finish"),xt.autoDestroy))){var Lt=At._readableState;(!Lt||Lt.autoDestroy&&Lt.endEmitted)&&At.destroy()}return Bt}function ar(At,xt,Bt){xt.ending=!0,nr(At,xt),Bt&&(xt.finished?browser$1$1.nextTick(Bt):At.once("finish",Bt)),xt.ended=!0,At.writable=!1}function ur(At,xt,Bt){var Lt=At.entry;for(At.entry=null;Lt;){var Xt=Lt.callback;xt.pendingcb--,Xt(Bt),Lt=Lt.next}xt.corkedRequestsFree.next=At}return Object.defineProperty(yt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(xt){this._writableState&&(this._writableState.destroyed=xt)}}),yt.prototype.destroy=rt.destroy,yt.prototype._undestroy=rt.undestroy,yt.prototype._destroy=function(At,xt){xt(At)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var a=Object.keys||function(nt){var it=[];for(var ot in nt)it.push(ot);return it};_stream_duplex=et;var o=require_stream_readable(),s=require_stream_writable();inherits_browserExports(et,o);for(var $=a(s.prototype),j=0;j<$.length;j++){var _e=$[j];et.prototype[_e]||(et.prototype[_e]=s.prototype[_e])}function et(nt){if(!(this instanceof et))return new et(nt);o.call(this,nt),s.call(this,nt),this.allowHalfOpen=!0,nt&&(nt.readable===!1&&(this.readable=!1),nt.writable===!1&&(this.writable=!1),nt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",tt)))}Object.defineProperty(et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(et.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(et.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function tt(){this._writableState.ended||browser$1$1.nextTick(rt,this)}function rt(nt){nt.end()}return Object.defineProperty(et.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(it){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=it,this._writableState.destroyed=it)}}),_stream_duplex}var string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(a,o){var s=buffer,$=s.Buffer;function j(et,tt){for(var rt in et)tt[rt]=et[rt]}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?a.exports=s:(j(s,o),o.Buffer=_e);function _e(et,tt,rt){return $(et,tt,rt)}_e.prototype=Object.create($.prototype),j($,_e),_e.from=function(et,tt,rt){if(typeof et=="number")throw new TypeError("Argument must not be a number");return $(et,tt,rt)},_e.alloc=function(et,tt,rt){if(typeof et!="number")throw new TypeError("Argument must be a number");var nt=$(et);return tt!==void 0?typeof rt=="string"?nt.fill(tt,rt):nt.fill(tt):nt.fill(0),nt},_e.allocUnsafe=function(et){if(typeof et!="number")throw new TypeError("Argument must be a number");return $(et)},_e.allocUnsafeSlow=function(et){if(typeof et!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(et)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var a=requireSafeBuffer().Buffer,o=a.isEncoding||function(lt){switch(lt=""+lt,lt&&lt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(lt){if(!lt)return"utf8";for(var ft;;)switch(lt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return lt;default:if(ft)return;lt=(""+lt).toLowerCase(),ft=!0}}function $(lt){var ft=s(lt);if(typeof ft!="string"&&(a.isEncoding===o||!o(lt)))throw new Error("Unknown encoding: "+lt);return ft||lt}string_decoder.StringDecoder=j;function j(lt){this.encoding=$(lt);var ft;switch(this.encoding){case"utf16le":this.text=ot,this.end=at,ft=4;break;case"utf8":this.fillLast=rt,ft=4;break;case"base64":this.text=ut,this.end=ht,ft=3;break;default:this.write=pt,this.end=Ct;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(ft)}j.prototype.write=function(lt){if(lt.length===0)return"";var ft,gt;if(this.lastNeed){if(ft=this.fillLast(lt),ft===void 0)return"";gt=this.lastNeed,this.lastNeed=0}else gt=0;return gt<lt.length?ft?ft+this.text(lt,gt):this.text(lt,gt):ft||""},j.prototype.end=it,j.prototype.text=nt,j.prototype.fillLast=function(lt){if(this.lastNeed<=lt.length)return lt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);lt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,lt.length),this.lastNeed-=lt.length};function _e(lt){return lt<=127?0:lt>>5===6?2:lt>>4===14?3:lt>>3===30?4:lt>>6===2?-1:-2}function et(lt,ft,gt){var St=ft.length-1;if(St<gt)return 0;var It=_e(ft[St]);return It>=0?(It>0&&(lt.lastNeed=It-1),It):--St<gt||It===-2?0:(It=_e(ft[St]),It>=0?(It>0&&(lt.lastNeed=It-2),It):--St<gt||It===-2?0:(It=_e(ft[St]),It>=0?(It>0&&(It===2?It=0:lt.lastNeed=It-3),It):0))}function tt(lt,ft,gt){if((ft[0]&192)!==128)return lt.lastNeed=0,"�";if(lt.lastNeed>1&&ft.length>1){if((ft[1]&192)!==128)return lt.lastNeed=1,"�";if(lt.lastNeed>2&&ft.length>2&&(ft[2]&192)!==128)return lt.lastNeed=2,"�"}}function rt(lt){var ft=this.lastTotal-this.lastNeed,gt=tt(this,lt);if(gt!==void 0)return gt;if(this.lastNeed<=lt.length)return lt.copy(this.lastChar,ft,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);lt.copy(this.lastChar,ft,0,lt.length),this.lastNeed-=lt.length}function nt(lt,ft){var gt=et(this,lt,ft);if(!this.lastNeed)return lt.toString("utf8",ft);this.lastTotal=gt;var St=lt.length-(gt-this.lastNeed);return lt.copy(this.lastChar,0,St),lt.toString("utf8",ft,St)}function it(lt){var ft=lt&&lt.length?this.write(lt):"";return this.lastNeed?ft+"�":ft}function ot(lt,ft){if((lt.length-ft)%2===0){var gt=lt.toString("utf16le",ft);if(gt){var St=gt.charCodeAt(gt.length-1);if(St>=55296&&St<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=lt[lt.length-2],this.lastChar[1]=lt[lt.length-1],gt.slice(0,-1)}return gt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=lt[lt.length-1],lt.toString("utf16le",ft,lt.length-1)}function at(lt){var ft=lt&&lt.length?this.write(lt):"";if(this.lastNeed){var gt=this.lastTotal-this.lastNeed;return ft+this.lastChar.toString("utf16le",0,gt)}return ft}function ut(lt,ft){var gt=(lt.length-ft)%3;return gt===0?lt.toString("base64",ft):(this.lastNeed=3-gt,this.lastTotal=3,gt===1?this.lastChar[0]=lt[lt.length-1]:(this.lastChar[0]=lt[lt.length-2],this.lastChar[1]=lt[lt.length-1]),lt.toString("base64",ft,lt.length-gt))}function ht(lt){var ft=lt&&lt.length?this.write(lt):"";return this.lastNeed?ft+this.lastChar.toString("base64",0,3-this.lastNeed):ft}function pt(lt){return lt.toString(this.encoding)}function Ct(lt){return lt&&lt.length?this.write(lt):""}return string_decoder}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(a){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,$=new Array(s),j=0;j<s;j++)$[j]=arguments[j];a.apply(this,$)}}}function noop$1(){}function isRequest$1(a){return a.setHeader&&typeof a.abort=="function"}function eos$1(a,o,s){if(typeof o=="function")return eos$1(a,null,o);o||(o={}),s=once$1(s||noop$1);var $=o.readable||o.readable!==!1&&a.readable,j=o.writable||o.writable!==!1&&a.writable,_e=function(){a.writable||tt()},et=a._writableState&&a._writableState.finished,tt=function(){j=!1,et=!0,$||s.call(a)},rt=a._readableState&&a._readableState.endEmitted,nt=function(){$=!1,rt=!0,j||s.call(a)},it=function(ht){s.call(a,ht)},ot=function(){var ht;if($&&!rt)return(!a._readableState||!a._readableState.ended)&&(ht=new ERR_STREAM_PREMATURE_CLOSE),s.call(a,ht);if(j&&!et)return(!a._writableState||!a._writableState.ended)&&(ht=new ERR_STREAM_PREMATURE_CLOSE),s.call(a,ht)},at=function(){a.req.on("finish",tt)};return isRequest$1(a)?(a.on("complete",tt),a.on("abort",ot),a.req?at():a.on("request",at)):j&&!a._writableState&&(a.on("end",_e),a.on("close",_e)),a.on("end",nt),a.on("finish",tt),o.error!==!1&&a.on("error",it),a.on("close",ot),function(){a.removeListener("complete",tt),a.removeListener("abort",ot),a.removeListener("request",at),a.req&&a.req.removeListener("finish",tt),a.removeListener("end",_e),a.removeListener("close",_e),a.removeListener("finish",tt),a.removeListener("end",nt),a.removeListener("error",it),a.removeListener("close",ot)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var a;function o(gt,St,It){return St=s(St),St in gt?Object.defineProperty(gt,St,{value:It,enumerable:!0,configurable:!0,writable:!0}):gt[St]=It,gt}function s(gt){var St=$(gt,"string");return typeof St=="symbol"?St:String(St)}function $(gt,St){if(typeof gt!="object"||gt===null)return gt;var It=gt[Symbol.toPrimitive];if(It!==void 0){var vt=It.call(gt,St||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(gt)}var j=endOfStream,_e=Symbol("lastResolve"),et=Symbol("lastReject"),tt=Symbol("error"),rt=Symbol("ended"),nt=Symbol("lastPromise"),it=Symbol("handlePromise"),ot=Symbol("stream");function at(gt,St){return{value:gt,done:St}}function ut(gt){var St=gt[_e];if(St!==null){var It=gt[ot].read();It!==null&&(gt[nt]=null,gt[_e]=null,gt[et]=null,St(at(It,!1)))}}function ht(gt){browser$1$1.nextTick(ut,gt)}function pt(gt,St){return function(It,vt){gt.then(function(){if(St[rt]){It(at(void 0,!0));return}St[it](It,vt)},vt)}}var Ct=Object.getPrototypeOf(function(){}),lt=Object.setPrototypeOf((a={get stream(){return this[ot]},next:function(){var St=this,It=this[tt];if(It!==null)return Promise.reject(It);if(this[rt])return Promise.resolve(at(void 0,!0));if(this[ot].destroyed)return new Promise(function(Rt,Pt){browser$1$1.nextTick(function(){St[tt]?Pt(St[tt]):Rt(at(void 0,!0))})});var vt=this[nt],dt;if(vt)dt=new Promise(pt(vt,this));else{var yt=this[ot].read();if(yt!==null)return Promise.resolve(at(yt,!1));dt=new Promise(this[it])}return this[nt]=dt,dt}},o(a,Symbol.asyncIterator,function(){return this}),o(a,"return",function(){var St=this;return new Promise(function(It,vt){St[ot].destroy(null,function(dt){if(dt){vt(dt);return}It(at(void 0,!0))})})}),a),Ct),ft=function(St){var It,vt=Object.create(lt,(It={},o(It,ot,{value:St,writable:!0}),o(It,_e,{value:null,writable:!0}),o(It,et,{value:null,writable:!0}),o(It,tt,{value:null,writable:!0}),o(It,rt,{value:St._readableState.endEmitted,writable:!0}),o(It,it,{value:function(yt,Rt){var Pt=vt[ot].read();Pt?(vt[nt]=null,vt[_e]=null,vt[et]=null,yt(at(Pt,!1))):(vt[_e]=yt,vt[et]=Rt)},writable:!0}),It));return vt[nt]=null,j(St,function(dt){if(dt&&dt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var yt=vt[et];yt!==null&&(vt[nt]=null,vt[_e]=null,vt[et]=null,yt(dt)),vt[tt]=dt;return}var Rt=vt[_e];Rt!==null&&(vt[nt]=null,vt[_e]=null,vt[et]=null,Rt(at(void 0,!0))),vt[rt]=!0}),St.on("readable",ht.bind(null,vt)),vt};return async_iterator=ft,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=Rt;var a;Rt.ReadableState=yt,eventsExports.EventEmitter;var o=function(wt,Mt){return wt.listeners(Mt).length},s=streamBrowser,$=buffer.Buffer,j=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function _e(Et){return $.from(Et)}function et(Et){return $.isBuffer(Et)||Et instanceof j}var tt=require$$3,rt;tt&&tt.debuglog?rt=tt.debuglog("stream"):rt=function(){};var nt=requireBuffer_list(),it=destroy_1,ot=state,at=ot.getHighWaterMark,ut=errorsBrowser.codes,ht=ut.ERR_INVALID_ARG_TYPE,pt=ut.ERR_STREAM_PUSH_AFTER_EOF,Ct=ut.ERR_METHOD_NOT_IMPLEMENTED,lt=ut.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ft,gt,St;inherits_browserExports(Rt,s);var It=it.errorOrDestroy,vt=["error","close","destroy","pause","resume"];function dt(Et,wt,Mt){if(typeof Et.prependListener=="function")return Et.prependListener(wt,Mt);!Et._events||!Et._events[wt]?Et.on(wt,Mt):Array.isArray(Et._events[wt])?Et._events[wt].unshift(Mt):Et._events[wt]=[Mt,Et._events[wt]]}function yt(Et,wt,Mt){a=a||require_stream_duplex(),Et=Et||{},typeof Mt!="boolean"&&(Mt=wt instanceof a),this.objectMode=!!Et.objectMode,Mt&&(this.objectMode=this.objectMode||!!Et.readableObjectMode),this.highWaterMark=at(this,Et,"readableHighWaterMark",Mt),this.buffer=new nt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Et.emitClose!==!1,this.autoDestroy=!!Et.autoDestroy,this.destroyed=!1,this.defaultEncoding=Et.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Et.encoding&&(ft||(ft=requireString_decoder().StringDecoder),this.decoder=new ft(Et.encoding),this.encoding=Et.encoding)}function Rt(Et){if(a=a||require_stream_duplex(),!(this instanceof Rt))return new Rt(Et);var wt=this instanceof a;this._readableState=new yt(Et,this,wt),this.readable=!0,Et&&(typeof Et.read=="function"&&(this._read=Et.read),typeof Et.destroy=="function"&&(this._destroy=Et.destroy)),s.call(this)}Object.defineProperty(Rt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(wt){this._readableState&&(this._readableState.destroyed=wt)}}),Rt.prototype.destroy=it.destroy,Rt.prototype._undestroy=it.undestroy,Rt.prototype._destroy=function(Et,wt){wt(Et)},Rt.prototype.push=function(Et,wt){var Mt=this._readableState,Nt;return Mt.objectMode?Nt=!0:typeof Et=="string"&&(wt=wt||Mt.defaultEncoding,wt!==Mt.encoding&&(Et=$.from(Et,wt),wt=""),Nt=!0),Pt(this,Et,wt,!1,Nt)},Rt.prototype.unshift=function(Et){return Pt(this,Et,null,!0,!1)};function Pt(Et,wt,Mt,Nt,Vt){rt("readableAddChunk",wt);var Qt=Et._readableState;if(wt===null)Qt.reading=!1,er(Et,Qt);else{var Wt;if(Vt||(Wt=Ft(Qt,wt)),Wt)It(Et,Wt);else if(Qt.objectMode||wt&&wt.length>0)if(typeof wt!="string"&&!Qt.objectMode&&Object.getPrototypeOf(wt)!==$.prototype&&(wt=_e(wt)),Nt)Qt.endEmitted?It(Et,new lt):Dt(Et,Qt,wt,!0);else if(Qt.ended)It(Et,new pt);else{if(Qt.destroyed)return!1;Qt.reading=!1,Qt.decoder&&!Mt?(wt=Qt.decoder.write(wt),Qt.objectMode||wt.length!==0?Dt(Et,Qt,wt,!1):zt(Et,Qt)):Dt(Et,Qt,wt,!1)}else Nt||(Qt.reading=!1,zt(Et,Qt))}return!Qt.ended&&(Qt.length<Qt.highWaterMark||Qt.length===0)}function Dt(Et,wt,Mt,Nt){wt.flowing&&wt.length===0&&!wt.sync?(wt.awaitDrain=0,Et.emit("data",Mt)):(wt.length+=wt.objectMode?1:Mt.length,Nt?wt.buffer.unshift(Mt):wt.buffer.push(Mt),wt.needReadable&&rr(Et)),zt(Et,wt)}function Ft(Et,wt){var Mt;return!et(wt)&&typeof wt!="string"&&wt!==void 0&&!Et.objectMode&&(Mt=new ht("chunk",["string","Buffer","Uint8Array"],wt)),Mt}Rt.prototype.isPaused=function(){return this._readableState.flowing===!1},Rt.prototype.setEncoding=function(Et){ft||(ft=requireString_decoder().StringDecoder);var wt=new ft(Et);this._readableState.decoder=wt,this._readableState.encoding=this._readableState.decoder.encoding;for(var Mt=this._readableState.buffer.head,Nt="";Mt!==null;)Nt+=wt.write(Mt.data),Mt=Mt.next;return this._readableState.buffer.clear(),Nt!==""&&this._readableState.buffer.push(Nt),this._readableState.length=Nt.length,this};var Kt=1073741824;function qt(Et){return Et>=Kt?Et=Kt:(Et--,Et|=Et>>>1,Et|=Et>>>2,Et|=Et>>>4,Et|=Et>>>8,Et|=Et>>>16,Et++),Et}function Zt(Et,wt){return Et<=0||wt.length===0&&wt.ended?0:wt.objectMode?1:Et!==Et?wt.flowing&&wt.length?wt.buffer.head.data.length:wt.length:(Et>wt.highWaterMark&&(wt.highWaterMark=qt(Et)),Et<=wt.length?Et:wt.ended?wt.length:(wt.needReadable=!0,0))}Rt.prototype.read=function(Et){rt("read",Et),Et=parseInt(Et,10);var wt=this._readableState,Mt=Et;if(Et!==0&&(wt.emittedReadable=!1),Et===0&&wt.needReadable&&((wt.highWaterMark!==0?wt.length>=wt.highWaterMark:wt.length>0)||wt.ended))return rt("read: emitReadable",wt.length,wt.ended),wt.length===0&&wt.ended?Bt(this):rr(this),null;if(Et=Zt(Et,wt),Et===0&&wt.ended)return wt.length===0&&Bt(this),null;var Nt=wt.needReadable;rt("need readable",Nt),(wt.length===0||wt.length-Et<wt.highWaterMark)&&(Nt=!0,rt("length less than watermark",Nt)),wt.ended||wt.reading?(Nt=!1,rt("reading or ended",Nt)):Nt&&(rt("do read"),wt.reading=!0,wt.sync=!0,wt.length===0&&(wt.needReadable=!0),this._read(wt.highWaterMark),wt.sync=!1,wt.reading||(Et=Zt(Mt,wt)));var Vt;return Et>0?Vt=xt(Et,wt):Vt=null,Vt===null?(wt.needReadable=wt.length<=wt.highWaterMark,Et=0):(wt.length-=Et,wt.awaitDrain=0),wt.length===0&&(wt.ended||(wt.needReadable=!0),Mt!==Et&&wt.ended&&Bt(this)),Vt!==null&&this.emit("data",Vt),Vt};function er(Et,wt){if(rt("onEofChunk"),!wt.ended){if(wt.decoder){var Mt=wt.decoder.end();Mt&&Mt.length&&(wt.buffer.push(Mt),wt.length+=wt.objectMode?1:Mt.length)}wt.ended=!0,wt.sync?rr(Et):(wt.needReadable=!1,wt.emittedReadable||(wt.emittedReadable=!0,Ot(Et)))}}function rr(Et){var wt=Et._readableState;rt("emitReadable",wt.needReadable,wt.emittedReadable),wt.needReadable=!1,wt.emittedReadable||(rt("emitReadable",wt.flowing),wt.emittedReadable=!0,browser$1$1.nextTick(Ot,Et))}function Ot(Et){var wt=Et._readableState;rt("emitReadable_",wt.destroyed,wt.length,wt.ended),!wt.destroyed&&(wt.length||wt.ended)&&(Et.emit("readable"),wt.emittedReadable=!1),wt.needReadable=!wt.flowing&&!wt.ended&&wt.length<=wt.highWaterMark,At(Et)}function zt(Et,wt){wt.readingMore||(wt.readingMore=!0,browser$1$1.nextTick(jt,Et,wt))}function jt(Et,wt){for(;!wt.reading&&!wt.ended&&(wt.length<wt.highWaterMark||wt.flowing&&wt.length===0);){var Mt=wt.length;if(rt("maybeReadMore read 0"),Et.read(0),Mt===wt.length)break}wt.readingMore=!1}Rt.prototype._read=function(Et){It(this,new Ct("_read()"))},Rt.prototype.pipe=function(Et,wt){var Mt=this,Nt=this._readableState;switch(Nt.pipesCount){case 0:Nt.pipes=Et;break;case 1:Nt.pipes=[Nt.pipes,Et];break;default:Nt.pipes.push(Et);break}Nt.pipesCount+=1,rt("pipe count=%d opts=%j",Nt.pipesCount,wt);var Vt=(!wt||wt.end!==!1)&&Et!==browser$1$1.stdout&&Et!==browser$1$1.stderr,Qt=Vt?or:Jt;Nt.endEmitted?browser$1$1.nextTick(Qt):Mt.once("end",Qt),Et.on("unpipe",Wt);function Wt(mt,st){rt("onunpipe"),mt===Mt&&st&&st.hasUnpiped===!1&&(st.hasUnpiped=!0,mr())}function or(){rt("onend"),Et.end()}var fr=Gt(Mt);Et.on("drain",fr);var cr=!1;function mr(){rt("cleanup"),Et.removeListener("close",Ut),Et.removeListener("finish",Ht),Et.removeListener("drain",fr),Et.removeListener("error",dr),Et.removeListener("unpipe",Wt),Mt.removeListener("end",or),Mt.removeListener("end",Jt),Mt.removeListener("data",hr),cr=!0,Nt.awaitDrain&&(!Et._writableState||Et._writableState.needDrain)&&fr()}Mt.on("data",hr);function hr(mt){rt("ondata");var st=Et.write(mt);rt("dest.write",st),st===!1&&((Nt.pipesCount===1&&Nt.pipes===Et||Nt.pipesCount>1&&Xt(Nt.pipes,Et)!==-1)&&!cr&&(rt("false write response, pause",Nt.awaitDrain),Nt.awaitDrain++),Mt.pause())}function dr(mt){rt("onerror",mt),Jt(),Et.removeListener("error",dr),o(Et,"error")===0&&It(Et,mt)}dt(Et,"error",dr);function Ut(){Et.removeListener("finish",Ht),Jt()}Et.once("close",Ut);function Ht(){rt("onfinish"),Et.removeListener("close",Ut),Jt()}Et.once("finish",Ht);function Jt(){rt("unpipe"),Mt.unpipe(Et)}return Et.emit("pipe",Mt),Nt.flowing||(rt("pipe resume"),Mt.resume()),Et};function Gt(Et){return function(){var Mt=Et._readableState;rt("pipeOnDrain",Mt.awaitDrain),Mt.awaitDrain&&Mt.awaitDrain--,Mt.awaitDrain===0&&o(Et,"data")&&(Mt.flowing=!0,At(Et))}}Rt.prototype.unpipe=function(Et){var wt=this._readableState,Mt={hasUnpiped:!1};if(wt.pipesCount===0)return this;if(wt.pipesCount===1)return Et&&Et!==wt.pipes?this:(Et||(Et=wt.pipes),wt.pipes=null,wt.pipesCount=0,wt.flowing=!1,Et&&Et.emit("unpipe",this,Mt),this);if(!Et){var Nt=wt.pipes,Vt=wt.pipesCount;wt.pipes=null,wt.pipesCount=0,wt.flowing=!1;for(var Qt=0;Qt<Vt;Qt++)Nt[Qt].emit("unpipe",this,{hasUnpiped:!1});return this}var Wt=Xt(wt.pipes,Et);return Wt===-1?this:(wt.pipes.splice(Wt,1),wt.pipesCount-=1,wt.pipesCount===1&&(wt.pipes=wt.pipes[0]),Et.emit("unpipe",this,Mt),this)},Rt.prototype.on=function(Et,wt){var Mt=s.prototype.on.call(this,Et,wt),Nt=this._readableState;return Et==="data"?(Nt.readableListening=this.listenerCount("readable")>0,Nt.flowing!==!1&&this.resume()):Et==="readable"&&!Nt.endEmitted&&!Nt.readableListening&&(Nt.readableListening=Nt.needReadable=!0,Nt.flowing=!1,Nt.emittedReadable=!1,rt("on readable",Nt.length,Nt.reading),Nt.length?rr(this):Nt.reading||browser$1$1.nextTick(nr,this)),Mt},Rt.prototype.addListener=Rt.prototype.on,Rt.prototype.removeListener=function(Et,wt){var Mt=s.prototype.removeListener.call(this,Et,wt);return Et==="readable"&&browser$1$1.nextTick(Yt,this),Mt},Rt.prototype.removeAllListeners=function(Et){var wt=s.prototype.removeAllListeners.apply(this,arguments);return(Et==="readable"||Et===void 0)&&browser$1$1.nextTick(Yt,this),wt};function Yt(Et){var wt=Et._readableState;wt.readableListening=Et.listenerCount("readable")>0,wt.resumeScheduled&&!wt.paused?wt.flowing=!0:Et.listenerCount("data")>0&&Et.resume()}function nr(Et){rt("readable nexttick read 0"),Et.read(0)}Rt.prototype.resume=function(){var Et=this._readableState;return Et.flowing||(rt("resume"),Et.flowing=!Et.readableListening,ar(this,Et)),Et.paused=!1,this};function ar(Et,wt){wt.resumeScheduled||(wt.resumeScheduled=!0,browser$1$1.nextTick(ur,Et,wt))}function ur(Et,wt){rt("resume",wt.reading),wt.reading||Et.read(0),wt.resumeScheduled=!1,Et.emit("resume"),At(Et),wt.flowing&&!wt.reading&&Et.read(0)}Rt.prototype.pause=function(){return rt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(rt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function At(Et){var wt=Et._readableState;for(rt("flow",wt.flowing);wt.flowing&&Et.read()!==null;);}Rt.prototype.wrap=function(Et){var wt=this,Mt=this._readableState,Nt=!1;Et.on("end",function(){if(rt("wrapped end"),Mt.decoder&&!Mt.ended){var Wt=Mt.decoder.end();Wt&&Wt.length&&wt.push(Wt)}wt.push(null)}),Et.on("data",function(Wt){if(rt("wrapped data"),Mt.decoder&&(Wt=Mt.decoder.write(Wt)),!(Mt.objectMode&&Wt==null)&&!(!Mt.objectMode&&(!Wt||!Wt.length))){var or=wt.push(Wt);or||(Nt=!0,Et.pause())}});for(var Vt in Et)this[Vt]===void 0&&typeof Et[Vt]=="function"&&(this[Vt]=function(or){return function(){return Et[or].apply(Et,arguments)}}(Vt));for(var Qt=0;Qt<vt.length;Qt++)Et.on(vt[Qt],this.emit.bind(this,vt[Qt]));return this._read=function(Wt){rt("wrapped _read",Wt),Nt&&(Nt=!1,Et.resume())},this},typeof Symbol=="function"&&(Rt.prototype[Symbol.asyncIterator]=function(){return gt===void 0&&(gt=requireAsync_iterator()),gt(this)}),Object.defineProperty(Rt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Rt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Rt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(wt){this._readableState&&(this._readableState.flowing=wt)}}),Rt._fromList=xt,Object.defineProperty(Rt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function xt(Et,wt){if(wt.length===0)return null;var Mt;return wt.objectMode?Mt=wt.buffer.shift():!Et||Et>=wt.length?(wt.decoder?Mt=wt.buffer.join(""):wt.buffer.length===1?Mt=wt.buffer.first():Mt=wt.buffer.concat(wt.length),wt.buffer.clear()):Mt=wt.buffer.consume(Et,wt.decoder),Mt}function Bt(Et){var wt=Et._readableState;rt("endReadable",wt.endEmitted),wt.endEmitted||(wt.ended=!0,browser$1$1.nextTick(Lt,wt,Et))}function Lt(Et,wt){if(rt("endReadableNT",Et.endEmitted,Et.length),!Et.endEmitted&&Et.length===0&&(Et.endEmitted=!0,wt.readable=!1,wt.emit("end"),Et.autoDestroy)){var Mt=wt._writableState;(!Mt||Mt.autoDestroy&&Mt.finished)&&wt.destroy()}}typeof Symbol=="function"&&(Rt.from=function(Et,wt){return St===void 0&&(St=requireFromBrowser()),St(Rt,Et,wt)});function Xt(Et,wt){for(var Mt=0,Nt=Et.length;Mt<Nt;Mt++)if(Et[Mt]===wt)return Mt;return-1}return _stream_readable}var _stream_transform=Transform$1,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex();inherits_browserExports(Transform$1,Duplex);function afterTransform(a,o){var s=this._transformState;s.transforming=!1;var $=s.writecb;if($===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);s.writechunk=null,s.writecb=null,o!=null&&this.push(o),$(a);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function Transform$1(a){if(!(this instanceof Transform$1))return new Transform$1(a);Duplex.call(this,a),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",prefinish)}function prefinish(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(o,s){done(a,o,s)}):done(this,null,null)}Transform$1.prototype.push=function(a,o){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,a,o)};Transform$1.prototype._transform=function(a,o,s){s(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$1.prototype._write=function(a,o,s){var $=this._transformState;if($.writecb=s,$.writechunk=a,$.writeencoding=o,!$.transforming){var j=this._readableState;($.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}};Transform$1.prototype._read=function(a){var o=this._transformState;o.writechunk!==null&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0};Transform$1.prototype._destroy=function(a,o){Duplex.prototype._destroy.call(this,a,function(s){o(s)})};function done(a,o,s){if(o)return a.emit("error",o);if(s!=null&&a.push(s),a._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(a._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return a.push(null)}var _stream_passthrough=PassThrough,Transform=_stream_transform;inherits_browserExports(PassThrough,Transform);function PassThrough(a){if(!(this instanceof PassThrough))return new PassThrough(a);Transform.call(this,a)}PassThrough.prototype._transform=function(a,o,s){s(null,a)};var eos;function once(a){var o=!1;return function(){o||(o=!0,a.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(a){if(a)throw a}function isRequest(a){return a.setHeader&&typeof a.abort=="function"}function destroyer(a,o,s,$){$=once($);var j=!1;a.on("close",function(){j=!0}),eos===void 0&&(eos=endOfStream),eos(a,{readable:o,writable:s},function(et){if(et)return $(et);j=!0,$()});var _e=!1;return function(et){if(!j&&!_e){if(_e=!0,isRequest(a))return a.abort();if(typeof a.destroy=="function")return a.destroy();$(et||new ERR_STREAM_DESTROYED("pipe"))}}}function call(a){a()}function pipe(a,o){return a.pipe(o)}function popCallback(a){return!a.length||typeof a[a.length-1]!="function"?noop:a.pop()}function pipeline(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var $=popCallback(o);if(Array.isArray(o[0])&&(o=o[0]),o.length<2)throw new ERR_MISSING_ARGS("streams");var j,_e=o.map(function(et,tt){var rt=tt<o.length-1,nt=tt>0;return destroyer(et,rt,nt,function(it){j||(j=it),it&&_e.forEach(call),!rt&&(_e.forEach(call),$(j))})});return o.reduce(pipe)}var pipeline_1=pipeline;(function(a,o){o=a.exports=require_stream_readable(),o.Stream=o,o.Readable=o,o.Writable=require_stream_writable(),o.Duplex=require_stream_duplex(),o.Transform=_stream_transform,o.PassThrough=_stream_passthrough,o.finished=endOfStream,o.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports;Object.defineProperty(lib,"__esModule",{value:!0});lib.ReadableWebToNodeStream=void 0;const readable_stream_1=readableBrowserExports;class ReadableWebToNodeStream extends readable_stream_1.Readable{constructor(o){super(),this.bytesRead=0,this.released=!1,this.reader=o.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();const o=await this.pendingRead;delete this.pendingRead,o.done||this.released?this.push(null):(this.bytesRead+=o.value.length,this.push(o.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}lib.ReadableWebToNodeStream=ReadableWebToNodeStream;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fetchFromUrl=a.parseBlob=a.parseReadableStream=a.parseNodeStream=a.selectCover=a.ratingToStars=a.orderTags=a.parseFromTokenizer=a.parseBuffer=void 0;const o=browserExports,s=core$2,$=lib,j=o("music-metadata-browser:main");var _e=core$2;Object.defineProperty(a,"parseBuffer",{enumerable:!0,get:function(){return _e.parseBuffer}}),Object.defineProperty(a,"parseFromTokenizer",{enumerable:!0,get:function(){return _e.parseFromTokenizer}}),Object.defineProperty(a,"orderTags",{enumerable:!0,get:function(){return _e.orderTags}}),Object.defineProperty(a,"ratingToStars",{enumerable:!0,get:function(){return _e.ratingToStars}}),Object.defineProperty(a,"selectCover",{enumerable:!0,get:function(){return _e.selectCover}}),a.parseNodeStream=s.parseStream;async function et(it,ot,at){const ut=new $.ReadableWebToNodeStream(it),ht=await(0,a.parseNodeStream)(ut,typeof ot=="string"?{mimeType:ot}:ot,at);return await ut.close(),ht}a.parseReadableStream=et;async function tt(it,ot){it.type,it.size,it instanceof File&&it.name;const at=it.stream?it.stream():rt(it);return et(at,{mimeType:it.type,size:it.size},ot)}a.parseBlob=tt;function rt(it){const ot=new FileReader;return new ReadableStream({start(at){ot.onloadend=ut=>{let ht=ut.target.result;ht instanceof ArrayBuffer&&(ht=new Uint8Array(ht)),at.enqueue(ht),at.close()},ot.onerror=ut=>{at.close()},ot.onabort=ut=>{at.close()},ot.readAsArrayBuffer(it)}})}async function nt(it,ot){const at=await fetch(it),ut={size:parseInt(at.headers.get("Content-Length"),10),mimeType:at.headers.get("Content-Type")};if(at.ok)if(at.body){const ht=await et(at.body,ut,ot);return j("Closing HTTP-readable-stream..."),at.body.locked||await at.body.cancel(),j("HTTP-readable-stream closed."),ht}else return tt(await at.blob(),ot);else throw new Error(`HTTP error status=${at.status}: ${at.statusText}`)}a.fetchFromUrl=nt})(lib$3);var KeyboardArrowDownOutlined={},_interopRequireDefault$6=interopRequireDefaultExports;Object.defineProperty(KeyboardArrowDownOutlined,"__esModule",{value:!0});var default_1$6=KeyboardArrowDownOutlined.default=void 0,_createSvgIcon$6=_interopRequireDefault$6(requireCreateSvgIcon()),_jsxRuntime$6=jsxRuntimeExports,_default$6=(0,_createSvgIcon$6.default)((0,_jsxRuntime$6.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDownOutlined");default_1$6=KeyboardArrowDownOutlined.default=_default$6;var QueueMusicOutlined={},_interopRequireDefault$5=interopRequireDefaultExports;Object.defineProperty(QueueMusicOutlined,"__esModule",{value:!0});var default_1$5=QueueMusicOutlined.default=void 0,_createSvgIcon$5=_interopRequireDefault$5(requireCreateSvgIcon()),_jsxRuntime$5=jsxRuntimeExports,_default$5=(0,_createSvgIcon$5.default)((0,_jsxRuntime$5.jsx)("path",{d:"M22 6h-5v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6zm-7 0H3v2h12V6zm0 4H3v2h12v-2zm-4 4H3v2h8v-2z"}),"QueueMusicOutlined");default_1$5=QueueMusicOutlined.default=_default$5;var PlayCircleOutlined={},_interopRequireDefault$4=interopRequireDefaultExports;Object.defineProperty(PlayCircleOutlined,"__esModule",{value:!0});var default_1$4=PlayCircleOutlined.default=void 0,_createSvgIcon$4=_interopRequireDefault$4(requireCreateSvgIcon()),_jsxRuntime$4=jsxRuntimeExports,_default$4=(0,_createSvgIcon$4.default)((0,_jsxRuntime$4.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2.5-3.5 7-4.5-7-4.5v9z"}),"PlayCircleOutlined");default_1$4=PlayCircleOutlined.default=_default$4;var PauseCircleOutlined={},_interopRequireDefault$3=interopRequireDefaultExports;Object.defineProperty(PauseCircleOutlined,"__esModule",{value:!0});var default_1$3=PauseCircleOutlined.default=void 0,_createSvgIcon$3=_interopRequireDefault$3(requireCreateSvgIcon()),_jsxRuntime$3=jsxRuntimeExports,_default$3=(0,_createSvgIcon$3.default)((0,_jsxRuntime$3.jsx)("path",{d:"M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z"}),"PauseCircleOutlined");default_1$3=PauseCircleOutlined.default=_default$3;var SkipPrevious={},_interopRequireDefault$2=interopRequireDefaultExports;Object.defineProperty(SkipPrevious,"__esModule",{value:!0});var default_1$2=SkipPrevious.default=void 0,_createSvgIcon$2=_interopRequireDefault$2(requireCreateSvgIcon()),_jsxRuntime$2=jsxRuntimeExports,_default$2=(0,_createSvgIcon$2.default)((0,_jsxRuntime$2.jsx)("path",{d:"M6 6h2v12H6zm3.5 6 8.5 6V6z"}),"SkipPrevious");default_1$2=SkipPrevious.default=_default$2;var SkipNext={},_interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(SkipNext,"__esModule",{value:!0});var default_1$1=SkipNext.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(requireCreateSvgIcon()),_jsxRuntime$1=jsxRuntimeExports,_default$1=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"m6 18 8.5-6L6 6v12zM16 6v12h2V6h-2z"}),"SkipNext");default_1$1=SkipNext.default=_default$1;const timeShift=a=>{const o=Number((a/60).toFixed()),s=Number((a%60).toFixed());return`${o<10?"0"+o:o} : ${s<10?"0"+s:s}`},AudioViewSlider=({handleTimeRangeOnInput:a,currentTime:o,duration:s})=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Grid,{container:!0,pl:1,pr:1,children:[jsxRuntimeExports.jsx(Grid,{xs:12,p:0,children:jsxRuntimeExports.jsx(Slider$1,{size:"small",min:0,max:1e3,value:s?o/s*1e3:0,onChange:$=>a($),style:{color:"#fff"}})}),jsxRuntimeExports.jsx(Grid,{xs:6,textAlign:"left",children:jsxRuntimeExports.jsx(Typography$1,{style:{color:"#fff"},children:timeShift(o)})}),jsxRuntimeExports.jsx(Grid,{xs:6,textAlign:"right",children:jsxRuntimeExports.jsx(Typography$1,{style:{color:"#fff"},children:timeShift(s||0)})})]})}),useMetaDataListStore=create(a=>({metaDataList:[],updateMetaDataList:o=>a(()=>({metaDataList:o})),insertMetaDataList:o=>a(s=>({metaDataList:[...s.metaDataList,o]}))})),usePlayerStore=create(a=>({url:"",playing:!1,loop:!1,light:!0,muted:!1,currentTime:0,duration:0,containerIsHiding:!0,updateUrl:o=>a(()=>({url:o})),updatePlaying:o=>a(()=>({playing:o})),updateLoop:o=>a(()=>({loop:o})),updateCurrentTime:o=>a(()=>({currentTime:o})),updateDuration:o=>a(()=>({duration:o})),updateContainerIsHiding:o=>a(()=>({containerIsHiding:o}))})),AudioView=({player:a,audioViewIsDisplay:o,setAudioViewIsDisplay:s})=>{const[$,j,_e,et]=usePlayListStore(gt=>[gt.playList,gt.index,gt.total,gt.updateIndex]),[tt,rt]=reactExports.useState(null),[nt]=useMetaDataListStore(gt=>[gt.metaDataList]),[it,ot,at,ut]=usePlayerStore(gt=>[gt.playing,gt.currentTime,gt.duration,gt.updatePlaying]);reactExports.useMemo(()=>{if($){const gt=nt.filter(St=>St.path===$[j].path);gt.length===1?rt({...gt[0],size:$[j].size}):rt({title:$[j].title,artist:"",path:$[j].path})}},[j,nt,$]);const ht=()=>{a.paused?(a.play(),ut(!0)):(a.pause(),ut(!1))},pt=()=>{j+1!==_e&&(a.pause(),et(j+1))},Ct=()=>{j!==0&&(a.pause(),et(j-1))},lt=gt=>{const St=gt.target;St&&!isNaN(a.duration)&&(a.currentTime=a.duration/1e3*Number(St.value),a.play(),ut(!0))},ft=reactExports.useMemo(()=>!$||!tt||!tt.cover?"./logo.png":URL.createObjectURL(new Blob([new Uint8Array(tt.cover[0].data)],{type:"image/png"})),[$,tt]);return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Container$1,{maxWidth:!1,disableGutters:!0,sx:{width:"100%",height:"calc(100vh - var(--vh-offset, 0px))",position:"fixed",transition:"all 0.5s",background:`linear-gradient(rgba(180, 180, 180, .5), rgb(180, 180, 180, .5)), url(${ft})  no-repeat center`,backgroundSize:"cover",color:"#fff"},style:o?{bottom:"0"}:{bottom:"-100vh"},children:jsxRuntimeExports.jsx(Box$1,{sx:{backdropFilter:"blur(25px)"},children:jsxRuntimeExports.jsx(Container$1,{maxWidth:"xl",disableGutters:!0,children:jsxRuntimeExports.jsxs(Grid,{container:!0,pt:{xs:1,sm:2},pb:{xs:1,sm:2},pl:{xs:0,sm:2},pr:{xs:0,sm:2},sx:{width:"100%",height:"calc(100vh - var(--vh-offset, 0px))",justifyContent:"center",alignItems:"start"},children:[jsxRuntimeExports.jsx(Grid,{xs:6,pl:{xs:1,sm:0},children:jsxRuntimeExports.jsx(IconButton$1,{"aria-label":"close",onClick:()=>s(!1),children:jsxRuntimeExports.jsx(default_1$6,{style:{color:"#fff"}})})}),jsxRuntimeExports.jsx(Grid,{xs:6,pr:{xs:1,sm:0},textAlign:"right",children:jsxRuntimeExports.jsx(IconButton$1,{"aria-label":"PlayList",children:jsxRuntimeExports.jsx(default_1$5,{style:{color:"#fff"}})})}),jsxRuntimeExports.jsxs(Grid,{container:!0,maxWidth:"lg",xs:12,spacing:1,sx:{justifyContent:"center",alignItems:"center"},children:[jsxRuntimeExports.jsx(Grid,{sm:4,xs:12,children:jsxRuntimeExports.jsx(Box$1,{sx:{height:"100%",width:"100%"},children:jsxRuntimeExports.jsx("img",{style:{height:"100%",width:"100%"},src:ft})})}),jsxRuntimeExports.jsxs(Grid,{sm:8,xs:12,textAlign:"center",children:[jsxRuntimeExports.jsxs(Grid,{xs:12,pl:4,pr:4,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h6",component:"div",textAlign:"center",noWrap:!0,children:!$||!tt?"Not playing":tt.title}),jsxRuntimeExports.jsx(Typography$1,{variant:"body1",component:"div",textAlign:"center",noWrap:!0,children:!$||!tt?"Not playing":tt.artist}),jsxRuntimeExports.jsx(Typography$1,{variant:"body1",component:"div",textAlign:"center",noWrap:!0,children:!$||!tt?"Not playing":tt.album})]}),jsxRuntimeExports.jsx(Grid,{xs:12,pl:2,pr:2,children:jsxRuntimeExports.jsx(AudioViewSlider,{handleTimeRangeOnInput:lt,currentTime:ot,duration:at})}),jsxRuntimeExports.jsxs(Grid,{xs:12,children:[jsxRuntimeExports.jsx(IconButton$1,{"aria-label":"previous",onClick:Ct,children:jsxRuntimeExports.jsx(default_1$2,{sx:{height:48,width:48},style:{color:"#fff"}})}),jsxRuntimeExports.jsx(IconButton$1,{"aria-label":"play/pause",onClick:ht,children:it?jsxRuntimeExports.jsx(default_1$3,{sx:{height:64,width:64},style:{color:"#fff"}}):jsxRuntimeExports.jsx(default_1$4,{sx:{height:64,width:64},style:{color:"#fff"}})}),jsxRuntimeExports.jsx(IconButton$1,{"aria-label":"next",onClick:pt,children:jsxRuntimeExports.jsx(default_1$1,{sx:{height:48,width:48},style:{color:"#fff"}})})]})]})]})]})})})})})};var List={},_interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(List,"__esModule",{value:!0});var default_1=List.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List");default_1=List.default=_default;const PlayerControlSlider=({handleTimeRangeOnInput:a,currentTime:o,duration:s})=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Grid,{container:!0,pl:{xs:0,sm:1},pr:{xs:0,sm:1},sx:{justifyContent:"space-between",alignItems:"center",textAlign:"center"},children:[jsxRuntimeExports.jsx(Grid,{xs:"auto",children:jsxRuntimeExports.jsx(Typography$1,{component:"div",color:"text.secondary",sx:{display:{sm:"inline-grid",xs:"none"}},children:timeShift(o)})}),jsxRuntimeExports.jsx(Grid,{xs:!0,pl:{xs:1,sm:2},pr:{xs:1,sm:2},children:jsxRuntimeExports.jsx(Slider$1,{size:"small",min:0,max:1e3,value:s?o/s*1e3:0,onChange:$=>a($),sx:{color:"#222"}})}),jsxRuntimeExports.jsx(Grid,{xs:"auto",children:jsxRuntimeExports.jsx(Typography$1,{component:"div",color:"text.secondary",sx:{display:{sm:"inline-grid",xs:"none"}},children:timeShift(s||0)})})]})}),PlayerControl=({player:a,setAudioViewIsDisplay:o})=>{const[s,$,j,_e,et]=usePlayListStore(vt=>[vt.type,vt.playList,vt.index,vt.total,vt.updateIndex]),[tt,rt]=reactExports.useState(null),[nt]=useMetaDataListStore(vt=>[vt.metaDataList]),[it,ot,at,ut,ht,pt,Ct]=usePlayerStore(vt=>[vt.playing,vt.currentTime,vt.duration,vt.updatePlaying,vt.updateCurrentTime,vt.updateDuration,vt.updateContainerIsHiding]);reactExports.useEffect(()=>{a.ontimeupdate=()=>{ht(a.currentTime)}},[a,ht]),reactExports.useEffect(()=>{a.onloadedmetadata=()=>{a.play(),pt(a.duration),s==="video"&&Ct(!1)}},[a,s,Ct,pt]),reactExports.useEffect(()=>{if($){const vt=nt.filter(dt=>dt.path===$[j].path);vt.length===1?rt({...vt[0],size:$[j].size}):rt({title:$[j].title,artist:"",path:$[j].path})}},[j,nt,$]);const lt=()=>{a.paused?(a.play(),ut(!0)):(a.pause(),ut(!1))},ft=()=>{j+1!==_e&&(a.pause(),et(j+1))},gt=()=>{j!==0&&(a.pause(),et(j-1))},St=vt=>{const dt=vt.target;dt&&!isNaN(a.duration)&&(a.currentTime=a.duration/1e3*Number(dt.value),a.play(),ut(!0))},It=reactExports.useMemo(()=>!$||!tt||!tt.cover?"./logo.png":URL.createObjectURL(new Blob([new Uint8Array(tt.cover[0].data)],{type:"image/png"})),[$,tt]);return jsxRuntimeExports.jsx("div",{children:a&&jsxRuntimeExports.jsxs(Grid,{container:!0,sx:{justifyContent:"space-between",alignItems:"center",textAlign:"center"},children:[jsxRuntimeExports.jsx(Grid,{xs:12,children:jsxRuntimeExports.jsx(PlayerControlSlider,{handleTimeRangeOnInput:St,currentTime:ot,duration:at})}),jsxRuntimeExports.jsxs(Grid,{container:!0,xs:12,wrap:"nowrap",sx:{alignItems:"center"},children:[jsxRuntimeExports.jsx(Grid,{container:!0,xs:!0,textAlign:"left",minWidth:0,children:jsxRuntimeExports.jsx(ButtonBase$1,{sx:{height:"100%",width:"100%"},onClick:()=>{s==="audio"&&o(!0),s==="video"&&Ct(!1)},children:jsxRuntimeExports.jsxs(Grid,{container:!0,xs:!0,sx:{justifyContent:"space-between",alignItems:"center",textAlign:"left",overflow:"hidden"},wrap:"nowrap",children:[jsxRuntimeExports.jsx(Grid,{xs:"auto",textAlign:"center",children:jsxRuntimeExports.jsx(Box$1,{sx:{width:"4rem",height:"4rem"},children:jsxRuntimeExports.jsx("img",{style:{maxWidth:"4rem",maxHeight:"4rem"},src:It})})}),jsxRuntimeExports.jsxs(Grid,{xs:!0,sx:{pl:1},minWidth:0,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"body1",component:"div",noWrap:!0,children:!$||!tt?"Not playing":tt.title}),jsxRuntimeExports.jsx("div",{children:!$||!tt||jsxRuntimeExports.jsxs(Typography$1,{variant:"subtitle1",color:"text.secondary",component:"div",noWrap:!0,children:[tt.artist&&tt.artist,tt.album&&` • ${tt.album}`]})})]})]})})}),jsxRuntimeExports.jsxs(Grid,{sm:3,xs:5,children:[jsxRuntimeExports.jsx(IconButton$1,{"aria-label":"previous",onClick:gt,children:jsxRuntimeExports.jsx(default_1$2,{})}),jsxRuntimeExports.jsx(IconButton$1,{"aria-label":"play/pause",onClick:lt,children:it?jsxRuntimeExports.jsx(default_1$3,{sx:{height:38,width:38}}):jsxRuntimeExports.jsx(default_1$4,{sx:{height:38,width:38}})}),jsxRuntimeExports.jsx(IconButton$1,{"aria-label":"next",onClick:ft,children:jsxRuntimeExports.jsx(default_1$1,{})})]}),jsxRuntimeExports.jsx(Grid,{xs:!0,textAlign:"right",sx:{display:{sm:"block",xs:"none"}},children:jsxRuntimeExports.jsx(IconButton$1,{sx:{display:{sm:"inline-grid",xs:"none"}},children:jsxRuntimeExports.jsx(default_1,{})})})]})]})})},Player=({getFileData:a})=>{const[o,s,$,j,_e,et]=usePlayListStore(gt=>[gt.type,gt.playList,gt.index,gt.total,gt.updateIndex,gt.updateTotal]),[tt,rt]=useMetaDataListStore(gt=>[gt.metaDataList,gt.insertMetaDataList]),[nt,it,ot,at,ut,ht]=usePlayerStore(gt=>[gt.url,gt.loop,gt.containerIsHiding,gt.updatePlaying,gt.updateUrl,gt.updateContainerIsHiding]),pt=reactExports.useRef(null),[Ct,lt]=reactExports.useState(!1);reactExports.useMemo(()=>{s!==null&&(et(s?s.length:0),a(s[$].path).then(gt=>{console.log("开始播放",s[$].path),ut(gt["@microsoft.graph.downloadUrl"]),at(!0)}))},[s,$]),reactExports.useMemo(()=>{pt.current!==null&&(pt.current.onplay=()=>{if(o==="audio"&&s!==null){console.log("开始获取 metadata","path:",s[$].path);const gt=s[$].path;tt.some(St=>St.path===gt)?console.log("跳过获取 metadata","path:",gt):lib$3.fetchFromUrl(nt).then(St=>{if(St){if(St.common.title!==void 0){console.log("获取 metadata",St);const It={path:gt,title:St.common.title,artist:St.common.artist,albumArtist:St.common.albumartist,album:St.common.album,year:St.common.year,genre:St.common.genre,cover:St.common.picture};rt(It)}}else console.log("未能获取 metadata")})}})},[o,s,$,nt,tt,rt]);const ft=()=>{$+1===j?it?_e(0):at(!1):_e($+1)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Container$1,{maxWidth:!1,disableGutters:!0,sx:{width:"100%",height:"calc(100vh - var(--vh-offset, 0px))",position:"fixed",transition:"all 0.5s"},style:ot?{bottom:"-100vh"}:{bottom:"0"},children:jsxRuntimeExports.jsxs(Grid,{container:!0,sx:{width:"100%",height:"100%",justifyContent:"center",alignItems:"start",backgroundColor:"#000"},children:[jsxRuntimeExports.jsx(Grid,{xs:12,sx:{backgroundColor:"#ffffff9e"},children:jsxRuntimeExports.jsx(IconButton$1,{"aria-label":"close",onClick:()=>ht(!0),children:jsxRuntimeExports.jsx(default_1$6,{})})}),jsxRuntimeExports.jsx(Grid,{xs:12,sx:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("video",{width:"100%",height:"100%",src:nt,autoPlay:!0,ref:pt,onEnded:()=>ft()})})]})}),jsxRuntimeExports.jsx(Paper$1,{elevation:0,square:!0,sx:{position:"fixed",bottom:"0",width:"100%",boxShadow:"0px 4px 4px -2px rgba(0, 0, 0, 0.1), 0px -4px 4px -2px rgba(0, 0, 0, 0.1)"},style:ot?{backgroundColor:"#ffffff"}:{backgroundColor:"#ffffff9e"},children:jsxRuntimeExports.jsx(Container$1,{maxWidth:!1,disableGutters:!0,children:pt.current&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(PlayerControl,{player:pt.current,setAudioViewIsDisplay:lt}),jsxRuntimeExports.jsx(AudioView,{player:pt.current,audioViewIsDisplay:Ct,setAudioViewIsDisplay:lt})]})})})]})},App=()=>{const{instance:a,accounts:o}=useMsal(),[s,$]=reactExports.useState(["Home"]),j=at=>it(at).then(ut=>ut),{data:_e,error:et,isLoading:tt}=useSWR(s.join("/")==="Home"?"/":s.slice(1).join("/"),j,{revalidateOnFocus:!1}),rt=()=>{a.loginRedirect(loginRequest).catch(at=>{console.log(at)})},nt=()=>{a.logoutRedirect({postLogoutRedirectUri:"/"})},it=async at=>{const ut=await a.acquireTokenSilent({...loginRequest,account:o[0]});return(await getFiles(at,ut.accessToken)).value},ot=async at=>{const ut=await a.acquireTokenSilent({...loginRequest,account:o[0]});return await getFile(at,ut.accessToken)};return jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx(NavBar,{accounts:o,handleLogout:nt}),jsxRuntimeExports.jsxs(AuthenticatedTemplate,{children:[jsxRuntimeExports.jsx(Container$1,{maxWidth:"xl",sx:{pb:18},children:jsxRuntimeExports.jsx(ListView,{data:_e,error:et,isLoading:tt,folderTree:s,setFolderTree:$})}),jsxRuntimeExports.jsx(Player,{getFileData:ot})]}),jsxRuntimeExports.jsx(UnauthenticatedTemplate,{children:jsxRuntimeExports.jsxs("div",{style:{height:"20rem",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"2rem"},children:[jsxRuntimeExports.jsx("h4",{children:"Please sign in to see your files."}),jsxRuntimeExports.jsx(Button$1,{size:"large",onClick:()=>rt(),children:"Sign in"})]})})]})},index="",_300="",_400="",_500="",_700="";var vhCheck$1={exports:{}};(function(a,o){(function(s,$){a.exports=$()})(commonjsGlobal,function(){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation. All rights reserved.
	    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	    this file except in compliance with the License. You may obtain a copy of the
	    License at http://www.apache.org/licenses/LICENSE-2.0

	    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	    MERCHANTABLITY OR NON-INFRINGEMENT.

	    See the Apache Version 2.0 License for specific language governing permissions
	    and limitations under the License.
	    ***************************************************************************** */var s=function(){return s=Object.assign||function(dt){for(var yt,Rt=1,Pt=arguments.length;Rt<Pt;Rt++){yt=arguments[Rt];for(var Dt in yt)Object.prototype.hasOwnProperty.call(yt,Dt)&&(dt[Dt]=yt[Dt])}return dt},s.apply(this,arguments)};function $(){var vt=document.createElement("div");return vt.style.cssText="position: fixed; top: 0; height: 100vh; pointer-events: none;",document.documentElement.insertBefore(vt,document.documentElement.firstChild),vt}function j(vt){document.documentElement.removeChild(vt)}function _e(){var vt=$(),dt=window.innerHeight,yt=vt.offsetHeight,Rt=yt-dt;return j(vt),{vh:yt,windowHeight:dt,offset:Rt,isNeeded:Rt!==0,value:0}}function et(){}function tt(){var vt=_e();return vt.value=vt.offset,vt}function rt(){var vt=_e();return vt.value=vt.windowHeight*.01,vt}var nt=Object.freeze({noop:et,computeDifference:tt,redefineVhUnit:rt});function it(vt){return typeof vt=="string"&&vt.length>0}function ot(vt){return typeof vt=="function"}var at=Object.freeze({cssVarName:"vh-offset",redefineVh:!1,method:tt,force:!1,bind:!0,updateOnTouch:!1,onUpdate:et});function ut(vt){if(it(vt))return s({},at,{cssVarName:vt});if(typeof vt!="object")return at;var dt={force:vt.force===!0,bind:vt.bind!==!1,updateOnTouch:vt.updateOnTouch===!0,onUpdate:ot(vt.onUpdate)?vt.onUpdate:et},yt=vt.redefineVh===!0;return dt.method=nt[yt?"redefineVhUnit":"computeDifference"],dt.cssVarName=it(vt.cssVarName)?vt.cssVarName:yt?"vh":at.cssVarName,dt}var ht=!1,pt=[];try{var Ct=Object.defineProperty({},"passive",{get:function(){ht=!0}});window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{ht=!1}function lt(vt,dt){pt.push({eventName:vt,callback:dt}),window.addEventListener(vt,dt,ht?{passive:!0}:!1)}function ft(){pt.forEach(function(vt){window.removeEventListener(vt.eventName,vt.callback)}),pt=[]}function gt(vt,dt){document.documentElement.style.setProperty("--"+vt,dt.value+"px")}function St(vt,dt){return s({},vt,{unbind:ft,recompute:dt.method})}function It(vt){var dt=Object.freeze(ut(vt)),yt=St(dt.method(),dt);if(!yt.isNeeded&&!dt.force||(gt(dt.cssVarName,yt),dt.onUpdate(yt),!dt.bind))return yt;function Rt(){window.requestAnimationFrame(function(){var Pt=dt.method();gt(dt.cssVarName,Pt),dt.onUpdate(St(Pt,dt))})}return yt.unbind(),lt("orientationchange",Rt),dt.updateOnTouch&&lt("touchmove",Rt),yt}return It})})(vhCheck$1);var vhCheckExports=vhCheck$1.exports;const vhCheck=getDefaultExportFromCjs(vhCheckExports),msalInstance=new PublicClientApplication(msalConfig);vhCheck();client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(MsalProvider,{instance:msalInstance,children:jsxRuntimeExports.jsx(App,{})})}));
